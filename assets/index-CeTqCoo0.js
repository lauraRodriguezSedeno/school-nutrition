var aN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Hie=aN((Yn,Xn)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function o_(t,e){const n=new Set(t.split(","));return e?i=>n.has(i.toLowerCase()):i=>n.has(i)}const pt={},ya=[],ai=()=>{},lN=()=>!1,Sf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),a_=t=>t.startsWith("onUpdate:"),Bt=Object.assign,l_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},cN=Object.prototype.hasOwnProperty,Ye=(t,e)=>cN.call(t,e),Ie=Array.isArray,ba=t=>Tf(t)==="[object Map]",yC=t=>Tf(t)==="[object Set]",De=t=>typeof t=="function",At=t=>typeof t=="string",el=t=>typeof t=="symbol",ft=t=>t!==null&&typeof t=="object",bC=t=>(ft(t)||De(t))&&De(t.then)&&De(t.catch),wC=Object.prototype.toString,Tf=t=>wC.call(t),uN=t=>Tf(t).slice(8,-1),SC=t=>Tf(t)==="[object Object]",c_=t=>At(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Xl=o_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ef=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},hN=/-(\w)/g,di=Ef(t=>t.replace(hN,(e,n)=>n?n.toUpperCase():"")),dN=/\B([A-Z])/g,tl=Ef(t=>t.replace(dN,"-$1").toLowerCase()),ls=Ef(t=>t.charAt(0).toUpperCase()+t.slice(1)),im=Ef(t=>t?`on${ls(t)}`:""),Tr=(t,e)=>!Object.is(t,e),sm=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},sd=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},fN=t=>{const e=parseFloat(t);return isNaN(e)?t:e},gN=t=>{const e=At(t)?Number(t):NaN;return isNaN(e)?t:e};let h0;const TC=()=>h0||(h0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function u_(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=At(i)?_N(i):u_(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(At(t)||ft(t))return t}const mN=/;(?![^(]*\))/g,pN=/:([^]+)/,vN=/\/\*[^]*?\*\//g;function _N(t){const e={};return t.replace(vN,"").split(mN).forEach(n=>{if(n){const i=n.split(pN);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function h_(t){let e="";if(At(t))e=t;else if(Ie(t))for(let n=0;n<t.length;n++){const i=h_(t[n]);i&&(e+=i+" ")}else if(ft(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const yN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bN=o_(yN);function EC(t){return!!t||t===""}const IC=t=>At(t)?t:t==null?"":Ie(t)||ft(t)&&(t.toString===wC||!De(t.toString))?JSON.stringify(t,CC,2):String(t),CC=(t,e)=>e&&e.__v_isRef?CC(t,e.value):ba(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[rm(i,r)+" =>"]=s,n),{})}:yC(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>rm(n))}:el(e)?rm(e):ft(e)&&!Ie(e)&&!SC(e)?String(e):e,rm=(t,e="")=>{var n;return el(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zn;class xC{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=zn,!e&&zn&&(this.index=(zn.scopes||(zn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=zn;try{return zn=this,e()}finally{zn=n}}}on(){zn=this}off(){zn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function If(t){return new xC(t)}function wN(t,e=zn){e&&e.active&&e.effects.push(t)}function SN(){return zn}function Bn(t){zn&&zn.cleanups.push(t)}let ho;class d_{constructor(e,n,i,s){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,wN(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,$o();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(TN(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Uo()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=dr,n=ho;try{return dr=!0,ho=this,this._runnings++,d0(this),this.fn()}finally{f0(this),this._runnings--,ho=n,dr=e}}stop(){var e;this.active&&(d0(this),f0(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function TN(t){return t.value}function d0(t){t._trackId++,t._depsLength=0}function f0(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)AC(t.deps[e],t);t.deps.length=t._depsLength}}function AC(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let dr=!0,pp=0;const PC=[];function $o(){PC.push(dr),dr=!1}function Uo(){const t=PC.pop();dr=t===void 0?!0:t}function f_(){pp++}function g_(){for(pp--;!pp&&vp.length;)vp.shift()()}function kC(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&AC(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const vp=[];function RC(t,e,n){f_();for(const i of t.keys()){let s;i._dirtyLevel<e&&(s??(s=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s??(s=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&vp.push(i.scheduler)))}g_()}const OC=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},rd=new WeakMap,fo=Symbol(""),_p=Symbol("");function Ln(t,e,n){if(dr&&ho){let i=rd.get(t);i||rd.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=OC(()=>i.delete(n))),kC(ho,s)}}function Rs(t,e,n,i,s,r){const o=rd.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Ie(t)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||!el(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Ie(t)?c_(n)&&a.push(o.get("length")):(a.push(o.get(fo)),ba(t)&&a.push(o.get(_p)));break;case"delete":Ie(t)||(a.push(o.get(fo)),ba(t)&&a.push(o.get(_p)));break;case"set":ba(t)&&a.push(o.get(fo));break}f_();for(const l of a)l&&RC(l,4);g_()}function EN(t,e){var n;return(n=rd.get(t))==null?void 0:n.get(e)}const IN=o_("__proto__,__v_isRef,__isVue"),DC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(el)),g0=CN();function CN(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ce(this);for(let r=0,o=this.length;r<o;r++)Ln(i,"get",r+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Ce)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){$o(),f_();const i=Ce(this)[e].apply(this,n);return g_(),Uo(),i}}),t}function xN(t){const e=Ce(this);return Ln(e,"has",t),e.hasOwnProperty(t)}class MC{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?$N:FC:r?VC:LC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Ie(e);if(!s){if(o&&Ye(g0,n))return Reflect.get(g0,n,i);if(n==="hasOwnProperty")return xN}const a=Reflect.get(e,n,i);return(el(n)?DC.has(n):IN(n))||(s||Ln(e,"get",n),r)?a:Pt(a)?o&&c_(n)?a:a.value:ft(a)?s?uu(a):gn(a):a}}class NC extends MC{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=Ra(r);if(!od(i)&&!Ra(i)&&(r=Ce(r),i=Ce(i)),!Ie(e)&&Pt(r)&&!Pt(i))return l?!1:(r.value=i,!0)}const o=Ie(e)&&c_(n)?Number(n)<e.length:Ye(e,n),a=Reflect.set(e,n,i,s);return e===Ce(s)&&(o?Tr(i,r)&&Rs(e,"set",n,i):Rs(e,"add",n,i)),a}deleteProperty(e,n){const i=Ye(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Rs(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!el(n)||!DC.has(n))&&Ln(e,"has",n),i}ownKeys(e){return Ln(e,"iterate",Ie(e)?"length":fo),Reflect.ownKeys(e)}}class AN extends MC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const PN=new NC,kN=new AN,RN=new NC(!0),m_=t=>t,Cf=t=>Reflect.getPrototypeOf(t);function Zu(t,e,n=!1,i=!1){t=t.__v_raw;const s=Ce(t),r=Ce(e);n||(Tr(e,r)&&Ln(s,"get",e),Ln(s,"get",r));const{has:o}=Cf(s),a=i?m_:n?__:bc;if(o.call(s,e))return a(t.get(e));if(o.call(s,r))return a(t.get(r));t!==s&&t.get(e)}function eh(t,e=!1){const n=this.__v_raw,i=Ce(n),s=Ce(t);return e||(Tr(t,s)&&Ln(i,"has",t),Ln(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function th(t,e=!1){return t=t.__v_raw,!e&&Ln(Ce(t),"iterate",fo),Reflect.get(t,"size",t)}function m0(t){t=Ce(t);const e=Ce(this);return Cf(e).has.call(e,t)||(e.add(t),Rs(e,"add",t,t)),this}function p0(t,e){e=Ce(e);const n=Ce(this),{has:i,get:s}=Cf(n);let r=i.call(n,t);r||(t=Ce(t),r=i.call(n,t));const o=s.call(n,t);return n.set(t,e),r?Tr(e,o)&&Rs(n,"set",t,e):Rs(n,"add",t,e),this}function v0(t){const e=Ce(this),{has:n,get:i}=Cf(e);let s=n.call(e,t);s||(t=Ce(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&Rs(e,"delete",t,void 0),r}function _0(){const t=Ce(this),e=t.size!==0,n=t.clear();return e&&Rs(t,"clear",void 0,void 0),n}function nh(t,e){return function(i,s){const r=this,o=r.__v_raw,a=Ce(o),l=e?m_:t?__:bc;return!t&&Ln(a,"iterate",fo),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function ih(t,e,n){return function(...i){const s=this.__v_raw,r=Ce(s),o=ba(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),u=n?m_:e?__:bc;return!e&&Ln(r,"iterate",l?_p:fo),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Gs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ON(){const t={get(r){return Zu(this,r)},get size(){return th(this)},has:eh,add:m0,set:p0,delete:v0,clear:_0,forEach:nh(!1,!1)},e={get(r){return Zu(this,r,!1,!0)},get size(){return th(this)},has:eh,add:m0,set:p0,delete:v0,clear:_0,forEach:nh(!1,!0)},n={get(r){return Zu(this,r,!0)},get size(){return th(this,!0)},has(r){return eh.call(this,r,!0)},add:Gs("add"),set:Gs("set"),delete:Gs("delete"),clear:Gs("clear"),forEach:nh(!0,!1)},i={get(r){return Zu(this,r,!0,!0)},get size(){return th(this,!0)},has(r){return eh.call(this,r,!0)},add:Gs("add"),set:Gs("set"),delete:Gs("delete"),clear:Gs("clear"),forEach:nh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=ih(r,!1,!1),n[r]=ih(r,!0,!1),e[r]=ih(r,!1,!0),i[r]=ih(r,!0,!0)}),[t,n,e,i]}const[DN,MN,NN,LN]=ON();function p_(t,e){const n=e?t?LN:NN:t?MN:DN;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Ye(n,s)&&s in i?n:i,s,r)}const VN={get:p_(!1,!1)},FN={get:p_(!1,!0)},BN={get:p_(!0,!1)},LC=new WeakMap,VC=new WeakMap,FC=new WeakMap,$N=new WeakMap;function UN(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jN(t){return t.__v_skip||!Object.isExtensible(t)?0:UN(uN(t))}function gn(t){return Ra(t)?t:v_(t,!1,PN,VN,LC)}function BC(t){return v_(t,!1,RN,FN,VC)}function uu(t){return v_(t,!0,kN,BN,FC)}function v_(t,e,n,i,s){if(!ft(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=jN(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return s.set(t,a),a}function wa(t){return Ra(t)?wa(t.__v_raw):!!(t&&t.__v_isReactive)}function Ra(t){return!!(t&&t.__v_isReadonly)}function od(t){return!!(t&&t.__v_isShallow)}function $C(t){return wa(t)||Ra(t)}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function UC(t){return Object.isExtensible(t)&&sd(t,"__v_skip",!0),t}const bc=t=>ft(t)?gn(t):t,__=t=>ft(t)?uu(t):t;class jC{constructor(e,n,i,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new d_(()=>e(this._value),()=>jh(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Ce(this);return(!e._cacheable||e.effect.dirty)&&Tr(e._value,e._value=e.effect.run())&&jh(e,4),zC(e),e.effect._dirtyLevel>=2&&jh(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function zN(t,e,n=!1){let i,s;const r=De(t);return r?(i=t,s=ai):(i=t.get,s=t.set),new jC(i,s,r||!s,n)}function zC(t){var e;dr&&ho&&(t=Ce(t),kC(ho,(e=t.dep)!=null?e:t.dep=OC(()=>t.dep=void 0,t instanceof jC?t:void 0)))}function jh(t,e=4,n){t=Ce(t);const i=t.dep;i&&RC(i,e)}function Pt(t){return!!(t&&t.__v_isRef===!0)}function ae(t){return HC(t,!1)}function fe(t){return HC(t,!0)}function HC(t,e){return Pt(t)?t:new HN(t,e)}class HN{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ce(e),this._value=n?e:bc(e)}get value(){return zC(this),this._value}set value(e){const n=this.__v_isShallow||od(e)||Ra(e);e=n?e:Ce(e),Tr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:bc(e),jh(this,4))}}function Rt(t){return Pt(t)?t.value:t}const WN={get:(t,e,n)=>Rt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Pt(s)&&!Pt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function WC(t){return wa(t)?t:new Proxy(t,WN)}function y_(t){const e=Ie(t)?new Array(t.length):{};for(const n in t)e[n]=qC(t,n);return e}class qN{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return EN(Ce(this._object),this._key)}}class GN{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ne(t,e,n){return Pt(t)?t:De(t)?new GN(t):ft(t)&&arguments.length>1?qC(t,e,n):ae(t)}function qC(t,e,n){const i=t[e];return Pt(i)?i:new qN(t,e,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fr(t,e,n,i){try{return i?t(...i):t()}catch(s){xf(s,e,n)}}function ui(t,e,n,i){if(De(t)){const r=fr(t,e,n,i);return r&&bC(r)&&r.catch(o=>{xf(o,e,n)}),r}const s=[];for(let r=0;r<t.length;r++)s.push(ui(t[r],e,n,i));return s}function xf(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){fr(l,null,10,[t,o,a]);return}}KN(t,n,s,i)}function KN(t,e,n,i=!0){console.error(t)}let wc=!1,yp=!1;const mn=[];let ji=0;const Sa=[];let Zs=null,to=0;const GC=Promise.resolve();let b_=null;function $t(t){const e=b_||GC;return t?e.then(this?t.bind(this):t):e}function YN(t){let e=ji+1,n=mn.length;for(;e<n;){const i=e+n>>>1,s=mn[i],r=Sc(s);r<t||r===t&&s.pre?e=i+1:n=i}return e}function w_(t){(!mn.length||!mn.includes(t,wc&&t.allowRecurse?ji+1:ji))&&(t.id==null?mn.push(t):mn.splice(YN(t.id),0,t),KC())}function KC(){!wc&&!yp&&(yp=!0,b_=GC.then(XC))}function XN(t){const e=mn.indexOf(t);e>ji&&mn.splice(e,1)}function QN(t){Ie(t)?Sa.push(...t):(!Zs||!Zs.includes(t,t.allowRecurse?to+1:to))&&Sa.push(t),KC()}function y0(t,e,n=wc?ji+1:0){for(;n<mn.length;n++){const i=mn[n];if(i&&i.pre){if(t&&i.id!==t.uid)continue;mn.splice(n,1),n--,i()}}}function YC(t){if(Sa.length){const e=[...new Set(Sa)].sort((n,i)=>Sc(n)-Sc(i));if(Sa.length=0,Zs){Zs.push(...e);return}for(Zs=e,to=0;to<Zs.length;to++)Zs[to]();Zs=null,to=0}}const Sc=t=>t.id==null?1/0:t.id,JN=(t,e)=>{const n=Sc(t)-Sc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function XC(t){yp=!1,wc=!0,mn.sort(JN);try{for(ji=0;ji<mn.length;ji++){const e=mn[ji];e&&e.active!==!1&&fr(e,null,14)}}finally{ji=0,mn.length=0,YC(),wc=!1,b_=null,(mn.length||Sa.length)&&XC()}}function ZN(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||pt;let s=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=i[u]||pt;d&&(s=n.map(f=>At(f)?f.trim():f)),h&&(s=n.map(fN))}let a,l=i[a=im(e)]||i[a=im(di(e))];!l&&r&&(l=i[a=im(tl(e))]),l&&ui(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ui(c,t,6,s)}}function QC(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!De(t)){const l=c=>{const u=QC(c,e,!0);u&&(a=!0,Bt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(ft(t)&&i.set(t,null),null):(Ie(r)?r.forEach(l=>o[l]=null):Bt(o,r),ft(t)&&i.set(t,o),o)}function Af(t,e){return!t||!Sf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ye(t,e[0].toLowerCase()+e.slice(1))||Ye(t,tl(e))||Ye(t,e))}let En=null,JC=null;function ad(t){const e=En;return En=t,JC=t&&t.type.__scopeId||null,e}function oe(t,e=En,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&D0(-1);const r=ad(e);let o;try{o=t(...s)}finally{ad(r),i._d&&D0(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function om(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:d,setupState:f,ctx:g,inheritAttrs:m}=t;let p,v;const y=ad(t);try{if(n.shapeFlag&4){const b=s||i,S=b;p=Ui(u.call(S,b,h,r,f,d,g)),v=l}else{const b=e;p=Ui(b.length>1?b(r,{attrs:l,slots:a,emit:c}):b(r,null)),v=e.props?l:eL(l)}}catch(b){ec.length=0,xf(b,t,1),p=_(hi)}let w=p;if(v&&m!==!1){const b=Object.keys(v),{shapeFlag:S}=w;b.length&&S&7&&(o&&b.some(a_)&&(v=tL(v,o)),w=Ns(w,v))}return n.dirs&&(w=Ns(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),p=w,ad(y),p}const eL=t=>{let e;for(const n in t)(n==="class"||n==="style"||Sf(n))&&((e||(e={}))[n]=t[n]);return e},tL=(t,e)=>{const n={};for(const i in t)(!a_(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function nL(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?b0(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==i[d]&&!Af(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?b0(i,o,c):!0:!!o;return!1}function b0(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!Af(n,r))return!0}return!1}function iL({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const S_="components",sL="directives";function T_(t,e){return E_(S_,t,!0,e)||t}const ZC=Symbol.for("v-ndc");function rL(t){return At(t)?E_(S_,t,!1)||t:t||ZC}function $s(t){return E_(sL,t)}function E_(t,e,n=!0,i=!1){const s=En||nn;if(s){const r=s.type;if(t===S_){const a=YL(r,!1);if(a&&(a===e||a===di(e)||a===ls(di(e))))return r}const o=w0(s[t]||r[t],e)||w0(s.appContext[t],e);return!o&&i?r:o}}function w0(t,e){return t&&(t[e]||t[di(e)]||t[ls(di(e))])}const oL=t=>t.__isSuspense;function aL(t,e){e&&e.pendingBranch?Ie(t)?e.effects.push(...t):e.effects.push(t):QN(t)}const lL=Symbol.for("v-scx"),cL=()=>Ve(lL);function Vn(t,e){return I_(t,null,e)}const sh={};function ve(t,e,n){return I_(t,e,n)}function I_(t,e,{immediate:n,deep:i,flush:s,once:r,onTrack:o,onTrigger:a}=pt){if(e&&r){const E=e;e=(...T)=>{E(...T),S()}}const l=nn,c=E=>i===!0?E:so(E,i===!1?1:void 0);let u,h=!1,d=!1;if(Pt(t)?(u=()=>t.value,h=od(t)):wa(t)?(u=()=>c(t),h=!0):Ie(t)?(d=!0,h=t.some(E=>wa(E)||od(E)),u=()=>t.map(E=>{if(Pt(E))return E.value;if(wa(E))return c(E);if(De(E))return fr(E,l,2)})):De(t)?e?u=()=>fr(t,l,2):u=()=>(f&&f(),ui(t,l,3,[g])):u=ai,e&&i){const E=u;u=()=>so(E())}let f,g=E=>{f=w.onStop=()=>{fr(E,l,4),f=w.onStop=void 0}},m;if(Mf)if(g=ai,e?n&&ui(e,l,3,[u(),d?[]:void 0,g]):u(),s==="sync"){const E=cL();m=E.__watcherHandles||(E.__watcherHandles=[])}else return ai;let p=d?new Array(t.length).fill(sh):sh;const v=()=>{if(!(!w.active||!w.dirty))if(e){const E=w.run();(i||h||(d?E.some((T,C)=>Tr(T,p[C])):Tr(E,p)))&&(f&&f(),ui(e,l,3,[E,p===sh?void 0:d&&p[0]===sh?[]:p,g]),p=E)}else w.run()};v.allowRecurse=!!e;let y;s==="sync"?y=v:s==="post"?y=()=>An(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),y=()=>w_(v));const w=new d_(u,ai,y),b=SN(),S=()=>{w.stop(),b&&l_(b.effects,w)};return e?n?v():p=w.run():s==="post"?An(w.run.bind(w),l&&l.suspense):w.run(),m&&m.push(S),S}function uL(t,e,n){const i=this.proxy,s=At(t)?t.includes(".")?ex(i,t):()=>i[t]:t.bind(i,i);let r;De(e)?r=e:(r=e.handler,n=e);const o=fu(this),a=I_(s,r.bind(i),n);return o(),a}function ex(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function so(t,e,n=0,i){if(!ft(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(i=i||new Set,i.has(t))return t;if(i.add(t),Pt(t))so(t.value,e,n,i);else if(Ie(t))for(let s=0;s<t.length;s++)so(t[s],e,n,i);else if(yC(t)||ba(t))t.forEach(s=>{so(s,e,n,i)});else if(SC(t))for(const s in t)so(t[s],e,n,i);return t}function xn(t,e){if(En===null)return t;const n=Nf(En)||En.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,a,l=pt]=e[s];r&&(De(r)&&(r={mounted:r,updated:r}),r.deep&&so(o),i.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function zr(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&($o(),ui(l,n,8,[t.el,a,t,e]),Uo())}}const er=Symbol("_leaveCb"),rh=Symbol("_enterCb");function tx(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _i(()=>{t.isMounted=!0}),Sn(()=>{t.isUnmounting=!0}),t}const ni=[Function,Array],nx={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ni,onEnter:ni,onAfterEnter:ni,onEnterCancelled:ni,onBeforeLeave:ni,onLeave:ni,onAfterLeave:ni,onLeaveCancelled:ni,onBeforeAppear:ni,onAppear:ni,onAfterAppear:ni,onAppearCancelled:ni},hL={name:"BaseTransition",props:nx,setup(t,{slots:e}){const n=Df(),i=tx();return()=>{const s=e.default&&C_(e.default(),!0);if(!s||!s.length)return;let r=s[0];if(s.length>1){for(const d of s)if(d.type!==hi){r=d;break}}const o=Ce(t),{mode:a}=o;if(i.isLeaving)return am(r);const l=S0(r);if(!l)return am(r);const c=Tc(l,o,i,n);Ec(l,c);const u=n.subTree,h=u&&S0(u);if(h&&h.type!==hi&&!no(l,h)){const d=Tc(h,o,i,n);if(Ec(h,d),a==="out-in")return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},am(r);a==="in-out"&&l.type!==hi&&(d.delayLeave=(f,g,m)=>{const p=ix(i,h);p[String(h.key)]=h,f[er]=()=>{g(),f[er]=void 0,delete c.delayedLeave},c.delayedLeave=m})}return r}}},dL=hL;function ix(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Tc(t,e,n,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:m,onAppear:p,onAfterAppear:v,onAppearCancelled:y}=e,w=String(t.key),b=ix(n,t),S=(C,P)=>{C&&ui(C,i,9,P)},E=(C,P)=>{const R=P[1];S(C,P),Ie(C)?C.every(D=>D.length<=1)&&R():C.length<=1&&R()},T={mode:r,persisted:o,beforeEnter(C){let P=a;if(!n.isMounted)if(s)P=m||a;else return;C[er]&&C[er](!0);const R=b[w];R&&no(t,R)&&R.el[er]&&R.el[er](),S(P,[C])},enter(C){let P=l,R=c,D=u;if(!n.isMounted)if(s)P=p||l,R=v||c,D=y||u;else return;let k=!1;const O=C[rh]=V=>{k||(k=!0,V?S(D,[C]):S(R,[C]),T.delayedLeave&&T.delayedLeave(),C[rh]=void 0)};P?E(P,[C,O]):O()},leave(C,P){const R=String(t.key);if(C[rh]&&C[rh](!0),n.isUnmounting)return P();S(h,[C]);let D=!1;const k=C[er]=O=>{D||(D=!0,P(),O?S(g,[C]):S(f,[C]),C[er]=void 0,b[R]===t&&delete b[R])};b[R]=t,d?E(d,[C,k]):k()},clone(C){return Tc(C,e,n,i)}};return T}function am(t){if(Pf(t))return t=Ns(t),t.children=null,t}function S0(t){return Pf(t)?t.children?t.children[0]:void 0:t}function Ec(t,e){t.shapeFlag&6&&t.component?Ec(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function C_(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Oe?(o.patchFlag&128&&s++,i=i.concat(C_(o.children,e,a))):(e||o.type!==hi)&&i.push(a!=null?Ns(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function cs(t,e){return De(t)?Bt({name:t.name},e,{setup:t}):t}const zh=t=>!!t.type.__asyncLoader,Pf=t=>t.type.__isKeepAlive;function sx(t,e){ox(t,"a",e)}function rx(t,e){ox(t,"da",e)}function ox(t,e,n=nn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(kf(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Pf(s.parent.vnode)&&fL(i,e,n,s),s=s.parent}}function fL(t,e,n,i){const s=kf(e,t,i,!0);cx(()=>{l_(i[e],s)},n)}function kf(t,e,n=nn,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;$o();const a=fu(n),l=ui(e,n,t,o);return a(),Uo(),l});return i?s.unshift(r):s.push(r),r}}const Us=t=>(e,n=nn)=>(!Mf||t==="sp")&&kf(t,(...i)=>e(...i),n),Rf=Us("bm"),_i=Us("m"),ax=Us("bu"),lx=Us("u"),Sn=Us("bum"),cx=Us("um"),gL=Us("sp"),mL=Us("rtg"),pL=Us("rtc");function vL(t,e=nn){kf("ec",t,e)}function x_(t,e,n,i){let s;const r=n&&n[i];if(Ie(t)||At(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,r&&r[o])}else if(ft(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=e(t[c],c,a,r&&r[a])}}else s=[];return n&&(n[i]=s),s}const bp=t=>t?wx(t)?Nf(t)||t.proxy:bp(t.parent):null,Ql=Bt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>bp(t.parent),$root:t=>bp(t.root),$emit:t=>t.emit,$options:t=>A_(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,w_(t.update)}),$nextTick:t=>t.n||(t.n=$t.bind(t.proxy)),$watch:t=>uL.bind(t)}),lm=(t,e)=>t!==pt&&!t.__isScriptSetup&&Ye(t,e),_L={get({_:t},e){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(lm(i,e))return o[e]=1,i[e];if(s!==pt&&Ye(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&Ye(c,e))return o[e]=3,r[e];if(n!==pt&&Ye(n,e))return o[e]=4,n[e];wp&&(o[e]=0)}}const u=Ql[e];let h,d;if(u)return e==="$attrs"&&Ln(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==pt&&Ye(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,Ye(d,e))return d[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return lm(s,e)?(s[e]=n,!0):i!==pt&&Ye(i,e)?(i[e]=n,!0):Ye(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||t!==pt&&Ye(t,o)||lm(e,o)||(a=r[0])&&Ye(a,o)||Ye(i,o)||Ye(Ql,o)||Ye(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ye(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function T0(t){return Ie(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let wp=!0;function yL(t){const e=A_(t),n=t.proxy,i=t.ctx;wp=!1,e.beforeCreate&&E0(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:m,deactivated:p,beforeDestroy:v,beforeUnmount:y,destroyed:w,unmounted:b,render:S,renderTracked:E,renderTriggered:T,errorCaptured:C,serverPrefetch:P,expose:R,inheritAttrs:D,components:k,directives:O,filters:V}=e;if(c&&bL(c,i,null),o)for(const K in o){const L=o[K];De(L)&&(i[K]=L.bind(n))}if(s){const K=s.call(n,n);ft(K)&&(t.data=gn(K))}if(wp=!0,r)for(const K in r){const L=r[K],z=De(L)?L.bind(n,n):De(L.get)?L.get.bind(n,n):ai,$=!De(L)&&De(L.set)?L.set.bind(n):ai,W=I({get:z,set:$});Object.defineProperty(i,K,{enumerable:!0,configurable:!0,get:()=>W.value,set:Y=>W.value=Y})}if(a)for(const K in a)ux(a[K],i,n,K);if(l){const K=De(l)?l.call(n):l;Reflect.ownKeys(K).forEach(L=>{ht(L,K[L])})}u&&E0(u,t,"c");function X(K,L){Ie(L)?L.forEach(z=>K(z.bind(n))):L&&K(L.bind(n))}if(X(Rf,h),X(_i,d),X(ax,f),X(lx,g),X(sx,m),X(rx,p),X(vL,C),X(pL,E),X(mL,T),X(Sn,y),X(cx,b),X(gL,P),Ie(R))if(R.length){const K=t.exposed||(t.exposed={});R.forEach(L=>{Object.defineProperty(K,L,{get:()=>n[L],set:z=>n[L]=z})})}else t.exposed||(t.exposed={});S&&t.render===ai&&(t.render=S),D!=null&&(t.inheritAttrs=D),k&&(t.components=k),O&&(t.directives=O)}function bL(t,e,n=ai){Ie(t)&&(t=Sp(t));for(const i in t){const s=t[i];let r;ft(s)?"default"in s?r=Ve(s.from||i,s.default,!0):r=Ve(s.from||i):r=Ve(s),Pt(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function E0(t,e,n){ui(Ie(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function ux(t,e,n,i){const s=i.includes(".")?ex(n,i):()=>n[i];if(At(t)){const r=e[t];De(r)&&ve(s,r)}else if(De(t))ve(s,t.bind(n));else if(ft(t))if(Ie(t))t.forEach(r=>ux(r,e,n,i));else{const r=De(t.handler)?t.handler.bind(n):e[t.handler];De(r)&&ve(s,r,t)}}function A_(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>ld(l,c,o,!0)),ld(l,e,o)),ft(e)&&r.set(e,l),l}function ld(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&ld(t,r,n,!0),s&&s.forEach(o=>ld(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=wL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const wL={data:I0,props:C0,emits:C0,methods:Ul,computed:Ul,beforeCreate:Tn,created:Tn,beforeMount:Tn,mounted:Tn,beforeUpdate:Tn,updated:Tn,beforeDestroy:Tn,beforeUnmount:Tn,destroyed:Tn,unmounted:Tn,activated:Tn,deactivated:Tn,errorCaptured:Tn,serverPrefetch:Tn,components:Ul,directives:Ul,watch:TL,provide:I0,inject:SL};function I0(t,e){return e?t?function(){return Bt(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function SL(t,e){return Ul(Sp(t),Sp(e))}function Sp(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Tn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ul(t,e){return t?Bt(Object.create(null),t,e):e}function C0(t,e){return t?Ie(t)&&Ie(e)?[...new Set([...t,...e])]:Bt(Object.create(null),T0(t),T0(e??{})):e}function TL(t,e){if(!t)return e;if(!e)return t;const n=Bt(Object.create(null),t);for(const i in e)n[i]=Tn(t[i],e[i]);return n}function hx(){return{app:null,config:{isNativeTag:lN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let EL=0;function IL(t,e){return function(i,s=null){De(i)||(i=Bt({},i)),s!=null&&!ft(s)&&(s=null);const r=hx(),o=new WeakSet;let a=!1;const l=r.app={_uid:EL++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:QL,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&De(c.install)?(o.add(c),c.install(l,...u)):De(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const d=_(i,s);return d.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),u&&e?e(d,c):t(d,c,h),a=!0,l._container=c,c.__vue_app__=l,Nf(d.component)||d.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){const u=Jl;Jl=l;try{return c()}finally{Jl=u}}};return l}}let Jl=null;function ht(t,e){if(nn){let n=nn.provides;const i=nn.parent&&nn.parent.provides;i===n&&(n=nn.provides=Object.create(i)),n[t]=e}}function Ve(t,e,n=!1){const i=nn||En;if(i||Jl){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Jl._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&De(e)?e.call(i&&i.proxy):e}}function CL(t,e,n,i=!1){const s={},r={};sd(r,Of,1),t.propsDefaults=Object.create(null),dx(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:BC(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function xL(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=Ce(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Af(t.emitsOptions,d))continue;const f=e[d];if(l)if(Ye(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const g=di(d);s[g]=Tp(l,a,g,f,t,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{dx(t,e,s,r)&&(c=!0);let u;for(const h in a)(!e||!Ye(e,h)&&((u=tl(h))===h||!Ye(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Tp(l,a,h,void 0,t,!0)):delete s[h]);if(r!==a)for(const h in r)(!e||!Ye(e,h))&&(delete r[h],c=!0)}c&&Rs(t,"set","$attrs")}function dx(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Xl(l))continue;const c=e[l];let u;s&&Ye(s,u=di(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Af(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=Ce(n),c=a||pt;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Tp(s,l,h,c[h],t,!Ye(c,h))}}return o}function Tp(t,e,n,i,s,r){const o=t[n];if(o!=null){const a=Ye(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&De(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=fu(s);i=c[n]=l.call(null,e),u()}}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===tl(n))&&(i=!0))}return i}function fx(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!De(t)){const u=h=>{l=!0;const[d,f]=fx(h,e,!0);Bt(o,d),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return ft(t)&&i.set(t,ya),ya;if(Ie(r))for(let u=0;u<r.length;u++){const h=di(r[u]);x0(h)&&(o[h]=pt)}else if(r)for(const u in r){const h=di(u);if(x0(h)){const d=r[u],f=o[h]=Ie(d)||De(d)?{type:d}:Bt({},d);if(f){const g=k0(Boolean,f.type),m=k0(String,f.type);f[0]=g>-1,f[1]=m<0||g<m,(g>-1||Ye(f,"default"))&&a.push(h)}}}const c=[o,a];return ft(t)&&i.set(t,c),c}function x0(t){return t[0]!=="$"&&!Xl(t)}function A0(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function P0(t,e){return A0(t)===A0(e)}function k0(t,e){return Ie(e)?e.findIndex(n=>P0(n,t)):De(e)&&P0(e,t)?0:-1}const gx=t=>t[0]==="_"||t==="$stable",P_=t=>Ie(t)?t.map(Ui):[Ui(t)],AL=(t,e,n)=>{if(e._n)return e;const i=oe((...s)=>P_(e(...s)),n);return i._c=!1,i},mx=(t,e,n)=>{const i=t._ctx;for(const s in t){if(gx(s))continue;const r=t[s];if(De(r))e[s]=AL(s,r,i);else if(r!=null){const o=P_(r);e[s]=()=>o}}},px=(t,e)=>{const n=P_(e);t.slots.default=()=>n},PL=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ce(e),sd(e,"_",n)):mx(e,t.slots={})}else t.slots={},e&&px(t,e);sd(t.slots,Of,1)},kL=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=pt;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(Bt(s,e),!n&&a===1&&delete s._):(r=!e.$stable,mx(e,s)),o=e}else e&&(px(t,e),o={default:1});if(r)for(const a in s)!gx(a)&&o[a]==null&&delete s[a]};function Ep(t,e,n,i,s=!1){if(Ie(t)){t.forEach((d,f)=>Ep(d,e&&(Ie(e)?e[f]:e),n,i,s));return}if(zh(i)&&!s)return;const r=i.shapeFlag&4?Nf(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===pt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(At(c)?(u[c]=null,Ye(h,c)&&(h[c]=null)):Pt(c)&&(c.value=null)),De(l))fr(l,a,12,[o,u]);else{const d=At(l),f=Pt(l);if(d||f){const g=()=>{if(t.f){const m=d?Ye(h,l)?h[l]:u[l]:l.value;s?Ie(m)&&l_(m,r):Ie(m)?m.includes(r)||m.push(r):d?(u[l]=[r],Ye(h,l)&&(h[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else d?(u[l]=o,Ye(h,l)&&(h[l]=o)):f&&(l.value=o,t.k&&(u[t.k]=o))};o?(g.id=-1,An(g,n)):g()}}}const An=aL;function RL(t){return OL(t)}function OL(t,e){const n=TC();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=ai,insertStaticContent:g}=t,m=(x,A,M,U=null,F=null,Z=null,le=void 0,J=null,te=!!A.dynamicChildren)=>{if(x===A)return;x&&!no(x,A)&&(U=N(x),Y(x,F,Z,!0),x=null),A.patchFlag===-2&&(te=!1,A.dynamicChildren=null);const{type:G,ref:de,shapeFlag:Ee}=A;switch(G){case hu:p(x,A,M,U);break;case hi:v(x,A,M,U);break;case um:x==null&&y(A,M,U,le);break;case Oe:k(x,A,M,U,F,Z,le,J,te);break;default:Ee&1?S(x,A,M,U,F,Z,le,J,te):Ee&6?O(x,A,M,U,F,Z,le,J,te):(Ee&64||Ee&128)&&G.process(x,A,M,U,F,Z,le,J,te,ue)}de!=null&&F&&Ep(de,x&&x.ref,Z,A||x,!A)},p=(x,A,M,U)=>{if(x==null)i(A.el=a(A.children),M,U);else{const F=A.el=x.el;A.children!==x.children&&c(F,A.children)}},v=(x,A,M,U)=>{x==null?i(A.el=l(A.children||""),M,U):A.el=x.el},y=(x,A,M,U)=>{[x.el,x.anchor]=g(x.children,A,M,U,x.el,x.anchor)},w=({el:x,anchor:A},M,U)=>{let F;for(;x&&x!==A;)F=d(x),i(x,M,U),x=F;i(A,M,U)},b=({el:x,anchor:A})=>{let M;for(;x&&x!==A;)M=d(x),s(x),x=M;s(A)},S=(x,A,M,U,F,Z,le,J,te)=>{A.type==="svg"?le="svg":A.type==="math"&&(le="mathml"),x==null?E(A,M,U,F,Z,le,J,te):P(x,A,F,Z,le,J,te)},E=(x,A,M,U,F,Z,le,J)=>{let te,G;const{props:de,shapeFlag:Ee,transition:we,dirs:ke}=x;if(te=x.el=o(x.type,Z,de&&de.is,de),Ee&8?u(te,x.children):Ee&16&&C(x.children,te,null,U,F,cm(x,Z),le,J),ke&&zr(x,null,U,"created"),T(te,x,x.scopeId,le,U),de){for(const st in de)st!=="value"&&!Xl(st)&&r(te,st,null,de[st],Z,x.children,U,F,me);"value"in de&&r(te,"value",null,de.value,Z),(G=de.onVnodeBeforeMount)&&Bi(G,U,x)}ke&&zr(x,null,U,"beforeMount");const Be=DL(F,we);Be&&we.beforeEnter(te),i(te,A,M),((G=de&&de.onVnodeMounted)||Be||ke)&&An(()=>{G&&Bi(G,U,x),Be&&we.enter(te),ke&&zr(x,null,U,"mounted")},F)},T=(x,A,M,U,F)=>{if(M&&f(x,M),U)for(let Z=0;Z<U.length;Z++)f(x,U[Z]);if(F){let Z=F.subTree;if(A===Z){const le=F.vnode;T(x,le,le.scopeId,le.slotScopeIds,F.parent)}}},C=(x,A,M,U,F,Z,le,J,te=0)=>{for(let G=te;G<x.length;G++){const de=x[G]=J?tr(x[G]):Ui(x[G]);m(null,de,A,M,U,F,Z,le,J)}},P=(x,A,M,U,F,Z,le)=>{const J=A.el=x.el;let{patchFlag:te,dynamicChildren:G,dirs:de}=A;te|=x.patchFlag&16;const Ee=x.props||pt,we=A.props||pt;let ke;if(M&&Hr(M,!1),(ke=we.onVnodeBeforeUpdate)&&Bi(ke,M,A,x),de&&zr(A,x,M,"beforeUpdate"),M&&Hr(M,!0),G?R(x.dynamicChildren,G,J,M,U,cm(A,F),Z):le||L(x,A,J,null,M,U,cm(A,F),Z,!1),te>0){if(te&16)D(J,A,Ee,we,M,U,F);else if(te&2&&Ee.class!==we.class&&r(J,"class",null,we.class,F),te&4&&r(J,"style",Ee.style,we.style,F),te&8){const Be=A.dynamicProps;for(let st=0;st<Be.length;st++){const wt=Be[st],Gt=Ee[wt],wi=we[wt];(wi!==Gt||wt==="value")&&r(J,wt,Gt,wi,F,x.children,M,U,me)}}te&1&&x.children!==A.children&&u(J,A.children)}else!le&&G==null&&D(J,A,Ee,we,M,U,F);((ke=we.onVnodeUpdated)||de)&&An(()=>{ke&&Bi(ke,M,A,x),de&&zr(A,x,M,"updated")},U)},R=(x,A,M,U,F,Z,le)=>{for(let J=0;J<A.length;J++){const te=x[J],G=A[J],de=te.el&&(te.type===Oe||!no(te,G)||te.shapeFlag&70)?h(te.el):M;m(te,G,de,null,U,F,Z,le,!0)}},D=(x,A,M,U,F,Z,le)=>{if(M!==U){if(M!==pt)for(const J in M)!Xl(J)&&!(J in U)&&r(x,J,M[J],null,le,A.children,F,Z,me);for(const J in U){if(Xl(J))continue;const te=U[J],G=M[J];te!==G&&J!=="value"&&r(x,J,G,te,le,A.children,F,Z,me)}"value"in U&&r(x,"value",M.value,U.value,le)}},k=(x,A,M,U,F,Z,le,J,te)=>{const G=A.el=x?x.el:a(""),de=A.anchor=x?x.anchor:a("");let{patchFlag:Ee,dynamicChildren:we,slotScopeIds:ke}=A;ke&&(J=J?J.concat(ke):ke),x==null?(i(G,M,U),i(de,M,U),C(A.children||[],M,de,F,Z,le,J,te)):Ee>0&&Ee&64&&we&&x.dynamicChildren?(R(x.dynamicChildren,we,M,F,Z,le,J),(A.key!=null||F&&A===F.subTree)&&k_(x,A,!0)):L(x,A,M,de,F,Z,le,J,te)},O=(x,A,M,U,F,Z,le,J,te)=>{A.slotScopeIds=J,x==null?A.shapeFlag&512?F.ctx.activate(A,M,U,le,te):V(A,M,U,F,Z,le,te):B(x,A,te)},V=(x,A,M,U,F,Z,le)=>{const J=x.component=HL(x,U,F);if(Pf(x)&&(J.ctx.renderer=ue),WL(J),J.asyncDep){if(F&&F.registerDep(J,X),!x.el){const te=J.subTree=_(hi);v(null,te,A,M)}}else X(J,x,A,M,F,Z,le)},B=(x,A,M)=>{const U=A.component=x.component;if(nL(x,A,M))if(U.asyncDep&&!U.asyncResolved){K(U,A,M);return}else U.next=A,XN(U.update),U.effect.dirty=!0,U.update();else A.el=x.el,U.vnode=A},X=(x,A,M,U,F,Z,le)=>{const J=()=>{if(x.isMounted){let{next:de,bu:Ee,u:we,parent:ke,vnode:Be}=x;{const ea=vx(x);if(ea){de&&(de.el=Be.el,K(x,de,le)),ea.asyncDep.then(()=>{x.isUnmounted||J()});return}}let st=de,wt;Hr(x,!1),de?(de.el=Be.el,K(x,de,le)):de=Be,Ee&&sm(Ee),(wt=de.props&&de.props.onVnodeBeforeUpdate)&&Bi(wt,ke,de,Be),Hr(x,!0);const Gt=om(x),wi=x.subTree;x.subTree=Gt,m(wi,Gt,h(wi.el),N(wi),x,F,Z),de.el=Gt.el,st===null&&iL(x,Gt.el),we&&An(we,F),(wt=de.props&&de.props.onVnodeUpdated)&&An(()=>Bi(wt,ke,de,Be),F)}else{let de;const{el:Ee,props:we}=A,{bm:ke,m:Be,parent:st}=x,wt=zh(A);if(Hr(x,!1),ke&&sm(ke),!wt&&(de=we&&we.onVnodeBeforeMount)&&Bi(de,st,A),Hr(x,!0),Ee&&et){const Gt=()=>{x.subTree=om(x),et(Ee,x.subTree,x,F,null)};wt?A.type.__asyncLoader().then(()=>!x.isUnmounted&&Gt()):Gt()}else{const Gt=x.subTree=om(x);m(null,Gt,M,U,x,F,Z),A.el=Gt.el}if(Be&&An(Be,F),!wt&&(de=we&&we.onVnodeMounted)){const Gt=A;An(()=>Bi(de,st,Gt),F)}(A.shapeFlag&256||st&&zh(st.vnode)&&st.vnode.shapeFlag&256)&&x.a&&An(x.a,F),x.isMounted=!0,A=M=U=null}},te=x.effect=new d_(J,ai,()=>w_(G),x.scope),G=x.update=()=>{te.dirty&&te.run()};G.id=x.uid,Hr(x,!0),G()},K=(x,A,M)=>{A.component=x;const U=x.vnode.props;x.vnode=A,x.next=null,xL(x,A.props,U,M),kL(x,A.children,M),$o(),y0(x),Uo()},L=(x,A,M,U,F,Z,le,J,te=!1)=>{const G=x&&x.children,de=x?x.shapeFlag:0,Ee=A.children,{patchFlag:we,shapeFlag:ke}=A;if(we>0){if(we&128){$(G,Ee,M,U,F,Z,le,J,te);return}else if(we&256){z(G,Ee,M,U,F,Z,le,J,te);return}}ke&8?(de&16&&me(G,F,Z),Ee!==G&&u(M,Ee)):de&16?ke&16?$(G,Ee,M,U,F,Z,le,J,te):me(G,F,Z,!0):(de&8&&u(M,""),ke&16&&C(Ee,M,U,F,Z,le,J,te))},z=(x,A,M,U,F,Z,le,J,te)=>{x=x||ya,A=A||ya;const G=x.length,de=A.length,Ee=Math.min(G,de);let we;for(we=0;we<Ee;we++){const ke=A[we]=te?tr(A[we]):Ui(A[we]);m(x[we],ke,M,null,F,Z,le,J,te)}G>de?me(x,F,Z,!0,!1,Ee):C(A,M,U,F,Z,le,J,te,Ee)},$=(x,A,M,U,F,Z,le,J,te)=>{let G=0;const de=A.length;let Ee=x.length-1,we=de-1;for(;G<=Ee&&G<=we;){const ke=x[G],Be=A[G]=te?tr(A[G]):Ui(A[G]);if(no(ke,Be))m(ke,Be,M,null,F,Z,le,J,te);else break;G++}for(;G<=Ee&&G<=we;){const ke=x[Ee],Be=A[we]=te?tr(A[we]):Ui(A[we]);if(no(ke,Be))m(ke,Be,M,null,F,Z,le,J,te);else break;Ee--,we--}if(G>Ee){if(G<=we){const ke=we+1,Be=ke<de?A[ke].el:U;for(;G<=we;)m(null,A[G]=te?tr(A[G]):Ui(A[G]),M,Be,F,Z,le,J,te),G++}}else if(G>we)for(;G<=Ee;)Y(x[G],F,Z,!0),G++;else{const ke=G,Be=G,st=new Map;for(G=Be;G<=we;G++){const jn=A[G]=te?tr(A[G]):Ui(A[G]);jn.key!=null&&st.set(jn.key,G)}let wt,Gt=0;const wi=we-Be+1;let ea=!1,l0=0;const wl=new Array(wi);for(G=0;G<wi;G++)wl[G]=0;for(G=ke;G<=Ee;G++){const jn=x[G];if(Gt>=wi){Y(jn,F,Z,!0);continue}let Fi;if(jn.key!=null)Fi=st.get(jn.key);else for(wt=Be;wt<=we;wt++)if(wl[wt-Be]===0&&no(jn,A[wt])){Fi=wt;break}Fi===void 0?Y(jn,F,Z,!0):(wl[Fi-Be]=G+1,Fi>=l0?l0=Fi:ea=!0,m(jn,A[Fi],M,null,F,Z,le,J,te),Gt++)}const c0=ea?ML(wl):ya;for(wt=c0.length-1,G=wi-1;G>=0;G--){const jn=Be+G,Fi=A[jn],u0=jn+1<de?A[jn+1].el:U;wl[G]===0?m(null,Fi,M,u0,F,Z,le,J,te):ea&&(wt<0||G!==c0[wt]?W(Fi,M,u0,2):wt--)}}},W=(x,A,M,U,F=null)=>{const{el:Z,type:le,transition:J,children:te,shapeFlag:G}=x;if(G&6){W(x.component.subTree,A,M,U);return}if(G&128){x.suspense.move(A,M,U);return}if(G&64){le.move(x,A,M,ue);return}if(le===Oe){i(Z,A,M);for(let Ee=0;Ee<te.length;Ee++)W(te[Ee],A,M,U);i(x.anchor,A,M);return}if(le===um){w(x,A,M);return}if(U!==2&&G&1&&J)if(U===0)J.beforeEnter(Z),i(Z,A,M),An(()=>J.enter(Z),F);else{const{leave:Ee,delayLeave:we,afterLeave:ke}=J,Be=()=>i(Z,A,M),st=()=>{Ee(Z,()=>{Be(),ke&&ke()})};we?we(Z,Be,st):st()}else i(Z,A,M)},Y=(x,A,M,U=!1,F=!1)=>{const{type:Z,props:le,ref:J,children:te,dynamicChildren:G,shapeFlag:de,patchFlag:Ee,dirs:we}=x;if(J!=null&&Ep(J,null,M,x,!0),de&256){A.ctx.deactivate(x);return}const ke=de&1&&we,Be=!zh(x);let st;if(Be&&(st=le&&le.onVnodeBeforeUnmount)&&Bi(st,A,x),de&6)pe(x.component,M,U);else{if(de&128){x.suspense.unmount(M,U);return}ke&&zr(x,null,A,"beforeUnmount"),de&64?x.type.remove(x,A,M,F,ue,U):G&&(Z!==Oe||Ee>0&&Ee&64)?me(G,A,M,!1,!0):(Z===Oe&&Ee&384||!F&&de&16)&&me(te,A,M),U&&ce(x)}(Be&&(st=le&&le.onVnodeUnmounted)||ke)&&An(()=>{st&&Bi(st,A,x),ke&&zr(x,null,A,"unmounted")},M)},ce=x=>{const{type:A,el:M,anchor:U,transition:F}=x;if(A===Oe){ge(M,U);return}if(A===um){b(x);return}const Z=()=>{s(M),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(x.shapeFlag&1&&F&&!F.persisted){const{leave:le,delayLeave:J}=F,te=()=>le(M,Z);J?J(x.el,Z,te):te()}else Z()},ge=(x,A)=>{let M;for(;x!==A;)M=d(x),s(x),x=M;s(A)},pe=(x,A,M)=>{const{bum:U,scope:F,update:Z,subTree:le,um:J}=x;U&&sm(U),F.stop(),Z&&(Z.active=!1,Y(le,x,A,M)),J&&An(J,A),An(()=>{x.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},me=(x,A,M,U=!1,F=!1,Z=0)=>{for(let le=Z;le<x.length;le++)Y(x[le],A,M,U,F)},N=x=>x.shapeFlag&6?N(x.component.subTree):x.shapeFlag&128?x.suspense.next():d(x.anchor||x.el);let Q=!1;const ee=(x,A,M)=>{x==null?A._vnode&&Y(A._vnode,null,null,!0):m(A._vnode||null,x,A,null,null,null,M),Q||(Q=!0,y0(),YC(),Q=!1),A._vnode=x},ue={p:m,um:Y,m:W,r:ce,mt:V,mc:C,pc:L,pbc:R,n:N,o:t};let Fe,et;return e&&([Fe,et]=e(ue)),{render:ee,hydrate:Fe,createApp:IL(ee,Fe)}}function cm({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Hr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function DL(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function k_(t,e,n=!1){const i=t.children,s=e.children;if(Ie(i)&&Ie(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=tr(s[r]),a.el=o.el),n||k_(o,a)),a.type===hu&&(a.el=o.el)}}function ML(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function vx(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:vx(e)}const NL=t=>t.__isTeleport,Zl=t=>t&&(t.disabled||t.disabled===""),R0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,O0=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Ip=(t,e)=>{const n=t&&t.to;return At(n)?e?e(n):null:n},LL={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,o,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:g,createText:m,createComment:p}}=c,v=Zl(e.props);let{shapeFlag:y,children:w,dynamicChildren:b}=e;if(t==null){const S=e.el=m(""),E=e.anchor=m("");f(S,n,i),f(E,n,i);const T=e.target=Ip(e.props,g),C=e.targetAnchor=m("");T&&(f(C,T),o==="svg"||R0(T)?o="svg":(o==="mathml"||O0(T))&&(o="mathml"));const P=(R,D)=>{y&16&&u(w,R,D,s,r,o,a,l)};v?P(n,E):T&&P(T,C)}else{e.el=t.el;const S=e.anchor=t.anchor,E=e.target=t.target,T=e.targetAnchor=t.targetAnchor,C=Zl(t.props),P=C?n:E,R=C?S:T;if(o==="svg"||R0(E)?o="svg":(o==="mathml"||O0(E))&&(o="mathml"),b?(d(t.dynamicChildren,b,P,s,r,o,a),k_(t,e,!0)):l||h(t,e,P,R,s,r,o,a,!1),v)C?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):oh(e,n,S,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const D=e.target=Ip(e.props,g);D&&oh(e,D,null,c,0)}else C&&oh(e,E,T,c,1)}_x(e)},remove(t,e,n,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=t;if(h&&r(u),o&&r(c),a&16){const f=o||!Zl(d);for(let g=0;g<l.length;g++){const m=l[g];s(m,e,n,f,!!m.dynamicChildren)}}},move:oh,hydrate:VL};function oh(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,h=r===2;if(h&&i(o,e,n),(!h||Zl(u))&&l&16)for(let d=0;d<c.length;d++)s(c[d],e,n,2);h&&i(a,e,n)}function VL(t,e,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=Ip(e.props,l);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Zl(e.props))e.anchor=c(o(t),e,a(t),n,i,s,r),e.targetAnchor=h;else{e.anchor=o(t);let d=h;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(h,e,u,n,i,s,r)}_x(e)}return e.anchor&&o(e.anchor)}const FL=LL;function _x(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Oe=Symbol.for("v-fgt"),hu=Symbol.for("v-txt"),hi=Symbol.for("v-cmt"),um=Symbol.for("v-stc"),ec=[];let Ti=null;function Vt(t=!1){ec.push(Ti=t?null:[])}function BL(){ec.pop(),Ti=ec[ec.length-1]||null}let Ic=1;function D0(t){Ic+=t}function yx(t){return t.dynamicChildren=Ic>0?Ti||ya:null,BL(),Ic>0&&Ti&&Ti.push(t),t}function Cc(t,e,n,i,s,r){return yx(du(t,e,n,i,s,r,!0))}function In(t,e,n,i,s){return yx(_(t,e,n,i,s,!0))}function cd(t){return t?t.__v_isVNode===!0:!1}function no(t,e){return t.type===e.type&&t.key===e.key}const Of="__vInternal",bx=({key:t})=>t??null,Hh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?At(t)||Pt(t)||De(t)?{i:En,r:t,k:e,f:!!n}:t:null);function du(t,e=null,n=null,i=0,s=null,r=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&bx(e),ref:e&&Hh(e),scopeId:JC,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:En};return a?(R_(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=At(n)?8:16),Ic>0&&!o&&Ti&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Ti.push(l),l}const _=$L;function $L(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===ZC)&&(t=hi),cd(t)){const a=Ns(t,e,!0);return n&&R_(a,n),Ic>0&&!r&&Ti&&(a.shapeFlag&6?Ti[Ti.indexOf(t)]=a:Ti.push(a)),a.patchFlag|=-2,a}if(XL(t)&&(t=t.__vccOpts),e){e=UL(e);let{class:a,style:l}=e;a&&!At(a)&&(e.class=h_(a)),ft(l)&&($C(l)&&!Ie(l)&&(l=Bt({},l)),e.style=u_(l))}const o=At(t)?1:oL(t)?128:NL(t)?64:ft(t)?4:De(t)?2:0;return du(t,e,n,i,s,o,r,!0)}function UL(t){return t?$C(t)||Of in t?Bt({},t):t:null}function Ns(t,e,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=t,a=e?Se(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&bx(a),ref:e&&e.ref?n&&s?Ie(s)?s.concat(Hh(e)):[s,Hh(e)]:Hh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ns(t.ssContent),ssFallback:t.ssFallback&&Ns(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function It(t=" ",e=0){return _(hu,null,t,e)}function wo(t="",e=!1){return e?(Vt(),In(hi,null,t)):_(hi,null,t)}function Ui(t){return t==null||typeof t=="boolean"?_(hi):Ie(t)?_(Oe,null,t.slice()):typeof t=="object"?tr(t):_(hu,null,String(t))}function tr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ns(t)}function R_(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ie(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),R_(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Of in e)?e._ctx=En:s===3&&En&&(En.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:En},n=32):(e=String(e),i&64?(n=16,e=[It(e)]):n=8);t.children=e,t.shapeFlag|=n}function Se(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=h_([e.class,i.class]));else if(s==="style")e.style=u_([e.style,i.style]);else if(Sf(s)){const r=e[s],o=i[s];o&&r!==o&&!(Ie(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function Bi(t,e,n,i=null){ui(t,e,7,[n,i])}const jL=hx();let zL=0;function HL(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||jL,r={uid:zL++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new xC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fx(i,s),emitsOptions:QC(i,s),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:i.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=ZN.bind(null,r),t.ce&&t.ce(r),r}let nn=null;const Df=()=>nn||En;let ud,Cp;{const t=TC(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};ud=e("__VUE_INSTANCE_SETTERS__",n=>nn=n),Cp=e("__VUE_SSR_SETTERS__",n=>Mf=n)}const fu=t=>{const e=nn;return ud(t),t.scope.on(),()=>{t.scope.off(),ud(e)}},M0=()=>{nn&&nn.scope.off(),ud(null)};function wx(t){return t.vnode.shapeFlag&4}let Mf=!1;function WL(t,e=!1){e&&Cp(e);const{props:n,children:i}=t.vnode,s=wx(t);CL(t,n,s,e),PL(t,i);const r=s?qL(t,e):void 0;return e&&Cp(!1),r}function qL(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=UC(new Proxy(t.ctx,_L));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?KL(t):null,r=fu(t);$o();const o=fr(i,t,0,[t.props,s]);if(Uo(),r(),bC(o)){if(o.then(M0,M0),e)return o.then(a=>{N0(t,a,e)}).catch(a=>{xf(a,t,0)});t.asyncDep=o}else N0(t,o,e)}else Sx(t,e)}function N0(t,e,n){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ft(e)&&(t.setupState=WC(e)),Sx(t,n)}let L0;function Sx(t,e,n){const i=t.type;if(!t.render){if(!e&&L0&&!i.render){const s=i.template||A_(t).template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=Bt(Bt({isCustomElement:r,delimiters:a},o),l);i.render=L0(s,c)}}t.render=i.render||ai}{const s=fu(t);$o();try{yL(t)}finally{Uo(),s()}}}function GL(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ln(t,"get","$attrs"),e[n]}}))}function KL(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return GL(t)},slots:t.slots,emit:t.emit,expose:e}}function Nf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(WC(UC(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ql)return Ql[n](t)},has(e,n){return n in e||n in Ql}}))}function YL(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function XL(t){return De(t)&&"__vccOpts"in t}const I=(t,e)=>zN(t,e,Mf);function fi(t,e,n){const i=arguments.length;return i===2?ft(e)&&!Ie(e)?cd(e)?_(t,null,[e]):_(t,e):_(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&cd(n)&&(n=[n]),_(t,e,n))}const QL="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const JL="http://www.w3.org/2000/svg",ZL="http://www.w3.org/1998/Math/MathML",nr=typeof document<"u"?document:null,V0=nr&&nr.createElement("template"),eV={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?nr.createElementNS(JL,t):e==="mathml"?nr.createElementNS(ZL,t):nr.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>nr.createTextNode(t),createComment:t=>nr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>nr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{V0.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const a=V0.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ks="transition",Sl="animation",Oa=Symbol("_vtc"),ns=(t,{slots:e})=>fi(dL,Ex(t),e);ns.displayName="Transition";const Tx={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},tV=ns.props=Bt({},nx,Tx),Wr=(t,e=[])=>{Ie(t)?t.forEach(n=>n(...e)):t&&t(...e)},F0=t=>t?Ie(t)?t.some(e=>e.length>1):t.length>1:!1;function Ex(t){const e={};for(const k in t)k in Tx||(e[k]=t[k]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,g=nV(s),m=g&&g[0],p=g&&g[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:w,onLeave:b,onLeaveCancelled:S,onBeforeAppear:E=v,onAppear:T=y,onAppearCancelled:C=w}=e,P=(k,O,V)=>{Js(k,O?u:a),Js(k,O?c:o),V&&V()},R=(k,O)=>{k._isLeaving=!1,Js(k,h),Js(k,f),Js(k,d),O&&O()},D=k=>(O,V)=>{const B=k?T:y,X=()=>P(O,k,V);Wr(B,[O,X]),B0(()=>{Js(O,k?l:r),_s(O,k?u:a),F0(B)||$0(O,i,m,X)})};return Bt(e,{onBeforeEnter(k){Wr(v,[k]),_s(k,r),_s(k,o)},onBeforeAppear(k){Wr(E,[k]),_s(k,l),_s(k,c)},onEnter:D(!1),onAppear:D(!0),onLeave(k,O){k._isLeaving=!0;const V=()=>R(k,O);_s(k,h),Cx(),_s(k,d),B0(()=>{k._isLeaving&&(Js(k,h),_s(k,f),F0(b)||$0(k,i,p,V))}),Wr(b,[k,V])},onEnterCancelled(k){P(k,!1),Wr(w,[k])},onAppearCancelled(k){P(k,!0),Wr(C,[k])},onLeaveCancelled(k){R(k),Wr(S,[k])}})}function nV(t){if(t==null)return null;if(ft(t))return[hm(t.enter),hm(t.leave)];{const e=hm(t);return[e,e]}}function hm(t){return gN(t)}function _s(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Oa]||(t[Oa]=new Set)).add(e)}function Js(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Oa];n&&(n.delete(e),n.size||(t[Oa]=void 0))}function B0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let iV=0;function $0(t,e,n,i){const s=t._endId=++iV,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=Ix(t,e);if(!o)return i();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,d),r()},d=f=>{f.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,d)}function Ix(t,e){const n=window.getComputedStyle(t),i=g=>(n[g]||"").split(", "),s=i(`${Ks}Delay`),r=i(`${Ks}Duration`),o=U0(s,r),a=i(`${Sl}Delay`),l=i(`${Sl}Duration`),c=U0(a,l);let u=null,h=0,d=0;e===Ks?o>0&&(u=Ks,h=o,d=r.length):e===Sl?c>0&&(u=Sl,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?Ks:Sl:null,d=u?u===Ks?r.length:l.length:0);const f=u===Ks&&/\b(transform|all)(,|$)/.test(i(`${Ks}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function U0(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>j0(n)+j0(t[i])))}function j0(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Cx(){return document.body.offsetHeight}function sV(t,e,n){const i=t[Oa];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const hd=Symbol("_vod"),xx=Symbol("_vsh"),jo={beforeMount(t,{value:e},{transition:n}){t[hd]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Tl(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Tl(t,!0),i.enter(t)):i.leave(t,()=>{Tl(t,!1)}):Tl(t,e))},beforeUnmount(t,{value:e}){Tl(t,e)}};function Tl(t,e){t.style.display=e?t[hd]:"none",t[xx]=!e}const rV=Symbol(""),oV=/(^|;)\s*display\s*:/;function aV(t,e,n){const i=t.style,s=At(n);let r=!1;if(n&&!s){if(e)if(At(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Wh(i,a,"")}else for(const o in e)n[o]==null&&Wh(i,o,"");for(const o in n)o==="display"&&(r=!0),Wh(i,o,n[o])}else if(s){if(e!==n){const o=i[rV];o&&(n+=";"+o),i.cssText=n,r=oV.test(n)}}else e&&t.removeAttribute("style");hd in t&&(t[hd]=r?i.display:"",t[xx]&&(i.display="none"))}const z0=/\s*!important$/;function Wh(t,e,n){if(Ie(n))n.forEach(i=>Wh(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=lV(t,e);z0.test(n)?t.setProperty(tl(i),n.replace(z0,""),"important"):t[i]=n}}const H0=["Webkit","Moz","ms"],dm={};function lV(t,e){const n=dm[e];if(n)return n;let i=di(e);if(i!=="filter"&&i in t)return dm[e]=i;i=ls(i);for(let s=0;s<H0.length;s++){const r=H0[s]+i;if(r in t)return dm[e]=r}return e}const W0="http://www.w3.org/1999/xlink";function cV(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(W0,e.slice(6,e.length)):t.setAttributeNS(W0,e,n);else{const r=bN(e);n==null||r&&!EC(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function uV(t,e,n,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?t.getAttribute("value")||"":t.value,u=n??"";(c!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=EC(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function hV(t,e,n,i){t.addEventListener(e,n,i)}function dV(t,e,n,i){t.removeEventListener(e,n,i)}const q0=Symbol("_vei");function fV(t,e,n,i,s=null){const r=t[q0]||(t[q0]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=gV(e);if(i){const c=r[e]=vV(i,s);hV(t,a,c,l)}else o&&(dV(t,a,o,l),r[e]=void 0)}}const G0=/(?:Once|Passive|Capture)$/;function gV(t){let e;if(G0.test(t)){e={};let i;for(;i=t.match(G0);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):tl(t.slice(2)),e]}let fm=0;const mV=Promise.resolve(),pV=()=>fm||(mV.then(()=>fm=0),fm=Date.now());function vV(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ui(_V(i,n.value),e,5,[i])};return n.value=t,n.attached=pV(),n}function _V(t,e){if(Ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const K0=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yV=(t,e,n,i,s,r,o,a,l)=>{const c=s==="svg";e==="class"?sV(t,i,c):e==="style"?aV(t,n,i):Sf(e)?a_(e)||fV(t,e,n,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):bV(t,e,i,c))?uV(t,e,i,r,o,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),cV(t,e,i,c))};function bV(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&K0(e)&&De(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return K0(e)&&At(n)?!1:e in t}const Ax=new WeakMap,Px=new WeakMap,dd=Symbol("_moveCb"),Y0=Symbol("_enterCb"),kx={name:"TransitionGroup",props:Bt({},tV,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Df(),i=tx();let s,r;return lx(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!IV(s[0].el,n.vnode.el,o))return;s.forEach(SV),s.forEach(TV);const a=s.filter(EV);Cx(),a.forEach(l=>{const c=l.el,u=c.style;_s(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[dd]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",h),c[dd]=null,Js(c,o))};c.addEventListener("transitionend",h)})}),()=>{const o=Ce(t),a=Ex(o);let l=o.tag||Oe;s=r,r=e.default?C_(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Ec(u,Tc(u,a,i,n))}if(s)for(let c=0;c<s.length;c++){const u=s[c];Ec(u,Tc(u,a,i,n)),Ax.set(u,u.el.getBoundingClientRect())}return _(l,null,r)}}},wV=t=>delete t.mode;kx.props;const Rx=kx;function SV(t){const e=t.el;e[dd]&&e[dd](),e[Y0]&&e[Y0]()}function TV(t){Px.set(t,t.el.getBoundingClientRect())}function EV(t){const e=Ax.get(t),n=Px.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function IV(t,e,n){const i=t.cloneNode(),s=t[Oa];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:o}=Ix(i);return r.removeChild(i),o}const CV=["ctrl","shift","alt","meta"],xV={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>CV.some(n=>t[`${n}Key`]&&!e.includes(n))},xc=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let o=0;o<e.length;o++){const a=xV[e[o]];if(a&&a(s,e))return}return t(s,...r)})},AV=Bt({patchProp:yV},eV);let X0;function PV(){return X0||(X0=RL(AV))}const kV=(...t)=>{const e=PV().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=OV(i);if(!s)return;const r=e._component;!De(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,RV(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function RV(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function OV(t){return At(t)?document.querySelector(t):t}function xi(t,e){let n;function i(){n=If(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}ve(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),Bn(()=>{n==null||n.stop()})}const yt=typeof window<"u",O_=yt&&"IntersectionObserver"in window,DV=yt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function Q0(t,e,n){MV(t,e),e.set(t,n)}function MV(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function NV(t,e,n){var i=Ox(t,e,"set");return LV(t,i,n),n}function LV(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function qr(t,e){var n=Ox(t,e,"get");return VV(t,n)}function Ox(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function VV(t,e){return e.get?e.get.call(t):e.value}function Dx(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function Or(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>Or(t[i],e[i]))}function So(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),Dx(t,e.split("."),n))}function Pn(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return So(t,e,n);if(Array.isArray(e))return Dx(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function ga(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function _e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function fd(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function gd(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const J0=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Z0=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function Mx(t){return Object.keys(t)}function gm(t,e){return e.every(n=>t.hasOwnProperty(n))}function Nx(t,e){const n={},i=new Set(Object.keys(t));for(const s of e)i.has(s)&&(n[s]=t[s]);return n}function ew(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(o=>o instanceof RegExp?o.test(r):o===r)&&!(n!=null&&n.some(o=>o===r))?i[r]=t[r]:s[r]=t[r];return[i,s]}function zo(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}const Lx=/^on[^a-z]/,Lf=t=>Lx.test(t),FV=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Vx(t){const[e,n]=ew(t,[Lx]),i=zo(e,FV),[s,r]=ew(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(r,i),[s,r]}function Dn(t){return t==null?[]:Array.isArray(t)?t:[t]}function BV(t,e){let n=0;const i=function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>t(...r),Rt(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function Ai(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function tw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function nw(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function $V(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function qn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],o=e[s];if(fd(r)&&fd(o)){i[s]=qn(r,o,n);continue}if(Array.isArray(r)&&Array.isArray(o)&&n){i[s]=n(r,o);continue}i[s]=o}return i}function Fx(t){return t.map(e=>e.type===Oe?Fx(e.children):e).flat()}function go(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(go.cache.has(t))return go.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return go.cache.set(t,e),e}go.cache=new Map;function tc(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>tc(t,n)).flat(1);if(Array.isArray(e.children))return e.children.map(n=>tc(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return tc(t,e.component.subTree).flat(1)}return[]}var ah=new WeakMap,ta=new WeakMap;class UV{constructor(e){Q0(this,ah,{writable:!0,value:[]}),Q0(this,ta,{writable:!0,value:0}),this.size=e}push(e){qr(this,ah)[qr(this,ta)]=e,NV(this,ta,(qr(this,ta)+1)%this.size)}values(){return qr(this,ah).slice(qr(this,ta)).concat(qr(this,ah).slice(0,qr(this,ta)))}}function D_(t){const e=gn({}),n=I(t);return Vn(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),y_(e)}function md(t,e){return t.includes(e)}function Bx(t){return t[2].toLowerCase()+t.slice(3)}const Mn=()=>[Function,Array];function iw(t,e){return e="on"+ls(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function jV(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function pd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function $x(t,e,n){let i,s=t.indexOf(document.activeElement);const r=e==="next"?1:-1;do s+=r,i=t[s];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&s<t.length&&s>=0);return i}function vd(t,e){var i,s,r,o;const n=pd(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(r=n.at(-1))==null||r.focus();else if(typeof e=="number")(o=n[e])==null||o.focus();else{const a=$x(n,e);a?a.focus():vd(t,e==="next"?"first":"last")}}function lh(t){return t==null||typeof t=="string"&&t.trim()===""}function _d(t,e){if(!(yt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function Ux(t){return t.some(e=>cd(e)?e.type===hi?!1:e.type!==Oe||Ux(e.children):!0)?t:null}function zV(t,e){if(!yt||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function HV(t,e){const n=t.clientX,i=t.clientY,s=e.getBoundingClientRect(),r=s.left,o=s.top,a=s.right,l=s.bottom;return n>=r&&n<=a&&i>=o&&i<=l}const jx=["top","bottom"],WV=["start","end","left","right"];function xp(t,e){let[n,i]=t.split(" ");return i||(i=md(jx,n)?"start":md(WV,n)?"top":"center"),{side:Ap(n,e),align:Ap(i,e)}}function Ap(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function mm(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function pm(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function sw(t){return{side:t.align,align:t.side}}function rw(t){return md(jx,t.side)?"y":"x"}class mo{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function ow(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function zx(t){return Array.isArray(t)?new mo({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function M_(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,o,a,l;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=+s[0],o=+s[5],a=+s[12],l=+s[13];else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=+s[0],o=+s[3],a=+s[4],l=+s[5];else return new mo(e);const c=n.transformOrigin,u=e.x-a-(1-r)*parseFloat(c),h=e.y-l-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),d=r?e.width/r:t.offsetWidth+1,f=o?e.height/o:t.offsetHeight+1;return new mo({x:u,y:h,width:d,height:f})}else return new mo(e)}function ro(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const qh=new WeakMap;function qV(t,e){Object.keys(e).forEach(n=>{if(Lf(n)){const i=Bx(n),s=qh.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[o,a]=r;o===i&&(t.removeEventListener(i,a),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),qh.has(t)||qh.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function GV(t,e){Object.keys(e).forEach(n=>{if(Lf(n)){const i=Bx(n),s=qh.get(t);s==null||s.forEach(r=>{const[o,a]=r;o===i&&(t.removeEventListener(i,a),s.delete(r))})}else t.removeAttribute(n)})}const na=2.4,aw=.2126729,lw=.7151522,cw=.072175,KV=.55,YV=.58,XV=.57,QV=.62,ch=.03,uw=1.45,JV=5e-4,ZV=1.25,eF=1.25,hw=.078,dw=12.82051282051282,uh=.06,fw=.001;function gw(t,e){const n=(t.r/255)**na,i=(t.g/255)**na,s=(t.b/255)**na,r=(e.r/255)**na,o=(e.g/255)**na,a=(e.b/255)**na;let l=n*aw+i*lw+s*cw,c=r*aw+o*lw+a*cw;if(l<=ch&&(l+=(ch-l)**uw),c<=ch&&(c+=(ch-c)**uw),Math.abs(c-l)<JV)return 0;let u;if(c>l){const h=(c**KV-l**YV)*ZV;u=h<fw?0:h<hw?h-h*dw*uh:h-uh}else{const h=(c**QV-l**XV)*eF;u=h>-fw?0:h>-hw?h-h*dw*uh:h+uh}return u*100}function tF(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const yd=.20689655172413793,nF=t=>t>yd**3?Math.cbrt(t):t/(3*yd**2)+4/29,iF=t=>t>yd?t**3:3*yd**2*(t-4/29);function Hx(t){const e=nF,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function Wx(t){const e=iF,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const sF=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],rF=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,oF=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],aF=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function qx(t){const e=Array(3),n=rF,i=sF;for(let s=0;s<3;++s)e[s]=Math.round(Ai(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function N_(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=aF,o=oF;e=r(e/255),n=r(n/255),i=r(i/255);for(let a=0;a<3;++a)s[a]=o[a][0]*e+o[a][1]*n+o[a][2]*i;return s}function Pp(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function lF(t){return Pp(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const mw=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,cF={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>pw({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>pw({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>Ac({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>Ac({h:t,s:e,v:n,a:i})};function Hi(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&mw.test(t)){const{groups:e}=t.match(mw),{fn:n,values:i}=e,s=i.split(/,\s*/).map(r=>r.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return cF[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),hF(e)}else if(typeof t=="object"){if(gm(t,["r","g","b"]))return t;if(gm(t,["h","s","l"]))return Ac(Gx(t));if(gm(t,["h","s","v"]))return Ac(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Ac(t){const{h:e,s:n,v:i,a:s}=t,r=a=>{const l=(a+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},o=[r(5),r(3),r(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:s}}function pw(t){return Ac(Gx(t))}function Gx(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),o=r===0?0:2-2*i/r;return{h:e,s:o,v:r,a:s}}function hh(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function uF(t){let{r:e,g:n,b:i,a:s}=t;return`#${[hh(e),hh(n),hh(i),s!==void 0?hh(Math.round(s*255)):""].join("")}`}function hF(t){t=dF(t);let[e,n,i,s]=$V(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function dF(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=tw(tw(t,6),8,"F")),t}function fF(t,e){const n=Hx(N_(t));return n[0]=n[0]+e*10,qx(Wx(n))}function gF(t,e){const n=Hx(N_(t));return n[0]=n[0]-e*10,qx(Wx(n))}function mF(t){const e=Hi(t);return N_(e)[1]}function Kx(t){const e=Math.abs(gw(Hi(0),Hi(t)));return Math.abs(gw(Hi(16777215),Hi(t)))>Math.min(e,50)?"#fff":"#000"}function j(t,e){return n=>Object.keys(t).reduce((i,s)=>{const o=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...o,default:n[s]}:i[s]=o,e&&!i[s].source&&(i[s].source=e),i},{})}const xe=j({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component"),Da=Symbol.for("vuetify:defaults");function pF(t){return ae(t)}function L_(){const t=Ve(Da);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function gi(t,e){const n=L_(),i=ae(t),s=I(()=>{if(Rt(e==null?void 0:e.disabled))return n.value;const o=Rt(e==null?void 0:e.scoped),a=Rt(e==null?void 0:e.reset),l=Rt(e==null?void 0:e.root);if(i.value==null&&!(o||a||l))return n.value;let c=qn(i.value,{prev:n.value});if(o)return c;if(a||l){const u=Number(a||1/0);for(let h=0;h<=u&&!(!c||!("prev"in c));h++)c=c.prev;return c&&typeof l=="string"&&l in c&&(c=qn(qn(c,{prev:c}),c[l])),c}return c.prev?qn(c.prev,c):c});return ht(Da,s),s}function vF(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[go(e)])<"u"}function _F(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L_();const i=Dt("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=I(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),r=new Proxy(t,{get(l,c){var h,d,f,g;const u=Reflect.get(l,c);return c==="class"||c==="style"?[(h=s.value)==null?void 0:h[c],u].filter(m=>m!=null):typeof c=="string"&&!vF(i.vnode,c)?((d=s.value)==null?void 0:d[c])??((g=(f=n.value)==null?void 0:f.global)==null?void 0:g[c])??u:u}}),o=fe();Vn(()=>{if(s.value){const l=Object.entries(s.value).filter(c=>{let[u]=c;return u.startsWith(u[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function a(){const l=TF(Da,i);ht(Da,I(()=>o.value?qn((l==null?void 0:l.value)??{},o.value):l==null?void 0:l.value))}return{props:r,provideSubDefaults:a}}function nl(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=j(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return Nx(i,e)},t.props._as=String,t.setup=function(i,s){const r=L_();if(!r.value)return t._setup(i,s);const{props:o,provideSubDefaults:a}=_F(i,i._as??t.name,r),l=t._setup(o,s);return a(),l}}return t}function he(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?nl:cs)(e)}function yF(t,e){return e.props=t,e}function il(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return he()({name:n??ls(di(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...xe()},setup(i,s){let{slots:r}=s;return()=>{var o;return fi(i.tag,{class:[t,i.class],style:i.style},(o=r.default)==null?void 0:o.call(r))}}})}function Yx(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const Pc="cubic-bezier(0.4, 0, 0.2, 1)",bF="cubic-bezier(0.0, 0, 0.2, 1)",wF="cubic-bezier(0.4, 0, 1, 1)";function vw(t,e,n){return Object.keys(t).filter(i=>Lf(i)&&i.endsWith(e)).reduce((i,s)=>(i[s.slice(0,-e.length)]=r=>t[s](r,n(r)),i),{})}function Dt(t,e){const n=Df();if(!n)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return n}function us(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Dt(t).type;return go((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let Xx=0,Gh=new WeakMap;function Ni(){const t=Dt("getUid");if(Gh.has(t))return Gh.get(t);{const e=Xx++;return Gh.set(t,e),e}}Ni.reset=()=>{Xx=0,Gh=new WeakMap};function Qx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?SF(t):V_(t))return t;t=t.parentElement}return document.scrollingElement}function bd(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(V_(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function V_(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function SF(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function TF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dt("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}function EF(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function be(t){const e=Dt("useRender");e.render=t}function Ze(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h=>h,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:h=>h;const r=Dt("useProxiedModel"),o=ae(t[e]!==void 0?t[e]:n),a=go(e),c=I(a!==e?()=>{var h,d,f,g;return t[e],!!(((h=r.vnode.props)!=null&&h.hasOwnProperty(e)||(d=r.vnode.props)!=null&&d.hasOwnProperty(a))&&((f=r.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)||(g=r.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var h,d;return t[e],!!((h=r.vnode.props)!=null&&h.hasOwnProperty(e)&&((d=r.vnode.props)!=null&&d.hasOwnProperty(`onUpdate:${e}`)))});xi(()=>!c.value,()=>{ve(()=>t[e],h=>{o.value=h})});const u=I({get(){const h=t[e];return i(c.value?h:o.value)},set(h){const d=s(h),f=Ce(c.value?t[e]:o.value);f===d||i(f)===h||(o.value=d,r==null||r.emit(`update:${e}`,d))}});return Object.defineProperty(u,"externalValue",{get:()=>c.value?t[e]:o.value}),u}const IF={badge:"Badge",open:"Open",close:"Close",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},_w="$vuetify.",yw=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),Jx=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];if(!i.startsWith(_w))return yw(i,r);const a=i.replace(_w,""),l=t.value&&n.value[t.value],c=e.value&&n.value[e.value];let u=So(l,a,null);return u||(`${i}${t.value}`,u=So(c,a,null)),u||(u=i),typeof u!="string"&&(u=i),yw(u,r)};function Zx(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function vm(t,e,n){const i=Ze(t,e,t[e]??n.value);return i.value=t[e]??n.value,ve(n,s=>{t[e]==null&&(i.value=n.value)}),i}function eA(t){return e=>{const n=vm(e,"locale",t.current),i=vm(e,"fallback",t.fallback),s=vm(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:Jx(n,i,s),n:Zx(n,i),provide:eA({current:n,fallback:i,messages:s})}}}function CF(t){const e=fe((t==null?void 0:t.locale)??"en"),n=fe((t==null?void 0:t.fallback)??"en"),i=ae({en:IF,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:Jx(e,n,i),n:Zx(e,n),provide:eA({current:e,fallback:n,messages:i})}}const wd=Symbol.for("vuetify:locale");function xF(t){return t.name!=null}function AF(t){const e=t!=null&&t.adapter&&xF(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:CF(t),n=kF(e,t);return{...e,...n}}function js(){const t=Ve(wd);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function PF(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function kF(t,e){const n=ae((e==null?void 0:e.rtl)??PF()),i=I(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:I(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function yi(){const t=Ve(wd);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const kp={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function RF(t,e){const n=[];let i=[];const s=tA(t),r=nA(t),o=(s.getDay()-kp[e.slice(-2).toUpperCase()]+7)%7,a=(r.getDay()-kp[e.slice(-2).toUpperCase()]+7)%7;for(let l=0;l<o;l++){const c=new Date(s);c.setDate(c.getDate()-(o-l)),i.push(c)}for(let l=1;l<=r.getDate();l++){const c=new Date(t.getFullYear(),t.getMonth(),l);i.push(c),i.length===7&&(n.push(i),i=[])}for(let l=1;l<7-a;l++){const c=new Date(r);c.setDate(c.getDate()+l),i.push(c)}return i.length>0&&n.push(i),n}function OF(t){const e=new Date(t);for(;e.getDay()!==0;)e.setDate(e.getDate()-1);return e}function DF(t){const e=new Date(t);for(;e.getDay()!==6;)e.setDate(e.getDate()+1);return e}function tA(t){return new Date(t.getFullYear(),t.getMonth(),1)}function nA(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function MF(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const NF=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function iA(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(NF.test(t))return MF(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const bw=new Date(2e3,0,2);function LF(t){const e=kp[t.slice(-2).toUpperCase()];return ga(7).map(n=>{const i=new Date(bw);return i.setDate(bw.getDate()+e+n),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(i)})}function VF(t,e,n,i){const s=iA(t)??new Date,r=i==null?void 0:i[e];if(typeof r=="function")return r(s,e,n);let o={};switch(e){case"fullDateWithWeekday":o={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"hours12h":o={hour:"numeric",hour12:!0};break;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":o={day:"2-digit",month:"2-digit",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"shortDate":o={year:"2-digit",month:"numeric",day:"numeric"};break;case"weekdayShort":o={weekday:"short"};break;case"year":o={year:"numeric"};break;default:o=r??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(s)}function FF(t,e){const n=t.toJsDate(e),i=n.getFullYear(),s=nw(String(n.getMonth()+1),2,"0"),r=nw(String(n.getDate()),2,"0");return`${i}-${s}-${r}`}function BF(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function $F(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function UF(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function jF(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function zF(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function HF(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function WF(t){return t.getFullYear()}function qF(t){return t.getMonth()}function GF(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function KF(t){return t.getHours()}function YF(t){return t.getMinutes()}function XF(t){return new Date(t.getFullYear(),0,1)}function QF(t){return new Date(t.getFullYear(),11,31)}function JF(t,e){return Rp(t,e[0])&&e2(t,e[1])}function ZF(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function Rp(t,e){return t.getTime()>e.getTime()}function e2(t,e){return t.getTime()<e.getTime()}function ww(t,e){return t.getTime()===e.getTime()}function t2(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function n2(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function i2(t,e,n){const i=new Date(t),s=new Date(e);switch(n){case"years":return i.getFullYear()-s.getFullYear();case"quarters":return Math.floor((i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12)/4);case"months":return i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-s.getTime())/1e3);default:return i.getTime()-s.getTime()}}function s2(t,e){const n=new Date(t);return n.setHours(e),n}function r2(t,e){const n=new Date(t);return n.setMinutes(e),n}function o2(t,e){const n=new Date(t);return n.setMonth(e),n}function a2(t,e){const n=new Date(t);return n.setFullYear(e),n}function l2(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function c2(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class u2{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return iA(e)}toJsDate(e){return e}toISO(e){return FF(this,e)}parseISO(e){return BF(e)}addMinutes(e,n){return $F(e,n)}addHours(e,n){return UF(e,n)}addDays(e,n){return jF(e,n)}addWeeks(e,n){return zF(e,n)}addMonths(e,n){return HF(e,n)}getWeekArray(e){return RF(e,this.locale)}startOfWeek(e){return OF(e)}endOfWeek(e){return DF(e)}startOfMonth(e){return tA(e)}endOfMonth(e){return nA(e)}format(e,n){return VF(e,n,this.locale,this.formats)}isEqual(e,n){return ww(e,n)}isValid(e){return ZF(e)}isWithinRange(e,n){return JF(e,n)}isAfter(e,n){return Rp(e,n)}isBefore(e,n){return!Rp(e,n)&&!ww(e,n)}isSameDay(e,n){return t2(e,n)}isSameMonth(e,n){return n2(e,n)}setMinutes(e,n){return r2(e,n)}setHours(e,n){return s2(e,n)}setMonth(e,n){return o2(e,n)}setYear(e,n){return a2(e,n)}getDiff(e,n,i){return i2(e,n,i)}getWeekdays(){return LF(this.locale)}getYear(e){return WF(e)}getMonth(e){return qF(e)}getNextMonth(e){return GF(e)}getHours(e){return KF(e)}getMinutes(e){return YF(e)}startOfDay(e){return l2(e)}endOfDay(e){return c2(e)}startOfYear(e){return XF(e)}endOfYear(e){return QF(e)}}const h2=Symbol.for("vuetify:date-options"),Sw=Symbol.for("vuetify:date-adapter");function d2(t,e){const n=qn({adapter:u2,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:f2(n,e)}}function f2(t,e){const n=gn(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return ve(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}const Vf=["sm","md","lg","xl","xxl"],Op=Symbol.for("vuetify:display"),Tw={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},g2=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tw;return qn(Tw,t)};function Ew(t){return yt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Iw(t){return yt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function Cw(t){const e=yt&&!t?window.navigator.userAgent:"ssr";function n(g){return!!e.match(g)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),c=n(/firefox/i),u=n(/opera/i),h=n(/win/i),d=n(/mac/i),f=n(/linux/i);return{android:i,ios:s,cordova:r,electron:o,chrome:a,edge:l,firefox:c,opera:u,win:h,mac:d,linux:f,touch:DV,ssr:e==="ssr"}}function m2(t,e){const{thresholds:n,mobileBreakpoint:i}=g2(t),s=fe(Iw(e)),r=fe(Cw(e)),o=gn({}),a=fe(Ew(e));function l(){s.value=Iw(),a.value=Ew()}function c(){l(),r.value=Cw()}return Vn(()=>{const u=a.value<n.sm,h=a.value<n.md&&!u,d=a.value<n.lg&&!(h||u),f=a.value<n.xl&&!(d||h||u),g=a.value<n.xxl&&!(f||d||h||u),m=a.value>=n.xxl,p=u?"xs":h?"sm":d?"md":f?"lg":g?"xl":"xxl",v=typeof i=="number"?i:n[i],y=a.value<v;o.xs=u,o.sm=h,o.md=d,o.lg=f,o.xl=g,o.xxl=m,o.smAndUp=!u,o.mdAndUp=!(u||h),o.lgAndUp=!(u||h||d),o.xlAndUp=!(u||h||d||f),o.smAndDown=!(d||f||g||m),o.mdAndDown=!(f||g||m),o.lgAndDown=!(g||m),o.xlAndDown=!m,o.name=p,o.height=s.value,o.width=a.value,o.mobile=y,o.mobileBreakpoint=i,o.platform=r.value,o.thresholds=n}),yt&&window.addEventListener("resize",l,{passive:!0}),{...y_(o),update:c,ssr:!!e}}const sA=j({mobileBreakpoint:[Number,String]},"display");function gu(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:us();const n=Ve(Op);if(!n)throw new Error("Could not find Vuetify display injection");const i=I(()=>{if(!t.mobileBreakpoint)return n.mobile.value;const r=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<r}),s=I(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:s,mobile:i}}const p2=Symbol.for("vuetify:goto");function v2(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function _2(t,e){return{rtl:e.isRtl,options:qn(v2(),t)}}const y2={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},b2={component:t=>fi(oA,{...t,class:"mdi"})},ze=[String,Function,Object,Array],Dp=Symbol.for("vuetify:icons"),Ff=j({icon:{type:ze},tag:{type:String,required:!0}},"icon"),xw=he()({name:"VComponentIcon",props:Ff(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return _(t.tag,null,{default:()=>{var s;return[t.icon?_(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),rA=nl({name:"VSvgIcon",inheritAttrs:!1,props:Ff(),setup(t,e){let{attrs:n}=e;return()=>_(t.tag,Se(n,{style:null}),{default:()=>[_("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?_("path",{d:i[0],"fill-opacity":i[1]},null):_("path",{d:i},null)):_("path",{d:t.icon},null)])]})}});nl({name:"VLigatureIcon",props:Ff(),setup(t){return()=>_(t.tag,null,{default:()=>[t.icon]})}});const oA=nl({name:"VClassIcon",props:Ff(),setup(t){return()=>_(t.tag,{class:t.icon},null)}});function w2(){return{svg:{component:rA},class:{component:oA}}}function S2(t){const e=w2(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=b2),qn({defaultSet:n,sets:e,aliases:{...y2,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},t)}const T2=t=>{const e=Ve(Dp);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:I(()=>{var l;const i=Rt(t);if(!i)return{component:xw};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(l=e.aliases)==null?void 0:l[s.slice(1)])),!s)throw new Error(`Could not find aliased icon "${i}"`);if(Array.isArray(s))return{component:rA,icon:s};if(typeof s!="string")return{component:xw,icon:s};const r=Object.keys(e.sets).find(c=>typeof s=="string"&&s.startsWith(`${c}:`)),o=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:o}})}},Sd=Symbol.for("vuetify:theme"),Et=j({theme:String},"theme");function Aw(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function E2(){var i,s;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Aw();const e=Aw();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,o]of Object.entries(t.themes??{})){const a=o.dark||r==="dark"?(i=e.themes)==null?void 0:i.dark:(s=e.themes)==null?void 0:s.light;n[r]=qn(a,o)}return qn(e,{...t,themes:n})}function I2(t){const e=E2(t),n=ae(e.defaultTheme),i=ae(e.themes),s=I(()=>{const u={};for(const[h,d]of Object.entries(i.value)){const f=u[h]={...d,colors:{...d.colors}};if(e.variations)for(const g of e.variations.colors){const m=f.colors[g];if(m)for(const p of["lighten","darken"]){const v=p==="lighten"?fF:gF;for(const y of ga(e.variations[p],1))f.colors[`${g}-${p}-${y}`]=uF(v(Hi(m),y))}}for(const g of Object.keys(f.colors)){if(/^on-[a-z]/.test(g)||f.colors[`on-${g}`])continue;const m=`on-${g}`,p=Hi(f.colors[g]);f.colors[m]=Kx(p)}}return u}),r=I(()=>s.value[n.value]),o=I(()=>{var g;const u=[];(g=r.value)!=null&&g.dark&&Gr(u,":root",["color-scheme: dark"]),Gr(u,":root",Pw(r.value));for(const[m,p]of Object.entries(s.value))Gr(u,`.v-theme--${m}`,[`color-scheme: ${p.dark?"dark":"normal"}`,...Pw(p)]);const h=[],d=[],f=new Set(Object.values(s.value).flatMap(m=>Object.keys(m.colors)));for(const m of f)/^on-[a-z]/.test(m)?Gr(d,`.${m}`,[`color: rgb(var(--v-theme-${m})) !important`]):(Gr(h,`.bg-${m}`,[`--v-theme-overlay-multiplier: var(--v-theme-${m}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${m})) !important`,`color: rgb(var(--v-theme-on-${m})) !important`]),Gr(d,`.text-${m}`,[`color: rgb(var(--v-theme-${m})) !important`]),Gr(d,`.border-${m}`,[`--v-border-color: var(--v-theme-${m})`]));return u.push(...h,...d),u.map((m,p)=>p===0?m:`    ${m}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(u){if(e.isDisabled)return;const h=u._context.provides.usehead;if(h)if(h.push){const f=h.push(a);yt&&ve(o,()=>{f.patch(a)})}else yt?(h.addHeadObjs(I(a)),Vn(()=>h.updateDOM())):h.addHeadObjs(a());else{let g=function(){if(typeof document<"u"&&!f){const m=document.createElement("style");m.type="text/css",m.id="vuetify-theme-stylesheet",e.cspNonce&&m.setAttribute("nonce",e.cspNonce),f=m,document.head.appendChild(f)}f&&(f.innerHTML=o.value)};var d=g;let f=yt?document.getElementById("vuetify-theme-stylesheet"):null;yt?ve(o,g,{immediate:!0}):g()}}const c=I(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:c,styles:o,global:{name:n,current:r}}}function Mt(t){Dt("provideTheme");const e=Ve(Sd,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=I(()=>t.theme??e.name.value),i=I(()=>e.themes.value[n.value]),s=I(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,current:i,themeClasses:s};return ht(Sd,r),r}function Gr(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function Pw(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const o=Hi(r);i.push(`--v-theme-${s}: ${o.r},${o.g},${o.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${mF(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const o=typeof r=="string"&&r.startsWith("#")?Hi(r):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;i.push(`--v-${s}: ${a??r}`)}return i}function To(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=ae(),i=ae();if(yt){const s=new ResizeObserver(r=>{t==null||t(r,s),r.length&&(e==="content"?i.value=r[0].contentRect:i.value=r[0].target.getBoundingClientRect())});Sn(()=>{s.disconnect()}),ve(n,(r,o)=>{o&&(s.unobserve(gd(o)),i.value=void 0),r&&s.observe(gd(r))},{flush:"post"})}return{resizeRef:n,contentRect:uu(i)}}const Td=Symbol.for("vuetify:layout"),aA=Symbol.for("vuetify:layout-item"),kw=1e3,C2=j({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),lA=j({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function x2(){const t=Ve(Td);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function cA(t){const e=Ve(Td);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${Ni()}`,i=Dt("useLayoutItem");ht(aA,{id:n});const s=fe(!1);rx(()=>s.value=!0),sx(()=>s.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:o}=e.register(i,{...t,active:I(()=>s.value?!1:t.active.value),id:n});return Sn(()=>e.unregister(n)),{layoutItemStyles:r,layoutRect:e.layoutRect,layoutItemScrimStyles:o}}const A2=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const o of t){const a=e.get(o),l=n.get(o),c=i.get(o);if(!a||!l||!c)continue;const u={...s,[a.value]:parseInt(s[a.value],10)+(c.value?parseInt(l.value,10):0)};r.push({id:o,layer:u}),s=u}return r};function P2(t){const e=Ve(Td,null),n=I(()=>e?e.rootZIndex.value-100:kw),i=ae([]),s=gn(new Map),r=gn(new Map),o=gn(new Map),a=gn(new Map),l=gn(new Map),{resizeRef:c,contentRect:u}=To(),h=I(()=>{const E=new Map,T=t.overlaps??[];for(const C of T.filter(P=>P.includes(":"))){const[P,R]=C.split(":");if(!i.value.includes(P)||!i.value.includes(R))continue;const D=s.get(P),k=s.get(R),O=r.get(P),V=r.get(R);!D||!k||!O||!V||(E.set(R,{position:D.value,amount:parseInt(O.value,10)}),E.set(P,{position:k.value,amount:-parseInt(V.value,10)}))}return E}),d=I(()=>{const E=[...new Set([...o.values()].map(C=>C.value))].sort((C,P)=>C-P),T=[];for(const C of E){const P=i.value.filter(R=>{var D;return((D=o.get(R))==null?void 0:D.value)===C});T.push(...P)}return A2(T,s,r,a)}),f=I(()=>!Array.from(l.values()).some(E=>E.value)),g=I(()=>d.value[d.value.length-1].layer),m=I(()=>({"--v-layout-left":_e(g.value.left),"--v-layout-right":_e(g.value.right),"--v-layout-top":_e(g.value.top),"--v-layout-bottom":_e(g.value.bottom),...f.value?void 0:{transition:"none"}})),p=I(()=>d.value.slice(1).map((E,T)=>{let{id:C}=E;const{layer:P}=d.value[T],R=r.get(C),D=s.get(C);return{id:C,...P,size:Number(R.value),position:D.value}})),v=E=>p.value.find(T=>T.id===E),y=Dt("createLayout"),w=fe(!1);_i(()=>{w.value=!0}),ht(Td,{register:(E,T)=>{let{id:C,order:P,position:R,layoutSize:D,elementSize:k,active:O,disableTransitions:V,absolute:B}=T;o.set(C,P),s.set(C,R),r.set(C,D),a.set(C,O),V&&l.set(C,V);const K=tc(aA,y==null?void 0:y.vnode).indexOf(E);K>-1?i.value.splice(K,0,C):i.value.push(C);const L=I(()=>p.value.findIndex(Y=>Y.id===C)),z=I(()=>n.value+d.value.length*2-L.value*2),$=I(()=>{const Y=R.value==="left"||R.value==="right",ce=R.value==="right",ge=R.value==="bottom",pe={[R.value]:0,zIndex:z.value,transform:`translate${Y?"X":"Y"}(${(O.value?0:-110)*(ce||ge?-1:1)}%)`,position:B.value||n.value!==kw?"absolute":"fixed",...f.value?void 0:{transition:"none"}};if(!w.value)return pe;const me=p.value[L.value];if(!me)throw new Error(`[Vuetify] Could not find layout item "${C}"`);const N=h.value.get(C);return N&&(me[N.position]+=N.amount),{...pe,height:Y?`calc(100% - ${me.top}px - ${me.bottom}px)`:k.value?`${k.value}px`:void 0,left:ce?void 0:`${me.left}px`,right:ce?`${me.right}px`:void 0,top:R.value!=="bottom"?`${me.top}px`:void 0,bottom:R.value!=="top"?`${me.bottom}px`:void 0,width:Y?k.value?`${k.value}px`:void 0:`calc(100% - ${me.left}px - ${me.right}px)`}}),W=I(()=>({zIndex:z.value-1}));return{layoutItemStyles:$,layoutItemScrimStyles:W,zIndex:z}},unregister:E=>{o.delete(E),s.delete(E),r.delete(E),a.delete(E),l.delete(E),i.value=i.value.filter(T=>T!==E)},mainRect:g,mainStyles:m,getLayoutItem:v,items:p,layoutRect:u,rootZIndex:n});const b=I(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),S=I(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:b,layoutStyles:S,getLayoutItem:v,items:p,layoutRect:u,layoutRef:c}}function uA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=qn(e,n),{aliases:s={},components:r={},directives:o={}}=i,a=pF(i.defaults),l=m2(i.display,i.ssr),c=I2(i.theme),u=S2(i.icons),h=AF(i.locale),d=d2(i.date,h),f=_2(i.goTo,h);return{install:m=>{for(const p in o)m.directive(p,o[p]);for(const p in r)m.component(p,r[p]);for(const p in s)m.component(p,nl({...s[p],name:p,aliasName:s[p].name}));if(c.install(m),m.provide(Da,a),m.provide(Op,l),m.provide(Sd,c),m.provide(Dp,u),m.provide(wd,h),m.provide(h2,d.options),m.provide(Sw,d.instance),m.provide(p2,f),yt&&i.ssr)if(m.$nuxt)m.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:p}=m;m.mount=function(){const v=p(...arguments);return $t(()=>l.update()),m.mount=p,v}}Ni.reset(),m.mixin({computed:{$vuetify(){return gn({defaults:ia.call(this,Da),display:ia.call(this,Op),theme:ia.call(this,Sd),icons:ia.call(this,Dp),locale:ia.call(this,wd),date:ia.call(this,Sw)})}}})},defaults:a,display:l,theme:c,icons:u,locale:h,date:d,goTo:f}}const k2="3.5.12";uA.version=k2;function ia(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}const R2={dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","primary-darken-1":"#3700B3","secondary-darken-1":"#018786",primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}},O2=uA({theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:R2}}});/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ca=typeof document<"u";function D2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const tt=Object.assign;function _m(t,e){const n={};for(const i in e){const s=e[i];n[i]=ki(s)?s.map(t):t(s)}return n}const nc=()=>{},ki=Array.isArray,hA=/#/g,M2=/&/g,N2=/\//g,L2=/=/g,V2=/\?/g,dA=/\+/g,F2=/%5B/g,B2=/%5D/g,fA=/%5E/g,$2=/%60/g,gA=/%7B/g,U2=/%7C/g,mA=/%7D/g,j2=/%20/g;function F_(t){return encodeURI(""+t).replace(U2,"|").replace(F2,"[").replace(B2,"]")}function z2(t){return F_(t).replace(gA,"{").replace(mA,"}").replace(fA,"^")}function Mp(t){return F_(t).replace(dA,"%2B").replace(j2,"+").replace(hA,"%23").replace(M2,"%26").replace($2,"`").replace(gA,"{").replace(mA,"}").replace(fA,"^")}function H2(t){return Mp(t).replace(L2,"%3D")}function W2(t){return F_(t).replace(hA,"%23").replace(V2,"%3F")}function q2(t){return t==null?"":W2(t).replace(N2,"%2F")}function kc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const G2=/\/$/,K2=t=>t.replace(G2,"");function ym(t,e,n="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=J2(i??e,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:kc(o)}}function Y2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Rw(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function X2(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Ma(e.matched[i],n.matched[s])&&pA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ma(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function pA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Q2(t[n],e[n]))return!1;return!0}function Q2(t,e){return ki(t)?Ow(t,e):ki(e)?Ow(e,t):t===e}function Ow(t,e){return ki(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function J2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o).join("/")}var Rc;(function(t){t.pop="pop",t.push="push"})(Rc||(Rc={}));var ic;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ic||(ic={}));function Z2(t){if(!t)if(ca){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),K2(t)}const eB=/^[^#]+#/;function tB(t,e){return t.replace(eB,"#")+e}function nB(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Bf=()=>({left:window.scrollX,top:window.scrollY});function iB(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=nB(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Dw(t,e){return(history.state?history.state.position-e:-1)+t}const Np=new Map;function sB(t,e){Np.set(t,e)}function rB(t){const e=Np.get(t);return Np.delete(t),e}let oB=()=>location.protocol+"//"+location.host;function vA(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let a=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Rw(l,"")}return Rw(n,t)+i+s}function aB(t,e,n,i){let s=[],r=[],o=null;const a=({state:d})=>{const f=vA(t,location),g=n.value,m=e.value;let p=0;if(d){if(n.value=f,e.value=d,o&&o===g){o=null;return}p=m?d.position-m.position:0}else i(f);s.forEach(v=>{v(n.value,g,{delta:p,type:Rc.pop,direction:p?p>0?ic.forward:ic.back:ic.unknown})})};function l(){o=n.value}function c(d){s.push(d);const f=()=>{const g=s.indexOf(d);g>-1&&s.splice(g,1)};return r.push(f),f}function u(){const{history:d}=window;d.state&&d.replaceState(tt({},d.state,{scroll:Bf()}),"")}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Mw(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Bf():null}}function lB(t){const{history:e,location:n}=window,i={value:vA(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:oB()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(l,c){const u=tt({},e.state,Mw(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=tt({},s.value,e.state,{forward:l,scroll:Bf()});r(u.current,u,!0);const h=tt({},Mw(i.value,l,null),{position:u.position+1},c);r(l,h,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function cB(t){t=Z2(t);const e=lB(t),n=aB(t,e.state,e.location,e.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=tt({location:"",base:t,go:i,createHref:tB.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function uB(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),cB(t)}function hB(t){return typeof t=="string"||t&&typeof t=="object"}function _A(t){return typeof t=="string"||typeof t=="symbol"}const Ys={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yA=Symbol("");var Nw;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Nw||(Nw={}));function Na(t,e){return tt(new Error,{type:t,[yA]:!0},e)}function ps(t,e){return t instanceof Error&&yA in t&&(e==null||!!(t.type&e))}const Lw="[^/]+?",dB={sensitive:!1,strict:!1,start:!0,end:!0},fB=/[.+*?^${}()[\]/\\]/g;function gB(t,e){const n=tt({},dB,e),i=[];let s=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(fB,"\\$&"),f+=40;else if(d.type===1){const{value:g,repeatable:m,optional:p,regexp:v}=d;r.push({name:g,repeatable:m,optional:p});const y=v||Lw;if(y!==Lw){f+=10;try{new RegExp(`(${y})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+b.message)}}let w=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(w=p&&c.length<2?`(?:/${w})`:"/"+w),p&&(w+="?"),s+=w,f+=20,p&&(f+=-8),m&&(f+=-20),y===".*"&&(f+=-50)}u.push(f)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",g=r[d-1];h[g.name]=f&&g.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:g,repeatable:m,optional:p}=f,v=g in c?c[g]:"";if(ki(v)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=ki(v)?v.join("/"):v;if(!y)if(p)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=y}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function mB(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function pB(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=mB(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(Vw(i))return 1;if(Vw(s))return-1}return s.length-i.length}function Vw(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const vB={type:0,value:""},_B=/[a-zA-Z0-9_]/;function yB(t){if(!t)return[[]];if(t==="/")return[[vB]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:l==="("?n=2:_B.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function bB(t,e,n){const i=gB(yB(t.path),n),s=tt(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function wB(t,e){const n=[],i=new Map;e=$w({strict:!1,end:!0,sensitive:!1},e);function s(u){return i.get(u)}function r(u,h,d){const f=!d,g=SB(u);g.aliasOf=d&&d.record;const m=$w(e,u),p=[g];if("alias"in u){const w=typeof u.alias=="string"?[u.alias]:u.alias;for(const b of w)p.push(tt({},g,{components:d?d.record.components:g.components,path:b,aliasOf:d?d.record:g}))}let v,y;for(const w of p){const{path:b}=w;if(h&&b[0]!=="/"){const S=h.record.path,E=S[S.length-1]==="/"?"":"/";w.path=h.record.path+(b&&E+b)}if(v=bB(w,h,m),d?d.alias.push(v):(y=y||v,y!==v&&y.alias.push(v),f&&u.name&&!Bw(v)&&o(u.name)),g.children){const S=g.children;for(let E=0;E<S.length;E++)r(S[E],v,d&&d.children[E])}d=d||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return y?()=>{o(y)}:nc}function o(u){if(_A(u)){const h=i.get(u);h&&(i.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&pB(u,n[h])>=0&&(u.record.path!==n[h].record.path||!bA(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Bw(u)&&i.set(u.record.name,u)}function c(u,h){let d,f={},g,m;if("name"in u&&u.name){if(d=i.get(u.name),!d)throw Na(1,{location:u});m=d.record.name,f=tt(Fw(h.params,d.keys.filter(y=>!y.optional).concat(d.parent?d.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),u.params&&Fw(u.params,d.keys.map(y=>y.name))),g=d.stringify(f)}else if(u.path!=null)g=u.path,d=n.find(y=>y.re.test(g)),d&&(f=d.parse(g),m=d.record.name);else{if(d=h.name?i.get(h.name):n.find(y=>y.re.test(h.path)),!d)throw Na(1,{location:u,currentLocation:h});m=d.record.name,f=tt({},h.params,u.params),g=d.stringify(f)}const p=[];let v=d;for(;v;)p.unshift(v.record),v=v.parent;return{name:m,path:g,params:f,matched:p,meta:EB(p)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Fw(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function SB(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:TB(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function TB(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function Bw(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function EB(t){return t.reduce((e,n)=>tt(e,n.meta),{})}function $w(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function bA(t,e){return e.children.some(n=>n===t||bA(t,n))}function IB(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(dA," "),o=r.indexOf("="),a=kc(o<0?r:r.slice(0,o)),l=o<0?null:kc(r.slice(o+1));if(a in e){let c=e[a];ki(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Uw(t){let e="";for(let n in t){const i=t[n];if(n=H2(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(ki(i)?i.map(r=>r&&Mp(r)):[i&&Mp(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function CB(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=ki(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const xB=Symbol(""),jw=Symbol(""),B_=Symbol(""),$_=Symbol(""),Lp=Symbol("");function El(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ir(t,e,n,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Na(4,{from:n,to:e})):d instanceof Error?l(d):hB(d)?l(Na(2,{from:e,to:d})):(o&&i.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>t.call(i&&i.instances[s],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function bm(t,e,n,i,s=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(AB(l)){const u=(l.__vccOpts||l)[e];u&&r.push(ir(u,n,i,o,a,s))}else{let c=l();r.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=D2(u)?u.default:u;o.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&ir(f,n,i,o,a,s)()}))}}return r}function AB(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function zw(t){const e=Ve(B_),n=Ve($_),i=I(()=>e.resolve(Rt(t.to))),s=I(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(Ma.bind(null,u));if(d>-1)return d;const f=Hw(l[c-2]);return c>1&&Hw(u)===f&&h[h.length-1].path!==f?h.findIndex(Ma.bind(null,l[c-2])):d}),r=I(()=>s.value>-1&&OB(n.params,i.value.params)),o=I(()=>s.value>-1&&s.value===n.matched.length-1&&pA(n.params,i.value.params));function a(l={}){return RB(l)?e[Rt(t.replace)?"replace":"push"](Rt(t.to)).catch(nc):Promise.resolve()}return{route:i,href:I(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const PB=cs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zw,setup(t,{slots:e}){const n=gn(zw(t)),{options:i}=Ve(B_),s=I(()=>({[Ww(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Ww(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:fi("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),kB=PB;function RB(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function OB(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!ki(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function Hw(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ww=(t,e,n)=>t??e??n,DB=cs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Ve(Lp),s=I(()=>t.route||i.value),r=Ve(jw,0),o=I(()=>{let c=Rt(r);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=I(()=>s.value.matched[o.value]);ht(jw,I(()=>o.value+1)),ht(xB,a),ht(Lp,s);const l=ae();return ve(()=>[l.value,a.value,t.name],([c,u,h],[d,f,g])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Ma(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return qw(n.default,{Component:d,route:c});const f=h.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,p=fi(d,tt({},g,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return qw(n.default,{Component:p,route:c})||p}}});function qw(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const MB=DB;function NB(t){const e=wB(t.routes,t),n=t.parseQuery||IB,i=t.stringifyQuery||Uw,s=t.history,r=El(),o=El(),a=El(),l=fe(Ys);let c=Ys;ca&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=_m.bind(null,N=>""+N),h=_m.bind(null,q2),d=_m.bind(null,kc);function f(N,Q){let ee,ue;return _A(N)?(ee=e.getRecordMatcher(N),ue=Q):ue=N,e.addRoute(ue,ee)}function g(N){const Q=e.getRecordMatcher(N);Q&&e.removeRoute(Q)}function m(){return e.getRoutes().map(N=>N.record)}function p(N){return!!e.getRecordMatcher(N)}function v(N,Q){if(Q=tt({},Q||l.value),typeof N=="string"){const A=ym(n,N,Q.path),M=e.resolve({path:A.path},Q),U=s.createHref(A.fullPath);return tt(A,M,{params:d(M.params),hash:kc(A.hash),redirectedFrom:void 0,href:U})}let ee;if(N.path!=null)ee=tt({},N,{path:ym(n,N.path,Q.path).path});else{const A=tt({},N.params);for(const M in A)A[M]==null&&delete A[M];ee=tt({},N,{params:h(A)}),Q.params=h(Q.params)}const ue=e.resolve(ee,Q),Fe=N.hash||"";ue.params=u(d(ue.params));const et=Y2(i,tt({},N,{hash:z2(Fe),path:ue.path})),x=s.createHref(et);return tt({fullPath:et,hash:Fe,query:i===Uw?CB(N.query):N.query||{}},ue,{redirectedFrom:void 0,href:x})}function y(N){return typeof N=="string"?ym(n,N,l.value.path):tt({},N)}function w(N,Q){if(c!==N)return Na(8,{from:Q,to:N})}function b(N){return T(N)}function S(N){return b(tt(y(N),{replace:!0}))}function E(N){const Q=N.matched[N.matched.length-1];if(Q&&Q.redirect){const{redirect:ee}=Q;let ue=typeof ee=="function"?ee(N):ee;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=y(ue):{path:ue},ue.params={}),tt({query:N.query,hash:N.hash,params:ue.path!=null?{}:N.params},ue)}}function T(N,Q){const ee=c=v(N),ue=l.value,Fe=N.state,et=N.force,x=N.replace===!0,A=E(ee);if(A)return T(tt(y(A),{state:typeof A=="object"?tt({},Fe,A.state):Fe,force:et,replace:x}),Q||ee);const M=ee;M.redirectedFrom=Q;let U;return!et&&X2(i,ue,ee)&&(U=Na(16,{to:M,from:ue}),W(ue,ue,!0,!1)),(U?Promise.resolve(U):R(M,ue)).catch(F=>ps(F)?ps(F,2)?F:$(F):L(F,M,ue)).then(F=>{if(F){if(ps(F,2))return T(tt({replace:x},y(F.to),{state:typeof F.to=="object"?tt({},Fe,F.to.state):Fe,force:et}),Q||M)}else F=k(M,ue,!0,x,Fe);return D(M,ue,F),F})}function C(N,Q){const ee=w(N,Q);return ee?Promise.reject(ee):Promise.resolve()}function P(N){const Q=ge.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(N):N()}function R(N,Q){let ee;const[ue,Fe,et]=LB(N,Q);ee=bm(ue.reverse(),"beforeRouteLeave",N,Q);for(const A of ue)A.leaveGuards.forEach(M=>{ee.push(ir(M,N,Q))});const x=C.bind(null,N,Q);return ee.push(x),me(ee).then(()=>{ee=[];for(const A of r.list())ee.push(ir(A,N,Q));return ee.push(x),me(ee)}).then(()=>{ee=bm(Fe,"beforeRouteUpdate",N,Q);for(const A of Fe)A.updateGuards.forEach(M=>{ee.push(ir(M,N,Q))});return ee.push(x),me(ee)}).then(()=>{ee=[];for(const A of et)if(A.beforeEnter)if(ki(A.beforeEnter))for(const M of A.beforeEnter)ee.push(ir(M,N,Q));else ee.push(ir(A.beforeEnter,N,Q));return ee.push(x),me(ee)}).then(()=>(N.matched.forEach(A=>A.enterCallbacks={}),ee=bm(et,"beforeRouteEnter",N,Q,P),ee.push(x),me(ee))).then(()=>{ee=[];for(const A of o.list())ee.push(ir(A,N,Q));return ee.push(x),me(ee)}).catch(A=>ps(A,8)?A:Promise.reject(A))}function D(N,Q,ee){a.list().forEach(ue=>P(()=>ue(N,Q,ee)))}function k(N,Q,ee,ue,Fe){const et=w(N,Q);if(et)return et;const x=Q===Ys,A=ca?history.state:{};ee&&(ue||x?s.replace(N.fullPath,tt({scroll:x&&A&&A.scroll},Fe)):s.push(N.fullPath,Fe)),l.value=N,W(N,Q,ee,x),$()}let O;function V(){O||(O=s.listen((N,Q,ee)=>{if(!pe.listening)return;const ue=v(N),Fe=E(ue);if(Fe){T(tt(Fe,{replace:!0}),ue).catch(nc);return}c=ue;const et=l.value;ca&&sB(Dw(et.fullPath,ee.delta),Bf()),R(ue,et).catch(x=>ps(x,12)?x:ps(x,2)?(T(x.to,ue).then(A=>{ps(A,20)&&!ee.delta&&ee.type===Rc.pop&&s.go(-1,!1)}).catch(nc),Promise.reject()):(ee.delta&&s.go(-ee.delta,!1),L(x,ue,et))).then(x=>{x=x||k(ue,et,!1),x&&(ee.delta&&!ps(x,8)?s.go(-ee.delta,!1):ee.type===Rc.pop&&ps(x,20)&&s.go(-1,!1)),D(ue,et,x)}).catch(nc)}))}let B=El(),X=El(),K;function L(N,Q,ee){$(N);const ue=X.list();return ue.length?ue.forEach(Fe=>Fe(N,Q,ee)):console.error(N),Promise.reject(N)}function z(){return K&&l.value!==Ys?Promise.resolve():new Promise((N,Q)=>{B.add([N,Q])})}function $(N){return K||(K=!N,V(),B.list().forEach(([Q,ee])=>N?ee(N):Q()),B.reset()),N}function W(N,Q,ee,ue){const{scrollBehavior:Fe}=t;if(!ca||!Fe)return Promise.resolve();const et=!ee&&rB(Dw(N.fullPath,0))||(ue||!ee)&&history.state&&history.state.scroll||null;return $t().then(()=>Fe(N,Q,et)).then(x=>x&&iB(x)).catch(x=>L(x,N,Q))}const Y=N=>s.go(N);let ce;const ge=new Set,pe={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,hasRoute:p,getRoutes:m,resolve:v,options:t,push:b,replace:S,go:Y,back:()=>Y(-1),forward:()=>Y(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:X.add,isReady:z,install(N){const Q=this;N.component("RouterLink",kB),N.component("RouterView",MB),N.config.globalProperties.$router=Q,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Rt(l)}),ca&&!ce&&l.value===Ys&&(ce=!0,b(s.location).catch(Fe=>{}));const ee={};for(const Fe in Ys)Object.defineProperty(ee,Fe,{get:()=>l.value[Fe],enumerable:!0});N.provide(B_,Q),N.provide($_,BC(ee)),N.provide(Lp,l);const ue=N.unmount;ge.add(N),N.unmount=function(){ge.delete(N),ge.size<1&&(c=Ys,O&&O(),O=null,l.value=Ys,ce=!1,K=!1),ue()}}};function me(N){return N.reduce((Q,ee)=>Q.then(()=>P(ee)),Promise.resolve())}return pe}function LB(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ma(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ma(c,l))||s.push(l))}return[n,i,s]}function Ed(){return Ve($_)}/*! js-cookie v3.0.5 | MIT */function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}var VB={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Vp(t,e){function n(s,r,o){if(!(typeof document>"u")){o=dh({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=s+"="+t.write(r,s)+a}}function i(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var r=document.cookie?document.cookie.split("; "):[],o={},a=0;a<r.length;a++){var l=r[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),s===u)break}catch{}}return s?o[s]:o}}return Object.create({set:n,get:i,remove:function(s,r){n(s,"",dh({},r,{expires:-1}))},withAttributes:function(s){return Vp(this.converter,dh({},this.attributes,s))},withConverter:function(s){return Vp(dh({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var li=Vp(VB,{path:"/"}),Gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se=function(t,e){if(!t)throw sl(e)},sl=function(t){return new Error("Firebase Database ("+wA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},FB=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},$f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw new BB;const d=r<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const g=c<<6&192|h;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TA=function(t){const e=SA(t);return $f.encodeByteArray(e,!0)},Id=function(t){return TA(t).replace(/\./g,"")},Cd=function(t){try{return $f.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){return EA(void 0,t)}function EA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!UB(n)||(t[n]=EA(t[n],e[n]));return t}function UB(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=()=>jB().__FIREBASE_DEFAULTS__,HB=()=>{if(typeof process>"u"||typeof Gw>"u")return;const t=Gw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cd(t[1]);return e&&JSON.parse(e)},Uf=()=>{try{return zB()||HB()||WB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qB=t=>{var e,n;return(n=(e=Uf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GB=t=>{const e=qB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},IA=()=>{var t;return(t=Uf())===null||t===void 0?void 0:t.config},KB=t=>{var e;return(e=Uf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Id(JSON.stringify(n)),Id(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function XB(){var t;const e=(t=Uf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JB(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xA(){return wA.NODE_ADMIN===!0}function ZB(){return!XB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j_(){try{return typeof indexedDB=="object"}catch{return!1}}function e$(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="FirebaseError";class hs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=t$,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?n$(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new hs(s,a,i)}}function n$(t,e){return t.replace(i$,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const i$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){return JSON.parse(t)}function sn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=Dc(Cd(r[0])||""),n=Dc(Cd(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},s$=function(t){const e=AA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},r$=function(t){const e=AA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function La(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Fp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xd(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Ad(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(Kw(r)&&Kw(o)){if(!Ad(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):h<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const d=(s<<5|s>>>27)+c+l+u+i[h]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function a$(t,e){const n=new l$(t,e);return n.subscribe.bind(n)}class l${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");c$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=wm),s.error===void 0&&(s.error=wm),s.complete===void 0&&(s.complete=wm);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wm(){}function u$(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,se(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},jf=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){return t&&t._delegate?t._delegate:t}class Ri{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Oc;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g$(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:f$(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f$(t){return t===Xr?void 0:t}function g$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const p$={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},v$=$e.INFO,_$={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},y$=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=_$[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mu{constructor(e){this.name=e,this._logLevel=v$,this._logHandler=y$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const b$=(t,e)=>e.some(n=>t instanceof n);let Yw,Xw;function w$(){return Yw||(Yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S$(){return Xw||(Xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PA=new WeakMap,Bp=new WeakMap,kA=new WeakMap,Sm=new WeakMap,z_=new WeakMap;function T$(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(gr(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PA.set(n,t)}).catch(()=>{}),z_.set(e,t),e}function E$(t){if(Bp.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Bp.set(t,e)}let $p={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I$(t){$p=t($p)}function C$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Tm(this),e,...n);return kA.set(i,e.sort?e.sort():[e]),gr(i)}:S$().includes(t)?function(...e){return t.apply(Tm(this),e),gr(PA.get(this))}:function(...e){return gr(t.apply(Tm(this),e))}}function x$(t){return typeof t=="function"?C$(t):(t instanceof IDBTransaction&&E$(t),b$(t,w$())?new Proxy(t,$p):t)}function gr(t){if(t instanceof IDBRequest)return T$(t);if(Sm.has(t))return Sm.get(t);const e=x$(t);return e!==t&&(Sm.set(t,e),z_.set(e,t)),e}const Tm=t=>z_.get(t);function A$(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=gr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(gr(o.result),l.oldVersion,l.newVersion,gr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const P$=["get","getKey","getAll","getAllKeys","count"],k$=["put","add","delete","clear"],Em=new Map;function Qw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=k$.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||P$.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Em.set(e,r),r}I$(t=>({...t,get:(e,n,i)=>Qw(e,n)||t.get(e,n,i),has:(e,n)=>!!Qw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O$(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function O$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Up="@firebase/app",Jw="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new mu("@firebase/app"),D$="@firebase/app-compat",M$="@firebase/analytics-compat",N$="@firebase/analytics",L$="@firebase/app-check-compat",V$="@firebase/app-check",F$="@firebase/auth",B$="@firebase/auth-compat",$$="@firebase/database",U$="@firebase/database-compat",j$="@firebase/functions",z$="@firebase/functions-compat",H$="@firebase/installations",W$="@firebase/installations-compat",q$="@firebase/messaging",G$="@firebase/messaging-compat",K$="@firebase/performance",Y$="@firebase/performance-compat",X$="@firebase/remote-config",Q$="@firebase/remote-config-compat",J$="@firebase/storage",Z$="@firebase/storage-compat",eU="@firebase/firestore",tU="@firebase/firestore-compat",nU="firebase",iU="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]",sU={[Up]:"fire-core",[D$]:"fire-core-compat",[N$]:"fire-analytics",[M$]:"fire-analytics-compat",[V$]:"fire-app-check",[L$]:"fire-app-check-compat",[F$]:"fire-auth",[B$]:"fire-auth-compat",[$$]:"fire-rtdb",[U$]:"fire-rtdb-compat",[j$]:"fire-fn",[z$]:"fire-fn-compat",[H$]:"fire-iid",[W$]:"fire-iid-compat",[q$]:"fire-fcm",[G$]:"fire-fcm-compat",[K$]:"fire-perf",[Y$]:"fire-perf-compat",[X$]:"fire-rc",[Q$]:"fire-rc-compat",[J$]:"fire-gcs",[Z$]:"fire-gcs-compat",[eU]:"fire-fst",[tU]:"fire-fst-compat","fire-js":"fire-js",[nU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new Map,zp=new Map;function rU(t,e){try{t.container.addComponent(e)}catch(n){Eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function is(t){const e=t.name;if(zp.has(e))return Eo.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,t);for(const n of Pd.values())rU(n,t);return!0}function RA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},mr=new rl("app","Firebase",oU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=iU;function OA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:jp,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw mr.create("bad-app-name",{appName:String(s)});if(n||(n=IA()),!n)throw mr.create("no-options");const r=Pd.get(s);if(r){if(Ad(n,r.options)&&Ad(i,r.config))return r;throw mr.create("duplicate-app",{appName:s})}const o=new m$(s);for(const l of zp.values())o.addComponent(l);const a=new aU(n,i,o);return Pd.set(s,a),a}function DA(t=jp){const e=Pd.get(t);if(!e&&t===jp&&IA())return OA();if(!e)throw mr.create("no-app",{appName:t});return e}function Qn(t,e,n){var i;let s=(i=sU[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Eo.warn(a.join(" "));return}is(new Ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU="firebase-heartbeat-database",cU=1,Mc="firebase-heartbeat-store";let Im=null;function MA(){return Im||(Im=A$(lU,cU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw mr.create("idb-open",{originalErrorMessage:t.message})})),Im}async function uU(t){try{const n=(await MA()).transaction(Mc),i=await n.objectStore(Mc).get(NA(t));return await n.done,i}catch(e){if(e instanceof hs)Eo.warn(e.message);else{const n=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Eo.warn(n.message)}}}async function Zw(t,e){try{const i=(await MA()).transaction(Mc,"readwrite");await i.objectStore(Mc).put(e,NA(t)),await i.done}catch(n){if(n instanceof hs)Eo.warn(n.message);else{const i=mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Eo.warn(i.message)}}}function NA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=1024,dU=30*24*60*60*1e3;class fU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mU(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eS();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=dU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eS(),{heartbeatsToSend:i,unsentEntries:s}=gU(this._heartbeatsCache.heartbeats),r=Id(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function eS(){return new Date().toISOString().substring(0,10)}function gU(t,e=hU){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),tS(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),tS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class mU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j_()?e$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Zw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Zw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function tS(t){return Id(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){is(new Ri("platform-logger",e=>new R$(e),"PRIVATE")),is(new Ri("heartbeat",e=>new fU(e),"PRIVATE")),Qn(Up,Jw,t),Qn(Up,Jw,"esm2017"),Qn("fire-js","")}pU("");var vU="firebase",_U="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(vU,_U,"app");var yU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re,H_=H_||{},Ae=yU||self;function zf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function pu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function bU(t){return Object.prototype.hasOwnProperty.call(t,Cm)&&t[Cm]||(t[Cm]=++wU)}var Cm="closure_uid_"+(1e9*Math.random()>>>0),wU=0;function SU(t,e,n){return t.call.apply(t.bind,arguments)}function TU(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function _n(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_n=SU:_n=TU,_n.apply(null,arguments)}function fh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function en(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(i,o)}}function Mr(){this.s=this.s,this.o=this.o}var EU=0;Mr.prototype.s=!1;Mr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),EU!=0)&&bU(this)};Mr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function W_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function nS(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(zf(i)){const s=t.length||0,r=i.length||0;t.length=s+r;for(let o=0;o<r;o++)t[s+o]=i[o]}else t.push(i)}}function yn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yn.prototype.h=function(){this.defaultPrevented=!0};var IU=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ae.addEventListener("test",n,e),Ae.removeEventListener("test",n,e)}catch{}return t}();function Nc(t){return/^[\s\xa0]*$/.test(t)}function Hf(){var t=Ae.navigator;return t&&(t=t.userAgent)?t:""}function zi(t){return Hf().indexOf(t)!=-1}function q_(t){return q_[" "](t),t}q_[" "]=function(){};function CU(t,e){var n=_j;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var xU=zi("Opera"),Va=zi("Trident")||zi("MSIE"),VA=zi("Edge"),Hp=VA||Va,FA=zi("Gecko")&&!(Hf().toLowerCase().indexOf("webkit")!=-1&&!zi("Edge"))&&!(zi("Trident")||zi("MSIE"))&&!zi("Edge"),AU=Hf().toLowerCase().indexOf("webkit")!=-1&&!zi("Edge");function BA(){var t=Ae.document;return t?t.documentMode:void 0}var Wp;e:{var xm="",Am=function(){var t=Hf();if(FA)return/rv:([^\);]+)(\)|;)/.exec(t);if(VA)return/Edge\/([\d\.]+)/.exec(t);if(Va)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(AU)return/WebKit\/(\S+)/.exec(t);if(xU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Am&&(xm=Am?Am[1]:""),Va){var Pm=BA();if(Pm!=null&&Pm>parseFloat(xm)){Wp=String(Pm);break e}}Wp=xm}var qp;if(Ae.document&&Va){var iS=BA();qp=iS||parseInt(Wp,10)||void 0}else qp=void 0;var PU=qp;function Lc(t,e){if(yn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(FA){e:{try{q_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:kU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Lc.$.h.call(this)}}en(Lc,yn);var kU={2:"touch",3:"pen",4:"mouse"};Lc.prototype.h=function(){Lc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vu="closure_listenable_"+(1e6*Math.random()|0),RU=0;function OU(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++RU,this.fa=this.ia=!1}function Wf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function G_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function DU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function $A(t){const e={};for(const n in t)e[n]=t[n];return e}const sS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UA(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let r=0;r<sS.length;r++)n=sS[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function qf(t){this.src=t,this.g={},this.h=0}qf.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=Kp(t,e,i,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new OU(e,this.src,r,!!i,s),e.ia=n,t.push(e)),e};function Gp(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=LA(i,e),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Wf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Kp(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.fa&&r.listener==e&&r.capture==!!n&&r.la==i)return s}return-1}var K_="closure_lm_"+(1e6*Math.random()|0),km={};function jA(t,e,n,i,s){if(i&&i.once)return HA(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)jA(t,e[r],n,i,s);return null}return n=Q_(n),t&&t[vu]?t.O(e,n,pu(i)?!!i.capture:!!i,s):zA(t,e,n,!1,i,s)}function zA(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=pu(s)?!!s.capture:!!s,a=X_(t);if(a||(t[K_]=a=new qf(t)),n=a.add(e,n,i,o,r),n.proxy)return n;if(i=MU(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)IU||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(qA(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function MU(){function t(n){return e.call(t.src,t.listener,n)}const e=NU;return t}function HA(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)HA(t,e[r],n,i,s);return null}return n=Q_(n),t&&t[vu]?t.P(e,n,pu(i)?!!i.capture:!!i,s):zA(t,e,n,!0,i,s)}function WA(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)WA(t,e[r],n,i,s);else i=pu(i)?!!i.capture:!!i,n=Q_(n),t&&t[vu]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=Kp(r,n,i,s),-1<n&&(Wf(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=X_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Kp(e,n,i,s)),(n=-1<t?e[t]:null)&&Y_(n))}function Y_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[vu])Gp(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(qA(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=X_(e))?(Gp(n,t),n.h==0&&(n.src=null,e[K_]=null)):Wf(t)}}}function qA(t){return t in km?km[t]:km[t]="on"+t}function NU(t,e){if(t.fa)t=!0;else{e=new Lc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Y_(t),t=n.call(i,e)}return t}function X_(t){return t=t[K_],t instanceof qf?t:null}var Rm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q_(t){return typeof t=="function"?t:(t[Rm]||(t[Rm]=function(e){return t.handleEvent(e)}),t[Rm])}function Zt(){Mr.call(this),this.i=new qf(this),this.S=this,this.J=null}en(Zt,Mr);Zt.prototype[vu]=!0;Zt.prototype.removeEventListener=function(t,e,n,i){WA(this,t,e,n,i)};function on(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new yn(e,t);else if(e instanceof yn)e.target=e.target||t;else{var s=e;e=new yn(i,t),UA(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=gh(o,i,!0,e)&&s}if(o=e.g=t,s=gh(o,i,!0,e)&&s,s=gh(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)o=e.g=n[r],s=gh(o,i,!1,e)&&s}Zt.prototype.N=function(){if(Zt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Wf(n[i]);delete t.g[e],t.h--}}this.J=null};Zt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Zt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function gh(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Gp(t.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var J_=Ae.JSON.stringify;class LU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function VU(){var t=Z_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class FU{constructor(){this.h=this.g=null}add(e,n){const i=GA.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var GA=new LU(()=>new BU,t=>t.reset());class BU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $U(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function UU(t){Ae.setTimeout(()=>{throw t},0)}let Vc,Fc=!1,Z_=new FU,KA=()=>{const t=Ae.Promise.resolve(void 0);Vc=()=>{t.then(jU)}};var jU=()=>{for(var t;t=VU();){try{t.h.call(t.g)}catch(n){UU(n)}var e=GA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Fc=!1};function Gf(t,e){Zt.call(this),this.h=t||1,this.g=e||Ae,this.j=_n(this.qb,this),this.l=Date.now()}en(Gf,Zt);re=Gf.prototype;re.ga=!1;re.T=null;re.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),on(this,"tick"),this.ga&&(ey(this),this.start()))}};re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ey(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}re.N=function(){Gf.$.N.call(this),ey(this),delete this.g};function ty(t,e,n){if(typeof t=="function")n&&(t=_n(t,n));else if(t&&typeof t.handleEvent=="function")t=_n(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ae.setTimeout(t,e||0)}function YA(t){t.g=ty(()=>{t.g=null,t.i&&(t.i=!1,YA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class zU extends Mr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:YA(this)}N(){super.N(),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bc(t){Mr.call(this),this.h=t,this.g={}}en(Bc,Mr);var rS=[];function XA(t,e,n,i){Array.isArray(n)||(n&&(rS[0]=n.toString()),n=rS);for(var s=0;s<n.length;s++){var r=jA(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function QA(t){G_(t.g,function(e,n){this.g.hasOwnProperty(n)&&Y_(e)},t),t.g={}}Bc.prototype.N=function(){Bc.$.N.call(this),QA(this)};Bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kf(){this.g=!0}Kf.prototype.Ea=function(){this.g=!1};function HU(t,e,n,i,s,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function WU(t,e,n,i,s,r,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+r+" "+o})}function ma(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+GU(t,n)+(i?" "+i:"")})}function qU(t,e){t.info(function(){return"TIMEOUT: "+e})}Kf.prototype.info=function(){};function GU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return J_(n)}catch{return e}}var Ho={},oS=null;function Yf(){return oS=oS||new Zt}Ho.Ta="serverreachability";function JA(t){yn.call(this,Ho.Ta,t)}en(JA,yn);function $c(t){const e=Yf();on(e,new JA(e))}Ho.STAT_EVENT="statevent";function ZA(t,e){yn.call(this,Ho.STAT_EVENT,t),this.stat=e}en(ZA,yn);function Cn(t){const e=Yf();on(e,new ZA(e,t))}Ho.Ua="timingevent";function eP(t,e){yn.call(this,Ho.Ua,t),this.size=e}en(eP,yn);function _u(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){t()},e)}var Xf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ny(){}ny.prototype.h=null;function aS(t){return t.h||(t.h=t.i())}function nP(){}var yu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iy(){yn.call(this,"d")}en(iy,yn);function sy(){yn.call(this,"c")}en(sy,yn);var Yp;function Qf(){}en(Qf,ny);Qf.prototype.g=function(){return new XMLHttpRequest};Qf.prototype.i=function(){return{}};Yp=new Qf;function bu(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Bc(this),this.P=KU,t=Hp?125:void 0,this.V=new Gf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new iP}function iP(){this.i=null,this.g="",this.h=!1}var KU=45e3,sP={},Xp={};re=bu.prototype;re.setTimeout=function(t){this.P=t};function Qp(t,e,n){t.L=1,t.A=Zf(Ls(e)),t.u=n,t.S=!0,rP(t,null)}function rP(t,e){t.G=Date.now(),wu(t),t.B=Ls(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),fP(n.i,"t",i),t.o=0,n=t.l.J,t.h=new iP,t.g=MP(t.l,n?e:null,!t.u),0<t.O&&(t.M=new zU(_n(t.Pa,t,t.g),t.O)),XA(t.U,t.g,"readystatechange",t.nb),e=t.I?$A(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),$c(),HU(t.j,t.v,t.B,t.m,t.W,t.u)}re.nb=function(t){t=t.target;const e=this.M;e&&Wi(t)==3?e.l():this.Pa(t)};re.Pa=function(t){try{if(t==this.g)e:{const u=Wi(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Hp||this.g&&(this.h.h||this.g.ja()||hS(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?$c(3):$c(2)),Jf(this);var n=this.g.da();this.ca=n;t:if(oP(this)){var i=hS(this.g);t="";var s=i.length,r=Wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),sc(this);var o="";break t}this.h.i=new Ae.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,WU(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nc(a)){var c=a;break t}}c=null}if(n=c)ma(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jp(this,n);else{this.i=!1,this.s=3,Cn(12),oo(this),sc(this);break e}}this.S?(aP(this,u,o),Hp&&this.i&&u==3&&(XA(this.U,this.V,"tick",this.mb),this.V.start())):(ma(this.j,this.m,o,null),Jp(this,o)),u==4&&oo(this),this.i&&!this.J&&(u==4?kP(this.l,this):(this.i=!1,wu(this)))}else mj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),oo(this),sc(this)}}}catch{}finally{}};function oP(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function aP(t,e,n){let i=!0,s;for(;!t.J&&t.o<n.length;)if(s=YU(t,n),s==Xp){e==4&&(t.s=4,Cn(14),i=!1),ma(t.j,t.m,null,"[Incomplete Response]");break}else if(s==sP){t.s=4,Cn(15),ma(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else ma(t.j,t.m,s,null),Jp(t,s);oP(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Cn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),uy(e),e.M=!0,Cn(11))):(ma(t.j,t.m,n,"[Invalid Chunked Response]"),oo(t),sc(t))}re.mb=function(){if(this.g){var t=Wi(this.g),e=this.g.ja();this.o<e.length&&(Jf(this),aP(this,t,e),this.i&&t!=4&&wu(this))}};function YU(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Xp:(n=Number(e.substring(n,i)),isNaN(n)?sP:(i+=1,i+n>e.length?Xp:(e=e.slice(i,i+n),t.o=i+n,e)))}re.cancel=function(){this.J=!0,oo(this)};function wu(t){t.Y=Date.now()+t.P,lP(t,t.P)}function lP(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=_u(_n(t.lb,t),e)}function Jf(t){t.C&&(Ae.clearTimeout(t.C),t.C=null)}re.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(qU(this.j,this.B),this.L!=2&&($c(),Cn(17)),oo(this),this.s=2,sc(this)):lP(this,this.Y-t)};function sc(t){t.l.H==0||t.J||kP(t.l,t)}function oo(t){Jf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ey(t.V),QA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Jp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Zp(n.i,t))){if(!t.K&&Zp(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Od(n),ig(n);else break e;cy(n),Cn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=_u(_n(n.ib,n),6e3));if(1>=pP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ao(n,11)}else if((t.K||n.g==t)&&Od(n),!Nc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var r=i.i;r.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(ry(r,r.h),r.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,_t(i.I,i.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=DP(i,i.J?i.pa:null,i.Y),o.K){vP(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(Jf(a),wu(a)),i.g=o}else AP(i);0<n.j.length&&sg(n)}else c[0]!="stop"&&c[0]!="close"||ao(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ao(n,7):ly(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}$c(4)}catch{}}function XU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(zf(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function QU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(zf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function cP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(zf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=QU(t),i=XU(t),s=i.length,r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}var uP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function po(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof po){this.h=t.h,kd(this,t.j),this.s=t.s,this.g=t.g,Rd(this,t.m),this.l=t.l;var e=t.i,n=new Uc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),lS(this,n),this.o=t.o}else t&&(e=String(t).match(uP))?(this.h=!1,kd(this,e[1]||"",!0),this.s=jl(e[2]||""),this.g=jl(e[3]||"",!0),Rd(this,e[4]),this.l=jl(e[5]||"",!0),lS(this,e[6]||"",!0),this.o=jl(e[7]||"")):(this.h=!1,this.i=new Uc(null,this.h))}po.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zl(e,cS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zl(e,cS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zl(n,n.charAt(0)=="/"?tj:ej,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zl(n,ij)),t.join("")};function Ls(t){return new po(t)}function kd(t,e,n){t.j=n?jl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function lS(t,e,n){e instanceof Uc?(t.i=e,sj(t.i,t.h)):(n||(e=zl(e,nj)),t.i=new Uc(e,t.h))}function _t(t,e,n){t.i.set(e,n)}function Zf(t){return _t(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ZU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ZU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var cS=/[#\/\?@]/g,ej=/[#\?:]/g,tj=/[#\?]/g,nj=/[#\?@]/g,ij=/#/g;function Uc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Nr(t){t.g||(t.g=new Map,t.h=0,t.i&&JU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}re=Uc.prototype;re.add=function(t,e){Nr(this),this.i=null,t=al(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function hP(t,e){Nr(t),e=al(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dP(t,e){return Nr(t),e=al(t,e),t.g.has(e)}re.forEach=function(t,e){Nr(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};re.ta=function(){Nr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let r=0;r<s.length;r++)n.push(e[i])}return n};re.Z=function(t){Nr(this);let e=[];if(typeof t=="string")dP(this,t)&&(e=e.concat(this.g.get(al(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};re.set=function(t,e){return Nr(this),this.i=null,t=al(this,t),dP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};re.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function fP(t,e,n){hP(t,e),0<n.length&&(t.i=null,t.g.set(al(t,e),W_(n)),t.h+=n.length)}re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),t.push(s)}}return this.i=t.join("&")};function al(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sj(t,e){e&&!t.j&&(Nr(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(hP(this,i),fP(this,s,n))},t)),t.j=e}var rj=class{constructor(t,e){this.g=t,this.map=e}};function gP(t){this.l=t||oj,Ae.PerformanceNavigationTiming?(t=Ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ae.g&&Ae.g.Ka&&Ae.g.Ka()&&Ae.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oj=10;function mP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function pP(t){return t.h?1:t.g?t.g.size:0}function Zp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ry(t,e){t.g?t.g.add(e):t.h=e}function vP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}gP.prototype.cancel=function(){if(this.i=_P(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function _P(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return W_(t.i)}var aj=class{stringify(t){return Ae.JSON.stringify(t,void 0)}parse(t){return Ae.JSON.parse(t,void 0)}};function lj(){this.g=new aj}function cj(t,e,n){const i=n||"";try{cP(t,function(s,r){let o=s;pu(s)&&(o=J_(s)),e.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function uj(t,e){const n=new Kf;if(Ae.Image){const i=new Image;i.onload=fh(mh,n,i,"TestLoadImage: loaded",!0,e),i.onerror=fh(mh,n,i,"TestLoadImage: error",!1,e),i.onabort=fh(mh,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=fh(mh,n,i,"TestLoadImage: timeout",!1,e),Ae.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function mh(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function eg(t){this.l=t.ec||null,this.j=t.ob||!1}en(eg,ny);eg.prototype.g=function(){return new tg(this.l,this.j)};eg.prototype.i=function(t){return function(){return t}}({});function tg(t,e){Zt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=oy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}en(tg,Zt);var oy=0;re=tg.prototype;re.open=function(t,e){if(this.readyState!=oy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jc(this)};re.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Su(this)),this.readyState=oy};re.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jc(this)),this.g&&(this.readyState=3,jc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function yP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}re.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Su(this):jc(this),this.readyState==3&&yP(this)}};re.Za=function(t){this.g&&(this.response=this.responseText=t,Su(this))};re.Ya=function(t){this.g&&(this.response=t,Su(this))};re.ka=function(){this.g&&Su(this)};function Su(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jc(t)}re.setRequestHeader=function(t,e){this.v.append(t,e)};re.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};re.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function jc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(tg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var hj=Ae.JSON.parse;function kt(t){Zt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bP,this.L=this.M=!1}en(kt,Zt);var bP="",dj=/^https?$/i,fj=["POST","PUT"];re=kt.prototype;re.Oa=function(t){this.M=t};re.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yp.g(),this.C=this.u?aS(this.u):aS(Yp),this.g.onreadystatechange=_n(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(r){uS(this,r);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=Ae.FormData&&t instanceof Ae.FormData,!(0<=LA(fj,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TP(this),0<this.B&&((this.L=gj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_n(this.ua,this)):this.A=ty(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){uS(this,r)}};function gj(t){return Va&&typeof t.timeout=="number"&&t.ontimeout!==void 0}re.ua=function(){typeof H_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))};function uS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wP(t),ng(t)}function wP(t){t.F||(t.F=!0,on(t,"complete"),on(t,"error"))}re.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,on(this,"complete"),on(this,"abort"),ng(this))};re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ng(this,!0)),kt.$.N.call(this)};re.La=function(){this.s||(this.G||this.v||this.l?SP(this):this.kb())};re.kb=function(){SP(this)};function SP(t){if(t.h&&typeof H_<"u"&&(!t.C[1]||Wi(t)!=4||t.da()!=2)){if(t.v&&Wi(t)==4)ty(t.La,0,t);else if(on(t,"readystatechange"),Wi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var s=String(t.I).match(uP)[1]||null;!s&&Ae.self&&Ae.self.location&&(s=Ae.self.location.protocol.slice(0,-1)),i=!dj.test(s?s.toLowerCase():"")}n=i}if(n)on(t,"complete"),on(t,"success");else{t.m=6;try{var r=2<Wi(t)?t.g.statusText:""}catch{r=""}t.j=r+" ["+t.da()+"]",wP(t)}}finally{ng(t)}}}}function ng(t,e){if(t.g){TP(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||on(t,"ready");try{n.onreadystatechange=i}catch{}}}function TP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ae.clearTimeout(t.A),t.A=null)}re.isActive=function(){return!!this.g};function Wi(t){return t.g?t.g.readyState:0}re.da=function(){try{return 2<Wi(this)?this.g.status:-1}catch{return-1}};re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};re.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),hj(e)}};function hS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case bP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function mj(t){const e={};t=(t.g&&2<=Wi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Nc(t[i]))continue;var n=$U(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=e[s]||[];e[s]=r,r.push(n)}DU(e,function(i){return i.join(", ")})}re.Ia=function(){return this.m};re.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function EP(t){let e="";return G_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function ay(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=EP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):_t(t,e,n))}function Il(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function IP(t){this.Ga=0,this.j=[],this.l=new Kf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Il("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Il("baseRetryDelayMs",5e3,t),this.hb=Il("retryDelaySeedMs",1e4,t),this.eb=Il("forwardChannelMaxRetries",2,t),this.xa=Il("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new gP(t&&t.concurrentRequestLimit),this.Ja=new lj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}re=IP.prototype;re.ra=8;re.H=1;function ly(t){if(CP(t),t.H==3){var e=t.W++,n=Ls(t.I);if(_t(n,"SID",t.K),_t(n,"RID",e),_t(n,"TYPE","terminate"),Tu(t,n),e=new bu(t,t.l,e),e.L=2,e.A=Zf(Ls(n)),n=!1,Ae.navigator&&Ae.navigator.sendBeacon)try{n=Ae.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ae.Image&&(new Image().src=e.A,n=!0),n||(e.g=MP(e.l,null),e.g.ha(e.A)),e.G=Date.now(),wu(e)}OP(t)}function ig(t){t.g&&(uy(t),t.g.cancel(),t.g=null)}function CP(t){ig(t),t.u&&(Ae.clearTimeout(t.u),t.u=null),Od(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ae.clearTimeout(t.m),t.m=null)}function sg(t){if(!mP(t.i)&&!t.m){t.m=!0;var e=t.Na;Vc||KA(),Fc||(Vc(),Fc=!0),Z_.add(e,t),t.C=0}}function pj(t,e){return pP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=_u(_n(t.Na,t,e),RP(t,t.C)),t.C++,!0)}re.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new bu(this,this.l,t);let r=this.s;if(this.U&&(r?(r=$A(r),UA(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xP(this,s,e),n=Ls(this.I),_t(n,"RID",t),_t(n,"CVER",22),this.F&&_t(n,"X-HTTP-Session-Id",this.F),Tu(this,n),r&&(this.O?e="headers="+encodeURIComponent(String(EP(r)))+"&"+e:this.o&&ay(n,this.o,r)),ry(this.i,s),this.bb&&_t(n,"TYPE","init"),this.P?(_t(n,"$req",e),_t(n,"SID","null"),s.aa=!0,Qp(s,n,null)):Qp(s,n,e),this.H=2}}else this.H==3&&(t?dS(this,t):this.j.length==0||mP(this.i)||dS(this))};function dS(t,e){var n;e?n=e.m:n=t.W++;const i=Ls(t.I);_t(i,"SID",t.K),_t(i,"RID",n),_t(i,"AID",t.V),Tu(t,i),t.o&&t.s&&ay(i,t.o,t.s),n=new bu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=xP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ry(t.i,n),Qp(n,i,e)}function Tu(t,e){t.na&&G_(t.na,function(n,i){_t(e,i,n)}),t.h&&cP({},function(n,i){_t(e,i,n)})}function xP(t,e,n){n=Math.min(t.j.length,n);var i=t.h?_n(t.h.Va,t.h,t):null;e:{var s=t.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=r,0>c)r=Math.max(0,s[l].g-100),a=!1;else try{cj(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function AP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vc||KA(),Fc||(Vc(),Fc=!0),Z_.add(e,t),t.A=0}}function cy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=_u(_n(t.Ma,t),RP(t,t.A)),t.A++,!0)}re.Ma=function(){if(this.u=null,PP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=_u(_n(this.jb,this),t)}};re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Cn(10),ig(this),PP(this))};function uy(t){t.B!=null&&(Ae.clearTimeout(t.B),t.B=null)}function PP(t){t.g=new bu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ls(t.wa);_t(e,"RID","rpc"),_t(e,"SID",t.K),_t(e,"AID",t.V),_t(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&_t(e,"TO",t.qa),_t(e,"TYPE","xmlhttp"),Tu(t,e),t.o&&t.s&&ay(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Zf(Ls(e)),n.u=null,n.S=!0,rP(n,t)}re.ib=function(){this.v!=null&&(this.v=null,ig(this),cy(this),Cn(19))};function Od(t){t.v!=null&&(Ae.clearTimeout(t.v),t.v=null)}function kP(t,e){var n=null;if(t.g==e){Od(t),uy(t),t.g=null;var i=2}else if(Zp(t.i,e))n=e.F,vP(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;i=Yf(),on(i,new eP(i,n)),sg(t)}else AP(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(i==1&&pj(t,e)||i==2&&cy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:ao(t,5);break;case 4:ao(t,10);break;case 3:ao(t,6);break;default:ao(t,2)}}}function RP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ao(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=_n(t.pb,t);n||(n=new po("//www.google.com/images/cleardot.gif"),Ae.location&&Ae.location.protocol=="http"||kd(n,"https"),Zf(n)),uj(n.toString(),i)}else Cn(2);t.H=0,t.h&&t.h.za(e),OP(t),CP(t)}re.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Cn(2)):(this.l.info("Failed to ping google.com"),Cn(1))};function OP(t){if(t.H=0,t.ma=[],t.h){const e=_P(t.i);(e.length!=0||t.j.length!=0)&&(nS(t.ma,e),nS(t.ma,t.j),t.i.i.length=0,W_(t.j),t.j.length=0),t.h.ya()}}function DP(t,e,n){var i=n instanceof po?Ls(n):new po(n);if(i.g!="")e&&(i.g=e+"."+i.g),Rd(i,i.m);else{var s=Ae.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var r=new po(null);i&&kd(r,i),e&&(r.g=e),s&&Rd(r,s),n&&(r.l=n),i=r}return n=t.F,e=t.Da,n&&e&&_t(i,n,e),_t(i,"VER",t.ra),Tu(t,i),i}function MP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new kt(new eg({ob:n})):new kt(t.va),e.Oa(t.J),e}re.isActive=function(){return!!this.h&&this.h.isActive(this)};function NP(){}re=NP.prototype;re.Ba=function(){};re.Aa=function(){};re.za=function(){};re.ya=function(){};re.isActive=function(){return!0};re.Va=function(){};function Dd(){if(Va&&!(10<=Number(PU)))throw Error("Environmental error: no available transport.")}Dd.prototype.g=function(t,e){return new Zn(t,e)};function Zn(t,e){Zt.call(this),this.g=new IP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ll(this)}en(Zn,Zt);Zn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Cn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=DP(t,null,t.Y),sg(t)};Zn.prototype.close=function(){ly(this.g)};Zn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=J_(t),t=n);e.j.push(new rj(e.fb++,t)),e.H==3&&sg(e)};Zn.prototype.N=function(){this.g.h=null,delete this.j,ly(this.g),delete this.g,Zn.$.N.call(this)};function LP(t){iy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}en(LP,iy);function VP(){sy.call(this),this.status=1}en(VP,sy);function ll(t){this.g=t}en(ll,NP);ll.prototype.Ba=function(){on(this.g,"a")};ll.prototype.Aa=function(t){on(this.g,new LP(t))};ll.prototype.za=function(t){on(this.g,new VP)};ll.prototype.ya=function(){on(this.g,"b")};function vj(){this.blockSize=-1}function Oi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}en(Oi,vj);Oi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Om(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var r=t.g[3],o=e+(r^n&(s^r))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[1]+3905402710&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[2]+606105819&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[5]+1200080426&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[6]+2821735955&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[9]+2336552879&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[10]+4294925233&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[13]+4254626195&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[14]+2792965006&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^r&(n^s))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[6]+3225465664&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[11]+643717713&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[10]+38016083&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[15]+3634488961&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[14]+3275163606&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[3]+4107603335&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[2]+4243563512&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[7]+1735328473&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^r)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[8]+2272392833&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[11]+1839030562&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[4]+1272893353&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[7]+4139469664&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[0]+3936430074&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[3]+3572445317&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[12]+3873151461&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[15]+530742520&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~r))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[7]+1126891415&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[14]+2878612391&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[3]+2399980690&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[10]+4293915773&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[15]+4264355552&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[6]+2734768916&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[11]+3174756917&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[2]+718787259&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+r&4294967295}Oi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,r=0;r<e;){if(s==0)for(;r<=n;)Om(this,t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(i[s++]=t.charCodeAt(r++),s==this.blockSize){Om(this,i),s=0;break}}else for(;r<e;)if(i[s++]=t[r++],s==this.blockSize){Om(this,i),s=0;break}}this.h=s,this.i+=e};Oi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function it(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var r=t[s]|0;i&&r==e||(n[s]=r,i=!1)}this.g=n}var _j={};function hy(t){return-128<=t&&128>t?CU(t,function(e){return new it([e|0],0>e?-1:0)}):new it([t|0],0>t?-1:0)}function qi(t){if(isNaN(t)||!isFinite(t))return Ta;if(0>t)return tn(qi(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=ev;return new it(e,0)}function FP(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return tn(FP(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qi(Math.pow(e,8)),i=Ta,s=0;s<t.length;s+=8){var r=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+r),e);8>r?(r=qi(Math.pow(e,r)),i=i.R(r).add(qi(o))):(i=i.R(n),i=i.add(qi(o)))}return i}var ev=4294967296,Ta=hy(0),tv=hy(1),fS=hy(16777216);re=it.prototype;re.ea=function(){if(ri(this))return-tn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:ev+i)*e,e*=ev}return t};re.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ts(this))return"0";if(ri(this))return"-"+tn(this).toString(t);for(var e=qi(Math.pow(t,6)),n=this,i="";;){var s=Nd(n,e).g;n=Md(n,s.R(e));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Ts(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};re.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ts(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ri(t){return t.h==-1}re.X=function(t){return t=Md(this,t),ri(t)?-1:Ts(t)?0:1};function tn(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new it(n,~t.h).add(tv)}re.abs=function(){return ri(this)?tn(this):this};re.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var r=i+(this.D(s)&65535)+(t.D(s)&65535),o=(r>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=o>>>16,r&=65535,o&=65535,n[s]=o<<16|r}return new it(n,n[n.length-1]&-2147483648?-1:0)};function Md(t,e){return t.add(tn(e))}re.R=function(t){if(Ts(this)||Ts(t))return Ta;if(ri(this))return ri(t)?tn(this).R(tn(t)):tn(tn(this).R(t));if(ri(t))return tn(this.R(tn(t)));if(0>this.X(fS)&&0>t.X(fS))return qi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var r=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*i+2*s]+=o*l,ph(n,2*i+2*s),n[2*i+2*s+1]+=r*l,ph(n,2*i+2*s+1),n[2*i+2*s+1]+=o*a,ph(n,2*i+2*s+1),n[2*i+2*s+2]+=r*a,ph(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new it(n,0)};function ph(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Cl(t,e){this.g=t,this.h=e}function Nd(t,e){if(Ts(e))throw Error("division by zero");if(Ts(t))return new Cl(Ta,Ta);if(ri(t))return e=Nd(tn(t),e),new Cl(tn(e.g),tn(e.h));if(ri(e))return e=Nd(t,tn(e)),new Cl(tn(e.g),e.h);if(30<t.g.length){if(ri(t)||ri(e))throw Error("slowDivide_ only works with positive integers.");for(var n=tv,i=e;0>=i.X(t);)n=gS(n),i=gS(i);var s=sa(n,1),r=sa(i,1);for(i=sa(i,2),n=sa(n,2);!Ts(i);){var o=r.add(i);0>=o.X(t)&&(s=s.add(n),r=o),i=sa(i,1),n=sa(n,1)}return e=Md(t,s.R(e)),new Cl(s,e)}for(s=Ta;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=qi(n),o=r.R(e);ri(o)||0<o.X(t);)n-=i,r=qi(n),o=r.R(e);Ts(r)&&(r=tv),s=s.add(r),t=Md(t,o)}return new Cl(s,t)}re.gb=function(t){return Nd(this,t).h};re.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new it(n,this.h&t.h)};re.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new it(n,this.h|t.h)};re.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new it(n,this.h^t.h)};function gS(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new it(n,t.h)}function sa(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],r=0;r<i;r++)s[r]=0<e?t.D(r+n)>>>e|t.D(r+n+1)<<32-e:t.D(r+n);return new it(s,t.h)}Dd.prototype.createWebChannel=Dd.prototype.g;Zn.prototype.send=Zn.prototype.u;Zn.prototype.open=Zn.prototype.m;Zn.prototype.close=Zn.prototype.close;Xf.NO_ERROR=0;Xf.TIMEOUT=8;Xf.HTTP_ERROR=6;tP.COMPLETE="complete";nP.EventType=yu;yu.OPEN="a";yu.CLOSE="b";yu.ERROR="c";yu.MESSAGE="d";Zt.prototype.listen=Zt.prototype.O;kt.prototype.listenOnce=kt.prototype.P;kt.prototype.getLastError=kt.prototype.Sa;kt.prototype.getLastErrorCode=kt.prototype.Ia;kt.prototype.getStatus=kt.prototype.da;kt.prototype.getResponseJson=kt.prototype.Wa;kt.prototype.getResponseText=kt.prototype.ja;kt.prototype.send=kt.prototype.ha;kt.prototype.setWithCredentials=kt.prototype.Oa;Oi.prototype.digest=Oi.prototype.l;Oi.prototype.reset=Oi.prototype.reset;Oi.prototype.update=Oi.prototype.j;it.prototype.add=it.prototype.add;it.prototype.multiply=it.prototype.R;it.prototype.modulo=it.prototype.gb;it.prototype.compare=it.prototype.X;it.prototype.toNumber=it.prototype.ea;it.prototype.toString=it.prototype.toString;it.prototype.getBits=it.prototype.D;it.fromNumber=qi;it.fromString=FP;var yj=function(){return new Dd},bj=function(){return Yf()},Dm=Xf,wj=tP,Sj=Ho,mS={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vh=nP,Tj=kt,Ej=Oi,Ea=it;const pS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new mu("@firebase/firestore");function xl(){return Io.logLevel}function ie(t,...e){if(Io.logLevel<=$e.DEBUG){const n=e.map(dy);Io.debug(`Firestore (${cl}): ${t}`,...n)}}function ss(t,...e){if(Io.logLevel<=$e.ERROR){const n=e.map(dy);Io.error(`Firestore (${cl}): ${t}`,...n)}}function Fa(t,...e){if(Io.logLevel<=$e.WARN){const n=e.map(dy);Io.warn(`Firestore (${cl}): ${t}`,...n)}}function dy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+t;throw ss(e),new Error(e)}function dt(t,e){t||Pe()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ij{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class Cj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xj{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Os,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string"),new BP(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new un(e)}}class Aj{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Pj{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Aj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=r=>{r.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new kj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=Oj(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function Qe(t,e){return t<e?-1:t>e?1:0}function Ba(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new qt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new qt(0,0))}static max(){return new Re(new qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,i){n===void 0?n=0:n>e.length&&Pe(),i===void 0?i=e.length-n:i>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return zc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class St extends zc{construct(e,n,i){return new St(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new St(n)}static emptyPath(){return new St([])}}const Dj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends zc{construct(e,n,i){return new rn(e,n,i)}static isValidIdentifier(e){return Dj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new ye(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ye(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ye(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new ye(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(St.fromString(e))}static fromName(e){return new Te(St.fromString(e).popFirst(5))}static empty(){return new Te(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new St(e.slice()))}}function Mj(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(i===1e9?new qt(n+1,0):new qt(n,i));return new Er(s,Te.empty(),e)}function Nj(t){return new Er(t.readTime,t.key,-1)}class Er{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Er(Re.min(),Te.empty(),-1)}static max(){return new Er(Re.max(),Te.empty(),-1)}}function Lj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==Vj)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,i)=>{n(e)})}static reject(e){return new H((n,i)=>{i(e)})}static waitFor(e){return new H((n,i)=>{let s=0,r=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(e){let n=H.resolve(!1);for(const i of e)n=n.next(s=>s?H.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new H((i,s)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(e,n){return new H((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Os,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new rc(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const s=gy(i.target.error);this.V.reject(new rc(e,s))}}static open(e,n,i,s){try{return new fy(n,e.transaction(s,i))}catch(r){throw new rc(n,r)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new $j(n)}}class lo{constructor(e,n,i){this.name=e,this.version=n,this.p=i,lo.S(Ut())===12.2&&ss("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ie("SimpleDb","Removing database:",e),io(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!j_())return!1;if(lo.C())return!0;const e=Ut(),n=lo.S(e),i=0<n&&n<10,s=lo.v(e),r=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||r)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(e){return this.db||(ie("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=r=>{const o=r.target.result;n(o)},s.onblocked=()=>{i(new rc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=r=>{const o=r.target.error;o.name==="VersionError"?i(new ye(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new ye(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new rc(e,o))},s.onupgradeneeded=r=>{ie("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',r.oldVersion);const o=r.target.result;this.p.N(o,s.transaction,r.oldVersion,this.version).next(()=>{ie("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,i,s){const r=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=fy.open(this.db,e,r?"readonly":"readwrite",i),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),H.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(ie("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Bj{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return io(this.k.delete())}}class rc extends ye{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Iu(t){return t.name==="IndexedDbTransactionError"}class $j{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(ie("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),io(i)}add(e){return ie("SimpleDb","ADD",this.store.name,e,e),io(this.store.add(e))}get(e){return io(this.store.get(e)).next(n=>(n===void 0&&(n=null),ie("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ie("SimpleDb","DELETE",this.store.name,e),io(this.store.delete(e))}count(){return ie("SimpleDb","COUNT",this.store.name),io(this.store.count())}W(e,n){const i=this.options(e,n),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const r=s.getAll(i.range);return new H((o,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}{const r=this.cursor(i),o=[];return this.G(r,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const i=this.store.getAll(e,n===null?void 0:n);return new H((s,r)=>{i.onerror=o=>{r(o.target.error)},i.onsuccess=o=>{s(o.target.result)}})}H(e,n){ie("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.J=!1;const s=this.cursor(i);return this.G(s,(r,o,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);const s=this.cursor(i);return this.G(s,n)}Z(e){const n=this.cursor({});return new H((i,s)=>{n.onerror=r=>{const o=gy(r.target.error);s(o)},n.onsuccess=r=>{const o=r.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}G(e,n){const i=[];return new H((s,r)=>{e.onerror=o=>{r(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new Bj(a),c=n(a.primaryKey,a.value,l);if(c instanceof H){const u=c.catch(h=>(l.done(),H.reject(h)));i.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>H.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function io(t){return new H((e,n)=>{t.onsuccess=i=>{const s=i.target.result;e(s)},t.onerror=i=>{const s=gy(i.target.error);n(s)}})}let vS=!1;function gy(t){const e=lo.S(Ut());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vS||(vS=!0,setTimeout(()=>{throw i},0)),i}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}my._e=-1;function rg(t){return t==null}function Ld(t){return t===0&&1/t==-1/0}function Uj(t){return typeof t=="number"&&Number.isInteger(t)&&!Ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jt=class nv{constructor(e,n){this.comparator=e,this.root=n||pr.EMPTY}insert(e,n){return new nv(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new nv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}},_h=class{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pr=class ys{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??ys.RED,this.left=s??ys.EMPTY,this.right=r??ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new ys(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ys.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}};pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,i,s,r){return this}insert(e,n,i){return new pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yS(this.data.getIterator())}getIteratorFrom(e){return new yS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class yS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new an(rn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new jP("Invalid base64 string: "+r):r}}(e);return new bn(n)}static fromUint8Array(e){const n=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const jj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(t){if(dt(!!t),typeof t=="string"){let e=0;const n=jj.exec(t);if(dt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vy(t){const e=t.mapValue.fields.__previous_value__;return py(e)?vy(e):e}function Hc(t){const e=Ir(t.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n,i,s,r,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Wc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?py(t)?4:Hj(t)?9007199254740991:10:Pe()}function rs(t,e){if(t===e)return!0;const n=xo(t);if(n!==xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hc(t).isEqual(Hc(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=Ir(s.timestampValue),a=Ir(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Co(s.bytesValue).isEqual(Co(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Lt(s.geoPointValue.latitude)===Lt(r.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Lt(s.integerValue)===Lt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=Lt(s.doubleValue),a=Lt(r.doubleValue);return o===a?Ld(o)===Ld(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ba(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(_S(o)!==_S(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!rs(o[l],a[l])))return!1;return!0}(t,e);default:return Pe()}}function qc(t,e){return(t.values||[]).find(n=>rs(n,e))!==void 0}function $a(t,e){if(t===e)return 0;const n=xo(t),i=xo(e);if(n!==i)return Qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(r,o){const a=Lt(r.integerValue||r.doubleValue),l=Lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return bS(t.timestampValue,e.timestampValue);case 4:return bS(Hc(t),Hc(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(r,o){const a=Co(r),l=Co(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Qe(a[c],l[c]);if(u!==0)return u}return Qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const a=Qe(Lt(r.latitude),Lt(o.latitude));return a!==0?a:Qe(Lt(r.longitude),Lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,o){const a=r.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=$a(a[c],l[c]);if(u)return u}return Qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===yh.mapValue&&o===yh.mapValue)return 0;if(r===yh.mapValue)return 1;if(o===yh.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=Qe(l[h],u[h]);if(d!==0)return d;const f=$a(a[l[h]],c[u[h]]);if(f!==0)return f}return Qe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function bS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Ir(t),i=Ir(e),s=Qe(n.seconds,i.seconds);return s!==0?s:Qe(n.nanos,i.nanos)}function Ua(t){return iv(t)}function iv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ir(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=iv(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${iv(n.fields[o])}`;return s+"}"}(t.mapValue):Pe()}function sv(t){return!!t&&"integerValue"in t}function _y(t){return!!t&&"arrayValue"in t}function wS(t){return!!t&&"nullValue"in t}function SS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=oc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Hj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=rn.emptyPath(),i={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=oc(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Kh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Wo(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new kn(oc(this.value))}}function zP(t){const e=[];return Wo(t.fields,(n,i)=>{const s=new rn([n]);if(Kh(i)){const r=zP(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,i,s,r,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,Re.min(),Re.min(),Re.min(),kn.empty(),0)}static newFoundDocument(e,n,i,s){return new hn(e,1,n,Re.min(),i,s,0)}static newNoDocument(e,n){return new hn(e,2,n,Re.min(),Re.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Re.min(),Re.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.position=e,this.inclusive=n}}function TS(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(r.field.isKeyField()?i=Te.comparator(Te.fromName(o.referenceValue),n.key):i=$a(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function ES(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{}class zt extends HP{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Gj(e,n,i):n==="array-contains"?new Xj(e,i):n==="in"?new Qj(e,i):n==="not-in"?new Jj(e,i):n==="array-contains-any"?new Zj(e,i):new zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Kj(e,i):new Yj(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($a(n,this.value)):n!==null&&xo(this.value)===xo(n)&&this.matchesComparison($a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends HP{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new os(e,n)}matches(e){return WP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function WP(t){return t.op==="and"}function qP(t){return qj(t)&&WP(t)}function qj(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function rv(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Ua(t.value);if(qP(t))return t.filters.map(e=>rv(e)).join(",");{const e=t.filters.map(n=>rv(n)).join(",");return`${t.op}(${e})`}}function GP(t,e){return t instanceof zt?function(i,s){return s instanceof zt&&i.op===s.op&&i.field.isEqual(s.field)&&rs(i.value,s.value)}(t,e):t instanceof os?function(i,s){return s instanceof os&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,a)=>r&&GP(o,s.filters[a]),!0):!1}(t,e):void Pe()}function KP(t){return t instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ua(n.value)}`}(t):t instanceof os?function(n){return n.op.toString()+" {"+n.getFilters().map(KP).join(" ,")+"}"}(t):"Filter"}class Gj extends zt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class Kj extends zt{constructor(e,n){super(e,"in",n),this.keys=YP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Yj extends zt{constructor(e,n){super(e,"not-in",n),this.keys=YP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Te.fromName(i.referenceValue))}class Xj extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _y(n)&&qc(n.arrayValue,this.value)}}class Qj extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}}class Jj extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qc(this.value.arrayValue,n)}}class Zj extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>qc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n=null,i=[],s=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.ce=null}}function IS(t,e=null,n=[],i=[],s=null,r=null,o=null){return new ez(t,e,n,i,s,r,o)}function yy(t){const e=Me(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>rv(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),rg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ua(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ua(i)).join(",")),e.ce=n}return e.ce}function by(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ES(t.startAt,e.startAt)&&ES(t.endAt,e.endAt)}function ov(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function tz(t,e,n,i,s,r,o,a){return new og(t,e,n,i,s,r,o,a)}function wy(t){return new og(t)}function CS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nz(t){return t.collectionGroup!==null}function ac(t){const e=Me(t);if(e.le===null){e.le=[];const n=new Set;for(const r of e.explicitOrderBy)e.le.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new an(rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.le.push(new Fd(r,i))}),n.has(rn.keyField().canonicalString())||e.le.push(new Fd(rn.keyField(),i))}return e.le}function Yi(t){const e=Me(t);return e.he||(e.he=iz(e,ac(t))),e.he}function iz(t,e){if(t.limitType==="F")return IS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Fd(s.field,r)});const n=t.endAt?new Vd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Vd(t.startAt.position,t.startAt.inclusive):null;return IS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function av(t,e,n){return new og(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ag(t,e){return by(Yi(t),Yi(e))&&t.limitType===e.limitType}function XP(t){return`${yy(Yi(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>KP(s)).join(", ")}]`),rg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Ua(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Ua(s)).join(",")),`Target(${i})`}(Yi(t))}; limitType=${t.limitType})`}function lg(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Te.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of ac(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(o,a,l){const c=TS(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,ac(i),s)||i.endAt&&!function(o,a,l){const c=TS(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,ac(i),s))}(t,e)}function sz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QP(t){return(e,n)=>{let i=!1;for(const s of ac(t)){const r=rz(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function rz(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):function(r,o,a){const l=o.data.field(r),c=a.data.field(r);return l!==null&&c!==null?$a(l,c):Pe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return UP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=new jt(Te.comparator);function Vs(){return oz}const JP=new jt(Te.comparator);function Hl(...t){let e=JP;for(const n of t)e=e.insert(n.key,n);return e}function ZP(t){let e=JP;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function co(){return lc()}function ek(){return lc()}function lc(){return new ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const az=new jt(Te.comparator),lz=new an(Te.comparator);function Ue(...t){let e=lz;for(const n of t)e=e.add(n);return e}const cz=new an(Qe);function uz(){return cz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function nk(t){return{integerValue:""+t}}function hz(t,e){return Uj(e)?nk(e):tk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this._=void 0}}function dz(t,e,n){return t instanceof Bd?function(s,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&py(r)&&(r=vy(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,e):t instanceof Gc?sk(t,e):t instanceof Kc?rk(t,e):function(s,r){const o=ik(s,r),a=xS(o)+xS(s.Ie);return sv(o)&&sv(s.Ie)?nk(a):tk(s.serializer,a)}(t,e)}function fz(t,e,n){return t instanceof Gc?sk(t,e):t instanceof Kc?rk(t,e):n}function ik(t,e){return t instanceof $d?function(i){return sv(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Bd extends cg{}class Gc extends cg{constructor(e){super(),this.elements=e}}function sk(t,e){const n=ok(e);for(const i of t.elements)n.some(s=>rs(s,i))||n.push(i);return{arrayValue:{values:n}}}class Kc extends cg{constructor(e){super(),this.elements=e}}function rk(t,e){let n=ok(e);for(const i of t.elements)n=n.filter(s=>!rs(s,i));return{arrayValue:{values:n}}}class $d extends cg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function xS(t){return Lt(t.integerValue||t.doubleValue)}function ok(t){return _y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gz(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Gc&&s instanceof Gc||i instanceof Kc&&s instanceof Kc?Ba(i.elements,s.elements,rs):i instanceof $d&&s instanceof $d?rs(i.Ie,s.Ie):i instanceof Bd&&s instanceof Bd}(t.transform,e.transform)}class mz{constructor(e,n){this.version=e,this.transformResults=n}}class Xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ug{}function ak(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ck(t.key,Xi.none()):new Cu(t.key,t.data,Xi.none());{const n=t.data,i=kn.empty();let s=new an(rn.comparator);for(let r of e.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Lr(t.key,i,new Gn(s.toArray()),Xi.none())}}function pz(t,e,n){t instanceof Cu?function(s,r,o){const a=s.value.clone(),l=PS(s.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Lr?function(s,r,o){if(!Yh(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=PS(s.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(lk(s)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function cc(t,e,n,i){return t instanceof Cu?function(r,o,a,l){if(!Yh(r.precondition,o))return a;const c=r.value.clone(),u=kS(r.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Lr?function(r,o,a,l){if(!Yh(r.precondition,o))return a;const c=kS(r.fieldTransforms,l,o),u=o.data;return u.setAll(lk(r)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(r,o,a){return Yh(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vz(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=ik(i.transform,s||null);r!=null&&(n===null&&(n=kn.empty()),n.set(i.field,r))}return n||null}function AS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Ba(i,s,(r,o)=>gz(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends ug{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Lr extends ug{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function lk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function PS(t,e,n){const i=new Map;dt(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,fz(o,a,n[s]))}return i}function kS(t,e,n){const i=new Map;for(const s of t){const r=s.transform,o=n.data.field(s.field);i.set(s.field,dz(r,o,e))}return i}class ck extends ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _z extends ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&pz(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=cc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=cc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=ek();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=ak(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,(n,i)=>AS(n,i))&&Ba(this.baseMutations,e.baseMutations,(n,i)=>AS(n,i))}}class Sy{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){dt(e.mutations.length===i.length);let s=function(){return az}();const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Sy(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,qe;function Sz(t){switch(t){default:return Pe();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function uk(t){if(t===void 0)return ss("GRPC error has no .code"),q.UNKNOWN;switch(t){case Nt.OK:return q.OK;case Nt.CANCELLED:return q.CANCELLED;case Nt.UNKNOWN:return q.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return q.INTERNAL;case Nt.UNAVAILABLE:return q.UNAVAILABLE;case Nt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Nt.NOT_FOUND:return q.NOT_FOUND;case Nt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Nt.ABORTED:return q.ABORTED;case Nt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Nt.DATA_LOSS:return q.DATA_LOSS;default:return Pe()}}(qe=Nt||(Nt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=new Ea([4294967295,4294967295],0);function RS(t){const e=Tz().encode(t),n=new Ej;return n.update(e),new Uint8Array(n.digest())}function OS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Ea([n,i],0),new Ea([s,r],0)]}class Ty{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(i<0)throw new Wl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ea.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(Ea.fromNumber(i)));return s.compare(Ez)===1&&(s=new Ea([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=RS(e),[i,s]=OS(n);for(let r=0;r<this.hashCount;r++){const o=this.de(i,s,r);if(!this.Ae(o))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Ty(r,s,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=RS(e),[i,s]=OS(n);for(let r=0;r<this.hashCount;r++){const o=this.de(i,s,r);this.Re(o)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new hg(Re.min(),s,new jt(Qe),Vs(),Ue())}}class xu{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new xu(i,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class hk{constructor(e,n){this.targetId=e,this.fe=n}}class dk{constructor(e,n,i=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class DS{constructor(){this.ge=0,this.pe=NS(),this.ye=bn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ue(),n=Ue(),i=Ue();return this.pe.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Pe()}}),new xu(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=NS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,dt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Iz{constructor(e){this.Be=e,this.ke=new Map,this.qe=Vs(),this.Qe=MS(),this.Ke=new jt(Qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const r=s.target;if(ov(r))if(i===0){const o=new Te(r.path);this.We(n,o,hn.newNoDocument(o,Re.min()))}else dt(i===1);else{const o=this.Ze(n);if(o!==i){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let o,a;try{o=Co(i).toUint8Array()}catch(l){if(l instanceof jP)return Fa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ty(o,s,r)}catch(l){return Fa(l instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Be.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(a)||(this.We(n,r,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((r,o)=>{const a=this.Ye(o);if(a){if(r.current&&ov(a.target)){const l=new Te(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,hn.newNoDocument(l,e))}r.De&&(n.set(o,r.ve()),r.Fe())}});let i=Ue();this.Qe.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.qe.forEach((r,o)=>o.setReadTime(e));const s=new hg(e,n,this.Ke,this.qe,i);return this.qe=Vs(),this.Qe=MS(),this.Ke=new jt(Qe),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new DS,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new an(Qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new DS),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function MS(){return new jt(Te.comparator)}function NS(){return new jt(Te.comparator)}const Cz={asc:"ASCENDING",desc:"DESCENDING"},xz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Az={and:"AND",or:"OR"};class Pz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lv(t,e){return t.useProto3Json||rg(e)?e:{value:e}}function Ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kz(t,e){return Ud(t,e.toTimestamp())}function Qi(t){return dt(!!t),Re.fromTimestamp(function(n){const i=Ir(n);return new qt(i.seconds,i.nanos)}(t))}function Ey(t,e){return cv(t,e).canonicalString()}function cv(t,e){const n=function(s){return new St(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gk(t){const e=St.fromString(t);return dt(yk(e)),e}function uv(t,e){return Ey(t.databaseId,e.path)}function Mm(t,e){const n=gk(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(pk(n))}function mk(t,e){return Ey(t.databaseId,e)}function Rz(t){const e=gk(t);return e.length===4?St.emptyPath():pk(e)}function hv(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pk(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LS(t,e,n){return{name:uv(t,e),fields:n.value.mapValue.fields}}function Oz(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(c,u){return c.useProto3Json?(dt(u===void 0||typeof u=="string"),bn.fromBase64String(u||"")):(dt(u===void 0||u instanceof Uint8Array),bn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?q.UNKNOWN:uk(c.code);return new ye(u,c.message||"")}(o);n=new dk(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Mm(t,i.document.name),r=Qi(i.document.updateTime),o=i.document.createTime?Qi(i.document.createTime):Re.min(),a=new kn({mapValue:{fields:i.document.fields}}),l=hn.newFoundDocument(s,r,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Xh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Mm(t,i.document),r=i.readTime?Qi(i.readTime):Re.min(),o=hn.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Xh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Mm(t,i.document),r=i.removedTargetIds||[];n=new Xh([],r,s,null)}else{if(!("filter"in e))return Pe();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new wz(s,r),a=i.targetId;n=new hk(a,o)}}return n}function Dz(t,e){let n;if(e instanceof Cu)n={update:LS(t,e.key,e.value)};else if(e instanceof ck)n={delete:uv(t,e.key)};else if(e instanceof Lr)n={update:LS(t,e.key,e.data),updateMask:jz(e.fieldMask)};else{if(!(e instanceof _z))return Pe();n={verify:uv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $d)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Pe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:kz(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Pe()}(t,e.precondition)),n}function Mz(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(n=>function(s,r){let o=s.updateTime?Qi(s.updateTime):Qi(r);return o.isEqual(Re.min())&&(o=Qi(r)),new mz(o,s.transformResults||[])}(n,e))):[]}function Nz(t,e){return{documents:[mk(t,e.path)]}}function Lz(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=mk(t,s);const r=function(c){if(c.length!==0)return _k(os.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:ha(d.field),direction:Bz(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=lv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:s}}function Vz(t){let e=Rz(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){dt(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let r=[];n.where&&(r=function(h){const d=vk(h);return d instanceof os&&qP(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(g){return new Fd(da(g.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,rg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Vd(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new Vd(f,d)}(n.endAt)),tz(e,s,o,r,a,"F",l,c)}function Fz(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=da(n.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=da(n.unaryFilter.field);return zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=da(n.unaryFilter.field);return zt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=da(n.unaryFilter.field);return zt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return zt.create(da(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return os.create(n.compositeFilter.filters.map(i=>vk(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function Bz(t){return Cz[t]}function $z(t){return xz[t]}function Uz(t){return Az[t]}function ha(t){return{fieldPath:t.canonicalString()}}function da(t){return rn.fromServerFormat(t.fieldPath)}function _k(t){return t instanceof zt?function(n){if(n.op==="=="){if(SS(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NAN"}};if(wS(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SS(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NOT_NAN"}};if(wS(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ha(n.field),op:$z(n.op),value:n.value}}}(t):t instanceof os?function(n){const i=n.getFilters().map(s=>_k(s));return i.length===1?i[0]:{compositeFilter:{op:Uz(n.op),filters:i}}}(t):Pe()}function jz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,i,s,r=Re.min(),o=Re.min(),a=bn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.ct=e}}function Hz(t){const e=Vz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?av(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(){this._n=new qz}addToCollectionParentIndex(e,n){return this._n.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Er.min())}updateCollectionGroup(e,n,i){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class qz{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new an(St.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new an(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ja(0)}static Ln(){return new ja(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(){this.changes=new ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?H.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&cc(i.mutation,s,Gn.empty(),qt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ue()){const s=co();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let o=Hl();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=co();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ue()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,s){let r=Vs();const o=lc(),a=function(){return lc()}();return n.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Lr)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),cc(u.mutation,c,u.mutation.getFieldMask(),qt.now())):o.set(c.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new Kz(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=lc();let s=new jt((o,a)=>o-a),r=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||Gn.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(s.get(a.batchId)||Ue()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=ek();u.forEach(d=>{if(!r.has(d)){const f=ak(n.get(d),i.get(d));f!==null&&h.set(d,f),r=r.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return H.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):H.resolve(co());let a=-1,l=r;return o.next(c=>H.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,l,c,Ue())).next(u=>({batchId:a,changes:ZP(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(i=>{let s=Hl();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let o=Hl();return this.indexManager.getCollectionParents(e,r).next(a=>H.forEach(a,l=>{const c=function(h,d){return new og(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,i,s).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(o=>{r.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,hn.newInvalidDocument(u)))});let a=Hl();return o.forEach((l,c)=>{const u=r.get(l);u!==void 0&&cc(u.mutation,c,Gn.empty(),qt.now()),lg(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return H.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Qi(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:Hz(s.bundledQuery),readTime:Qi(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this.overlays=new jt(Te.comparator),this.hr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const i=co();return H.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.ht(e,n,r)}),H.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.hr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.hr.delete(i)),H.resolve()}getOverlaysForCollection(e,n,i){const s=co(),r=n.length+1,o=new Te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new jt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=co(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=co(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return H.resolve(a)}ht(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(i.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new bz(n,i));let r=this.hr.get(n);r===void 0&&(r=Ue(),this.hr.set(n,r)),this.hr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.Pr=new an(Yt.Ir),this.Tr=new an(Yt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new Yt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Yt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new Te(new St([])),i=new Yt(n,e),s=new Yt(n,e+1),r=[];return this.Tr.forEachInRange([i,s],o=>{this.Ar(o),r.push(o.key)}),r}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Te(new St([])),i=new Yt(n,e),s=new Yt(n,e+1);let r=Ue();return this.Tr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new Yt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Yt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Te.comparator(e.key,n.key)||Qe(e.pr,n.pr)}static Er(e,n){return Qe(e.pr,n.pr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new an(Yt.Ir)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yz(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Yt(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.br(i),r=s<0?0:s;return H.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Yt(n,0),s=new Yt(n,Number.POSITIVE_INFINITY),r=[];return this.wr.forEachInRange([i,s],o=>{const a=this.Sr(o.pr);r.push(a)}),H.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new an(Qe);return n.forEach(s=>{const r=new Yt(s,0),o=new Yt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([r,o],a=>{i=i.add(a.pr)})}),H.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;Te.isDocumentKey(r)||(r=r.child(""));const o=new Yt(new Te(r),0);let a=new an(Qe);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),H.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(i=>{const s=this.Sr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){dt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return H.forEach(n.mutations,s=>{const r=new Yt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new Yt(n,0),s=this.wr.firstAfterOrEqual(i);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e){this.vr=e,this.docs=function(){return new jt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return H.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let i=Vs();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():hn.newInvalidDocument(s))}),H.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Vs();const o=n.path,a=new Te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Lj(Nj(u),i)<=0||(s.has(u.key)||lg(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return H.resolve(r)}getAllFromCollectionGroup(e,n,i,s){Pe()}Fr(e,n){return H.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new eH(this)}getSize(e){return H.resolve(this.size)}}class eH extends Gz{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(i)}),H.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e){this.persistence=e,this.Mr=new ul(n=>yy(n),by),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Iy,this.targetCount=0,this.Lr=ja.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),H.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ja(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.qn(n),H.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(r).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return H.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),H.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return H.resolve(i)}containsKey(e,n){return H.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n){this.Br={},this.overlays={},this.kr=new my(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new tH(this),this.indexManager=new Wz,this.remoteDocumentCache=function(s){return new Zz(s)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new zz(n),this.$r=new Xz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new Jz(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){ie("MemoryPersistence","Starting transaction:",e);const s=new iH(this.kr.next());return this.referenceDelegate.Ur(),i(s).next(r=>this.referenceDelegate.Wr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Gr(e,n){return H.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class iH extends Fj{constructor(e){super(),this.currentSequenceNumber=e}}class Cy{constructor(e){this.persistence=e,this.zr=new Iy,this.jr=null}static Hr(e){return new Cy(e)}get Jr(){if(this.jr)return this.jr;throw Pe()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),H.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),H.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Jr.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,i=>{const s=Te.fromPath(i);return this.Yr(e,s).next(r=>{r||n.removeEntry(s,Re.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return H.or([()=>H.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=s}static Ki(e,n){let i=Ue(),s=Ue();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new xy(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return ZB()?8:lo.v(Ut())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ji(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.Hi(e,n,s,i).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new sH;return this.Ji(e,n,o).next(a=>{if(r.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>r.result)}Yi(e,n,i,s){return i.documentReadCount<this.Wi?(xl()<=$e.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(xl()<=$e.DEBUG&&ie("QueryEngine","Query:",ua(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Gi*s?(xl()<=$e.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):H.resolve())}ji(e,n){if(CS(n))return H.resolve(null);let i=Yi(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=av(n,null,"F"),i=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=Ue(...r);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,av(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,i,s){return CS(n)||s.isEqual(Re.min())?H.resolve(null):this.zi.getDocuments(e,i).next(r=>{const o=this.Zi(n,r);return this.Xi(n,o,i,s)?H.resolve(null):(xl()<=$e.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ua(n)),this.es(e,o,n,Mj(s,-1)).next(a=>a))})}Zi(e,n){let i=new an(QP(e));return n.forEach((s,r)=>{lg(e,r)&&(i=i.add(r))}),i}Xi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ji(e,n,i){return xl()<=$e.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",ua(n)),this.zi.getDocumentsMatchingQuery(e,n,Er.min(),i)}es(e,n,i,s){return this.zi.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e,n,i,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new jt(Qe),this.rs=new ul(r=>yy(r),by),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yz(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function aH(t,e,n,i){return new oH(t,e,n,i)}async function bk(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=Ue();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function lH(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=H.resolve();return d.forEach(g=>{f=f.next(()=>u.getEntry(l,g)).next(m=>{const p=c.docVersions.get(g);dt(p!==null),m.version.compareTo(p)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function wk(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function cH(t,e){const n=Me(t),i=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,h)=>{const d=s.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(r,u.addedDocuments,h)));let f=d.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(bn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),s=s.insert(h,f),function(m,p,v){return m.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,f,u)&&a.push(n.Qr.updateTargetData(r,f))});let l=Vs(),c=Ue();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(uH(r,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!i.isEqual(Re.min())){const u=n.Qr.getLastRemoteSnapshotVersion(r).next(h=>n.Qr.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return H.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.ns=s,r))}function uH(t,e,n){let i=Ue(),s=Ue();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let o=Vs();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function hH(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function dH(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Qr.getTargetData(i,e).next(r=>r?(s=r,H.resolve(s)):n.Qr.allocateTargetId(i).next(o=>(s=new lr(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ns.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}async function dv(t,e,n){const i=Me(t),s=i.ns.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Iu(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(s.target)}function VS(t,e,n){const i=Me(t);let s=Re.min(),r=Ue();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Me(l),d=h.rs.get(u);return d!==void 0?H.resolve(h.ns.get(d)):h.Qr.getTargetData(c,u)}(i,o,Yi(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?s:Re.min(),n?r:Ue())).next(a=>(fH(i,sz(e),a),{documents:a,hs:r})))}function fH(t,e,n){let i=t.ss.get(e)||Re.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.ss.set(e,i)}class FS{constructor(){this.activeTargetIds=uz()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gH{constructor(){this.no=new FS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new FS,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function Nm(){return bh===null?bh=function(){return 268435456+Math.round(2147483648*Math.random())}():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class _H extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${s}/databases/${r}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get wo(){return!1}So(n,i,s,r,o){const a=Nm(),l=this.bo(n,i.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,r,o),this.Co(n,l,c,s).then(u=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Fa("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,i,s,r,o,a){return this.So(n,i,s,r,o)}Do(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>n[o]=r),s&&s.headers.forEach((r,o)=>n[o]=r)}bo(n,i){const s=pH[n];return`${this.fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,s){const r=Nm();return new Promise((o,a)=>{const l=new Tj;l.setWithCredentials(!0),l.listenOnce(wj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dm.NO_ERROR:const u=l.getResponseJson();ie(ln,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(u)),o(u);break;case Dm.TIMEOUT:ie(ln,`RPC '${e}' ${r} timed out`),a(new ye(q.DEADLINE_EXCEEDED,"Request time out"));break;case Dm.HTTP_ERROR:const h=l.getStatus();if(ie(ln,`RPC '${e}' ${r} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const g=function(p){const v=p.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(v)>=0?v:q.UNKNOWN}(f.status);a(new ye(g,f.message))}else a(new ye(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ye(q.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ie(ln,`RPC '${e}' ${r} completed.`)}});const c=JSON.stringify(s);ie(ln,`RPC '${e}' ${r} sending request:`,s),l.send(n,"POST",c,i,15)})}Fo(e,n,i){const s=Nm(),r=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yj(),a=bj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=r.join("");ie(ln,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const g=new vH({lo:p=>{f?ie(ln,`Not sending because RPC '${e}' stream ${s} is closed:`,p):(d||(ie(ln,`Opening RPC '${e}' stream ${s} transport.`),h.open(),d=!0),ie(ln,`RPC '${e}' stream ${s} sending:`,p),h.send(p))},ho:()=>h.close()}),m=(p,v,y)=>{p.listen(v,w=>{try{y(w)}catch(b){setTimeout(()=>{throw b},0)}})};return m(h,vh.EventType.OPEN,()=>{f||ie(ln,`RPC '${e}' stream ${s} transport opened.`)}),m(h,vh.EventType.CLOSE,()=>{f||(f=!0,ie(ln,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),m(h,vh.EventType.ERROR,p=>{f||(f=!0,Fa(ln,`RPC '${e}' stream ${s} transport errored:`,p),g.Vo(new ye(q.UNAVAILABLE,"The operation could not be completed")))}),m(h,vh.EventType.MESSAGE,p=>{var v;if(!f){const y=p.data[0];dt(!!y);const w=y,b=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(b){ie(ln,`RPC '${e}' stream ${s} received error:`,b);const S=b.status;let E=function(P){const R=Nt[P];if(R!==void 0)return uk(R)}(S),T=b.message;E===void 0&&(E=q.INTERNAL,T="Unknown error status: "+S+" with message "+b.message),f=!0,g.Vo(new ye(E,T)),h.close()}else ie(ln,`RPC '${e}' stream ${s} received:`,y),g.mo(y)}}),m(a,Sj.STAT_EVENT,p=>{p.stat===mS.PROXY?ie(ln,`RPC '${e}' stream ${s} detected buffering proxy`):p.stat===mS.NOPROXY&&ie(ln,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){return new Pz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,i=1e3,s=1.5,r=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=s,this.Oo=r,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,i,s,r,o,a,l){this.oi=e,this.$o=i,this.Uo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Sk(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Wo===n&&this.o_(i,s)},i=>{e(()=>{const s=new ye(q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(s)})})}o_(e,n){const i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{i(()=>this.__(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yH extends Tk{constructor(e,n,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=Oz(this.serializer,e),i=function(r){if(!("targetChange"in r))return Re.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Re.min():o.readTime?Qi(o.readTime):Re.min()}(e);return this.listener.u_(n,i)}c_(e){const n={};n.database=hv(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=ov(l)?{documents:Nz(r,l)}:{query:Lz(r,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fk(r,o.resumeToken);const c=lv(r,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Re.min())>0){a.readTime=Ud(r,o.snapshotVersion.toTimestamp());const c=lv(r,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=Fz(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){const n={};n.database=hv(this.serializer),n.removeTarget=e,this.t_(n)}}class bH extends Tk{constructor(e,n,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=Mz(e.writeResults,e.commitTime),i=Qi(e.commitTime);return this.listener.T_(i,n)}return dt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=hv(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Dz(this.serializer,i))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new ye(q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.So(e,cv(n,i),s,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ye(q.UNKNOWN,r.toString())})}vo(e,n,i,s,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,cv(n,i),s,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(q.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class SH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ss(n),this.g_=!1):ie("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=r,this.M_.io(o=>{i.enqueueAndForget(async()=>{qo(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Me(l);c.v_.add(4),await Au(c),c.x_.set("Unknown"),c.v_.delete(4),await fg(c)}(this))})}),this.x_=new SH(i,s)}}async function fg(t){if(qo(t))for(const e of t.F_)await e(!0)}async function Au(t){for(const e of t.F_)await e(!1)}function Ek(t,e){const n=Me(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Ry(n)?ky(n):hl(n).Jo()&&Py(n,e))}function Ay(t,e){const n=Me(t),i=hl(n);n.C_.delete(e),i.Jo()&&Ik(n,e),n.C_.size===0&&(i.Jo()?i.Xo():qo(n)&&n.x_.set("Unknown"))}function Py(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hl(t).c_(e)}function Ik(t,e){t.O_.Oe(e),hl(t).l_(e)}function ky(t){t.O_=new Iz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),hl(t).start(),t.x_.p_()}function Ry(t){return qo(t)&&!hl(t).Ho()&&t.C_.size>0}function qo(t){return Me(t).v_.size===0}function Ck(t){t.O_=void 0}async function EH(t){t.C_.forEach((e,n)=>{Py(t,e)})}async function IH(t,e){Ck(t),Ry(t)?(t.x_.S_(e),ky(t)):t.x_.set("Unknown")}async function CH(t,e,n){if(t.x_.set("Online"),e instanceof dk&&e.state===2&&e.cause)try{await async function(s,r){const o=r.cause;for(const a of r.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(i){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jd(t,i)}else if(e instanceof Xh?t.O_.$e(e):e instanceof hk?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Re.min()))try{const i=await wk(t.localStore);n.compareTo(i)>=0&&await function(r,o){const a=r.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=r.C_.get(c);u&&r.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=r.C_.get(l);if(!u)return;r.C_.set(l,u.withResumeToken(bn.EMPTY_BYTE_STRING,u.snapshotVersion)),Ik(r,l);const h=new lr(u.target,l,c,u.sequenceNumber);Py(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){ie("RemoteStore","Failed to raise snapshot:",i),await jd(t,i)}}async function jd(t,e,n){if(!Iu(e))throw e;t.v_.add(1),await Au(t),t.x_.set("Offline"),n||(n=()=>wk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await fg(t)})}function xk(t,e){return e().catch(n=>jd(t,n,e))}async function gg(t){const e=Me(t),n=Cr(e);let i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;xH(e);)try{const s=await hH(e.localStore,i);if(s===null){e.D_.length===0&&n.Xo();break}i=s.batchId,AH(e,s)}catch(s){await jd(e,s)}Ak(e)&&Pk(e)}function xH(t){return qo(t)&&t.D_.length<10}function AH(t,e){t.D_.push(e);const n=Cr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Ak(t){return qo(t)&&!Cr(t).Ho()&&t.D_.length>0}function Pk(t){Cr(t).start()}async function PH(t){Cr(t).d_()}async function kH(t){const e=Cr(t);for(const n of t.D_)e.I_(n.mutations)}async function RH(t,e,n){const i=t.D_.shift(),s=Sy.from(i,e,n);await xk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await gg(t)}async function OH(t,e){e&&Cr(t).P_&&await async function(i,s){if(function(o){return Sz(o)&&o!==q.ABORTED}(s.code)){const r=i.D_.shift();Cr(i).Zo(),await xk(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await gg(i)}}(t,e),Ak(t)&&Pk(t)}async function $S(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const i=qo(n);n.v_.add(3),await Au(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await fg(n)}async function DH(t,e){const n=Me(t);e?(n.v_.delete(2),await fg(n)):e||(n.v_.add(2),await Au(n),n.x_.set("Unknown"))}function hl(t){return t.N_||(t.N_=function(n,i,s){const r=Me(n);return r.R_(),new yH(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Po:EH.bind(null,t),To:IH.bind(null,t),u_:CH.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Ry(t)?ky(t):t.x_.set("Unknown")):(await t.N_.stop(),Ck(t))})),t.N_}function Cr(t){return t.L_||(t.L_=function(n,i,s){const r=Me(n);return r.R_(),new bH(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Po:PH.bind(null,t),To:OH.bind(null,t),E_:kH.bind(null,t),T_:RH.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await gg(t)):(await t.L_.stop(),t.D_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const o=Date.now()+i,a=new Oy(e,n,o,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(t,e){if(ss("AsyncQueue",`${e}: ${t}`),Iu(t))return new ye(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=Hl(),this.sortedSet=new jt(this.comparator)}static emptySet(e){return new Ia(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ia;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.B_=new jt(Te.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Pe():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class za{constructor(e,n,i,s,r,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new za(e,n,Ia.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class NH{constructor(){this.queries=new ul(e=>XP(e),ag),this.onlineState="Unknown",this.W_=new Set}}async function LH(t,e){const n=Me(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.K_()&&e.U_()&&(i=2):(r=new MH,i=e.U_()?0:1);try{switch(i){case 0:r.q_=await n.onListen(s,!0);break;case 1:r.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Dy(o,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,r),r.Q_.push(e),e.G_(n.onlineState),r.q_&&e.z_(r.q_)&&My(n)}async function VH(t,e){const n=Me(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const o=r.Q_.indexOf(e);o>=0&&(r.Q_.splice(o,1),r.Q_.length===0?s=e.U_()?0:1:!r.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function FH(t,e){const n=Me(t);let i=!1;for(const s of e){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.Q_)a.z_(s)&&(i=!0);o.q_=s}}i&&My(n)}function BH(t,e,n){const i=Me(t),s=i.queries.get(e);if(s)for(const r of s.Q_)r.onError(n);i.queries.delete(e)}function My(t){t.W_.forEach(e=>{e.next()})}var fv,jS;(jS=fv||(fv={})).j_="default",jS.Cache="cache";class $H{constructor(e,n,i){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=i||{}}z_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new za(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const i=n!=="Offline";return(!this.options.ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==fv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.key=e}}class Rk{constructor(e){this.key=e}}class UH{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ue(),this.mutatedKeys=Ue(),this.ha=QP(e),this.Pa=new Ia(this.ha)}get Ia(){return this.ua}Ta(e,n){const i=n?n.Ea:new US,s=n?n.Pa:this.Pa;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const d=s.get(u),f=lg(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let p=!1;d&&f?d.data.isEqual(f.data)?g!==m&&(i.track({type:3,doc:f}),p=!0):this.da(d,f)||(i.track({type:2,doc:f}),p=!0,(l&&this.ha(f,l)>0||c&&this.ha(f,c)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),p=!0):d&&!f&&(i.track({type:1,doc:d}),p=!0,(l||c)&&(a=!0)),p&&(f?(o=o.add(f),r=m?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{Pa:o,Ea:i,Xi:a,mutatedKeys:r}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,h)=>function(f,g){const m=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return m(f)-m(g)}(u.type,h.type)||this.ha(u.doc,h.doc)),this.Aa(i),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new za(this.query,e.Pa,r,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new US,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ue(),this.Pa.forEach(i=>{this.ma(i.key)&&(this.la=this.la.add(i.key))});const n=[];return e.forEach(i=>{this.la.has(i)||n.push(new Rk(i))}),this.la.forEach(i=>{e.has(i)||n.push(new kk(i))}),n}fa(e){this.ua=e.hs,this.la=Ue();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return za.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class jH{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class zH{constructor(e){this.key=e,this.pa=!1}}class HH{constructor(e,n,i,s,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new ul(a=>XP(a),ag),this.Sa=new Map,this.ba=new Set,this.Da=new jt(Te.comparator),this.Ca=new Map,this.va=new Iy,this.Fa={},this.Ma=new Map,this.xa=ja.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function WH(t,e,n=!0){const i=Vk(t);let s;const r=i.wa.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.ga()):s=await Ok(i,e,n,!0),s}async function qH(t,e){const n=Vk(t);await Ok(n,e,!0,!1)}async function Ok(t,e,n,i){const s=await dH(t.localStore,Yi(e)),r=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(r):"not-current";let a;return i&&(a=await GH(t,e,r,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Ek(t.remoteStore,s),a}async function GH(t,e,n,i,s){t.Na=(h,d,f)=>async function(m,p,v,y){let w=p.view.Ta(v);w.Xi&&(w=await VS(m.localStore,p.query,!1).then(({documents:T})=>p.view.Ta(T,w)));const b=y&&y.targetChanges.get(p.targetId),S=y&&y.targetMismatches.get(p.targetId)!=null,E=p.view.applyChanges(w,m.isPrimaryClient,b,S);return HS(m,p.targetId,E.Va),E.snapshot}(t,h,d,f);const r=await VS(t.localStore,e,!0),o=new UH(e,r.hs),a=o.Ta(r.documents),l=xu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);HS(t,n,c.Va);const u=new jH(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function KH(t,e,n){const i=Me(t),s=i.wa.get(e),r=i.Sa.get(s.targetId);if(r.length>1)return i.Sa.set(s.targetId,r.filter(o=>!ag(o,e))),void i.wa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await dv(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Ay(i.remoteStore,s.targetId),gv(i,s.targetId)}).catch(Eu)):(gv(i,s.targetId),await dv(i.localStore,s.targetId,!0))}async function YH(t,e){const n=Me(t),i=n.wa.get(e),s=n.Sa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ay(n.remoteStore,i.targetId))}async function XH(t,e,n){const i=i4(t);try{const s=await function(o,a){const l=Me(o),c=qt.now(),u=a.reduce((f,g)=>f.add(g.key),Ue());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Vs(),m=Ue();return l.os.getEntries(f,u).next(p=>{g=p,g.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(p=>{h=p;const v=[];for(const y of a){const w=vz(y,h.get(y.key).overlayedDocument);w!=null&&v.push(new Lr(y.key,w,zP(w.value.mapValue),Xi.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(p=>{d=p;const v=p.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(f,p.batchId,v)})}).then(()=>({batchId:d.batchId,changes:ZP(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new jt(Qe)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(i,s.batchId,n),await Pu(i,s.changes),await gg(i.remoteStore)}catch(s){const r=Dy(s,"Failed to persist write");n.reject(r)}}async function Dk(t,e){const n=Me(t);try{const i=await cH(n.localStore,e);e.targetChanges.forEach((s,r)=>{const o=n.Ca.get(r);o&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?dt(o.pa):s.removedDocuments.size>0&&(dt(o.pa),o.pa=!1))}),await Pu(n,i,e)}catch(i){await Eu(i)}}function zS(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.wa.forEach((r,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Me(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.Q_)d.G_(a)&&(c=!0)}),c&&My(l)}(i.eventManager,e),s.length&&i.ya.u_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function QH(t,e,n){const i=Me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Ca.get(e),r=s&&s.key;if(r){let o=new jt(Te.comparator);o=o.insert(r,hn.newNoDocument(r,Re.min()));const a=Ue().add(r),l=new hg(Re.min(),new Map,new jt(Qe),o,a);await Dk(i,l),i.Da=i.Da.remove(r),i.Ca.delete(e),Ny(i)}else await dv(i.localStore,e,!1).then(()=>gv(i,e,n)).catch(Eu)}async function JH(t,e){const n=Me(t),i=e.batch.batchId;try{const s=await lH(n.localStore,e);Nk(n,i,null),Mk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pu(n,s)}catch(s){await Eu(s)}}async function ZH(t,e,n){const i=Me(t);try{const s=await function(o,a){const l=Me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(dt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);Nk(i,e,n),Mk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pu(i,s)}catch(s){await Eu(s)}}function Mk(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function Nk(t,e,n){const i=Me(t);let s=i.Fa[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Fa[i.currentUser.toKey()]=s}}function gv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Sa.get(e))t.wa.delete(i),n&&t.ya.La(i,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(i=>{t.va.containsKey(i)||Lk(t,i)})}function Lk(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Ay(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Ny(t))}function HS(t,e,n){for(const i of n)i instanceof kk?(t.va.addReference(i.key,e),e4(t,i)):i instanceof Rk?(ie("SyncEngine","Document no longer in limbo: "+i.key),t.va.removeReference(i.key,e),t.va.containsKey(i.key)||Lk(t,i.key)):Pe()}function e4(t,e){const n=e.key,i=n.path.canonicalString();t.Da.get(n)||t.ba.has(i)||(ie("SyncEngine","New document in limbo: "+n),t.ba.add(i),Ny(t))}function Ny(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new Te(St.fromString(e)),i=t.xa.next();t.Ca.set(i,new zH(n)),t.Da=t.Da.insert(n,i),Ek(t.remoteStore,new lr(Yi(wy(n.path)),i,"TargetPurposeLimboResolution",my._e))}}async function Pu(t,e,n){const i=Me(t),s=[],r=[],o=[];i.wa.isEmpty()||(i.wa.forEach((a,l)=>{o.push(i.Na(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=xy.Ki(l.targetId,c);r.push(u)}}))}),await Promise.all(o),i.ya.u_(s),await async function(l,c){const u=Me(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(c,d=>H.forEach(d.qi,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>H.forEach(d.Qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Iu(h))throw h;ie("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.ns.get(d),g=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(d,m)}}}(i.localStore,r))}async function t4(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const i=await bk(n.localStore,e);n.currentUser=e,function(r,o){r.Ma.forEach(a=>{a.forEach(l=>{l.reject(new ye(q.CANCELLED,o))})}),r.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pu(n,i.us)}}function n4(t,e){const n=Me(t),i=n.Ca.get(e);if(i&&i.pa)return Ue().add(i.key);{let s=Ue();const r=n.Sa.get(e);if(!r)return s;for(const o of r){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function Vk(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QH.bind(null,e),e.ya.u_=FH.bind(null,e.eventManager),e.ya.La=BH.bind(null,e.eventManager),e}function i4(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZH.bind(null,e),e}class WS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=dg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aH(this.persistence,new rH,e.initialUser,this.serializer)}createPersistence(e){return new nH(Cy.Hr,this.serializer)}createSharedClientState(e){return new gH}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class s4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=t4.bind(null,this.syncEngine),await DH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NH}()}createDatastore(e){const n=dg(e.databaseInfo.databaseId),i=function(r){return new _H(r)}(e.databaseInfo);return function(r,o,a,l){return new wH(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,o,a){return new TH(i,s,r,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zS(this.syncEngine,n,0),function(){return BS.D()?new BS:new mH}())}createSyncEngine(e,n){return function(s,r,o,a,l,c,u){const h=new HH(s,r,o,a,l,c);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const s=Me(i);ie("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Au(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=un.UNAUTHENTICATED,this.clientId=$P.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{ie("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(ie("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Dy(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Vm(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await bk(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l4(t);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>$S(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$S(e.remoteStore,s)),t._onlineComponents=e}function a4(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function l4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!a4(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await Vm(t,new WS)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Vm(t,new WS);return t._offlineComponents}async function Fk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await qS(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await qS(t,new s4))),t._onlineComponents}function c4(t){return Fk(t).then(e=>e.syncEngine)}async function u4(t){const e=await Fk(t),n=e.eventManager;return n.onListen=WH.bind(null,e.syncEngine),n.onUnlisten=KH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YH.bind(null,e.syncEngine),n}function h4(t,e,n={}){const i=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,l,c){const u=new r4({next:d=>{o.enqueueAndForget(()=>VH(r,h));const f=d.docs.has(a);!f&&d.fromCache?c.reject(new ye(q.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?c.reject(new ye(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new $H(wy(a.path),u,{includeMetadataChanges:!0,ta:!0});return LH(r,h)}(await u4(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e,n){if(!n)throw new ye(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function d4(t,e,n,i){if(e===!0&&i===!0)throw new ye(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KS(t){if(!Te.isDocumentKey(t))throw new ye(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YS(t){if(Te.isDocumentKey(t))throw new ye(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ly(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function Ao(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ly(t);throw new ye(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bk((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mg{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ye(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XS(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ij;switch(i.type){case"firstParty":return new Pj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=GS.get(n);i&&(ie("ComponentProvider","Removing Datastore"),GS.delete(n),i.terminate())}(this),Promise.resolve()}}function f4(t,e,n,i={}){var s;const r=(t=Ao(t,mg))._getSettings(),o=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=un.MOCK_USER;else{a=YB(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ye(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new un(c)}t._authCredentials=new Cj(new BP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vy(this.firestore,e,this._query)}}class Nn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class vr extends Vy{constructor(e,n,i){super(e,n,wy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Te(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function g4(t,e,...n){if(t=Fn(t),$k("collection","path",e),t instanceof mg){const i=St.fromString(e,...n);return YS(i),new vr(t,null,i)}{if(!(t instanceof Nn||t instanceof vr))throw new ye(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(St.fromString(e,...n));return YS(i),new vr(t.firestore,null,i)}}function _r(t,e,...n){if(t=Fn(t),arguments.length===1&&(e=$P.newId()),$k("doc","path",e),t instanceof mg){const i=St.fromString(e,...n);return KS(i),new Nn(t,null,new Te(i))}{if(!(t instanceof Nn||t instanceof vr))throw new ye(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(St.fromString(e,...n));return KS(i),new Nn(t.firestore,t instanceof vr?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Sk(this,"async_queue_retry"),this.cu=()=>{const n=Lm();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Lm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Os;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Iu(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(i=>{this.ou=i,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw ss("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(e,n,i){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=Oy.createAndSchedule(this,e,n,i,r=>this.Iu(r));return this.su.push(s),s}lu(){this.ou&&Pe()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class pg extends mg{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new m4}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jk(this),this._firestoreClient.terminate()}}function p4(t,e){const n=typeof t=="object"?t:DA(),i=typeof t=="string"?t:e||"(default)",s=RA(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=GB("firestore");r&&f4(s,...r)}return s}function Uk(t){return t._firestoreClient||jk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jk(t){var e,n,i;const s=t._freezeSettings(),r=function(a,l,c,u){return new zj(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Bk(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new o4(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ha(bn.fromBase64String(e))}catch(n){throw new ye(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ha(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=/^__.*__$/;class _4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class zk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class $y{constructor(e,n,i,s,r,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ru(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new $y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:i,gu:!1});return s.pu(e),s}yu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:i,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return zd(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(Hk(this.Vu)&&v4.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class y4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||dg(e)}Cu(e,n,i,s=!1){return new $y({Vu:e,methodName:n,Du:i,path:rn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wk(t){const e=t._freezeSettings(),n=dg(t._databaseId);return new y4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function b4(t,e,n,i,s,r={}){const o=t.Cu(r.merge||r.mergeFields?2:0,e,n,s);Uy("Data must be an object, but it was:",o,i);const a=qk(i,o);let l,c;if(r.merge)l=new Gn(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const d=mv(e,h,n);if(!o.contains(d))throw new ye(q.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Kk(u,d)||u.push(d)}l=new Gn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new _4(new kn(a),l,c)}class ku extends Fy{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ku}}function w4(t,e,n,i){const s=t.Cu(1,e,n);Uy("Data must be an object, but it was:",s,i);const r=[],o=kn.empty();Wo(i,(l,c)=>{const u=jy(e,l,n);c=Fn(c);const h=s.yu(u);if(c instanceof ku)r.push(u);else{const d=_g(c,h);d!=null&&(r.push(u),o.set(u,d))}});const a=new Gn(r);return new zk(o,a,s.fieldTransforms)}function S4(t,e,n,i,s,r){const o=t.Cu(1,e,n),a=[mv(e,i,n)],l=[s];if(r.length%2!=0)throw new ye(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<r.length;d+=2)a.push(mv(e,r[d])),l.push(r[d+1]);const c=[],u=kn.empty();for(let d=a.length-1;d>=0;--d)if(!Kk(c,a[d])){const f=a[d];let g=l[d];g=Fn(g);const m=o.yu(f);if(g instanceof ku)c.push(f);else{const p=_g(g,m);p!=null&&(c.push(f),u.set(f,p))}}const h=new Gn(c);return new zk(u,h,o.fieldTransforms)}function _g(t,e){if(Gk(t=Fn(t)))return Uy("Unsupported field value:",e,t),qk(t,e);if(t instanceof Fy)return function(i,s){if(!Hk(s.Vu))throw s.Su(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let l=_g(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=Fn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hz(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=qt.fromDate(i);return{timestampValue:Ud(s.serializer,r)}}if(i instanceof qt){const r=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ud(s.serializer,r)}}if(i instanceof By)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ha)return{bytesValue:fk(s.serializer,i._byteString)};if(i instanceof Nn){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ey(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Su(`Unsupported field value: ${Ly(i)}`)}(t,e)}function qk(t,e){const n={};return UP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,(i,s)=>{const r=_g(s,e.fu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function Gk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof By||t instanceof Ha||t instanceof Nn||t instanceof Fy)}function Uy(t,e,n){if(!Gk(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Ly(n);throw i==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function mv(t,e,n){if((e=Fn(e))instanceof vg)return e._internalPath;if(typeof e=="string")return jy(t,e);throw zd("Field path arguments must be of type string or ",t,!1,void 0,n)}const T4=new RegExp("[~\\*/\\[\\]]");function jy(t,e,n){if(e.search(T4)>=0)throw zd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vg(...e.split("."))._internalPath}catch{throw zd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zd(t,e,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new ye(q.INVALID_ARGUMENT,a+t+l)}function Kk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E4 extends Yk{data(){return super.data()}}function Xk(t,e){return typeof e=="string"?jy(t,e):e instanceof vg?e._internalPath:e._delegate._internalPath}class I4{convertValue(e,n="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Wo(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(e){return new By(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=vy(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=St.fromString(e);dt(yk(i));const s=new Wc(i.get(1),i.get(3)),r=new Te(i.popFirst(5));return s.isEqual(n)||ss(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qk extends Yk{constructor(e,n,i,s,r,o){super(e,n,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new A4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Xk("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class A4 extends Qk{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){t=Ao(t,Nn);const e=Ao(t.firestore,pg);return h4(Uk(e),t._key).then(n=>k4(e,t,n))}class P4 extends I4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function Jk(t,e,n){t=Ao(t,Nn);const i=Ao(t.firestore,pg),s=C4(t.converter,e,n);return eR(i,[b4(Wk(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Xi.none())])}function Zk(t,e,n,...i){t=Ao(t,Nn);const s=Ao(t.firestore,pg),r=Wk(s);let o;return o=typeof(e=Fn(e))=="string"||e instanceof vg?S4(r,"updateDoc",t._key,e,n,i):w4(r,"updateDoc",t._key,e),eR(s,[o.toMutation(t._key,Xi.exists(!0))])}function eR(t,e){return function(i,s){const r=new Os;return i.asyncQueue.enqueueAndForget(async()=>XH(await c4(i),s,r)),r.promise}(Uk(t),e)}function k4(t,e,n){const i=n.docs.get(e._key),s=new P4(t);return new Qk(t,s,e._key,i,new x4(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return new ku("deleteField")}(function(e,n=!0){(function(s){cl=s})(Dr),is(new Ri("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new pg(new xj(i.getProvider("auth-internal")),new Rj(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ye(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(c.options.projectId,u)}(o,s),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),Qn(pS,"4.5.0",e),Qn(pS,"4.5.0","esm2017")})();const nR=OA({apiKey:"AIzaSyBionvbltmBYBeyhTq1Muhh9MX2UpDF0uM",authDomain:"school-nutrition-by-lrs.firebaseapp.com",projectId:"school-nutrition-by-lrs",storageBucket:"school-nutrition-by-lrs.appspot.com",messagingSenderId:"295693533837",appId:"1:295693533837:web:40bdff6710e8f1d95758c4"}),yr=p4(nR),R4=g4(yr,"alumnos"),O4=cs({name:"Login",data:()=>({timeout:-1,userName:"",loading:!1,errorText:"",errorExist:!1,showPasswordField:!1,password:""}),mounted(){},components:{},setup(){return{}},methods:{async submit(){if(this.loading=!0,this.userName=="profesor")if(this.password=="claveprofe"){console.log("voy al panel profe"),li.set("admin",!0),li.set("app_uid","profesor"),this.loading=!1,this.errorExist=!1,wr.push("/profesorado");return}else this.errorExist=!0,this.errorText="Te has equivocado de contraseña profe",this.loading=!1;const t=_r(yr,"alumnos",this.userName),e=await yg(t);e.exists()?(console.log("Document data:",e.data()),li.set("app_uid",this.userName),li.set("data",JSON.stringify(e.data())),this.errorExist=!1,this.loading=!1,wr.push("/")):(this.errorExist=!0,this.errorText="El usuario no existe",this.loading=!1)}}}),Go=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},D4=il("v-alert-title"),Hs=j({border:[Boolean,Number,String]},"border");function Vr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:us();return{borderClasses:I(()=>{const i=Pt(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const M4=[null,"default","comfortable","compact"],$n=j({density:{type:String,default:"default",validator:t=>M4.includes(t)}},"density");function bi(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:us();return{densityClasses:I(()=>`${e}--density-${t.density}`)}}const ds=j({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function Ws(t){return{elevationClasses:I(()=>{const n=Pt(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const Un=j({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function ei(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:us();return{roundedClasses:I(()=>{const i=Pt(t)?t.value:t.rounded,s=Pt(t)?t.value:t.tile,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const o of String(i).split(" "))r.push(`rounded-${o}`);else s&&r.push("rounded-0");return r})}}const at=j({tag:{type:String,default:"div"}},"tag");function zy(t){return D_(()=>{const e=[],n={};if(t.value.background)if(Pp(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&lF(t.value.background)){const i=Hi(t.value.background);if(i.a==null||i.a===1){const s=Kx(i);n.color=s,n.caretColor=s}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(Pp(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function Di(t,e){const n=I(()=>({text:Pt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=zy(n);return{textColorClasses:i,textColorStyles:s}}function mi(t,e){const n=I(()=>({background:Pt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=zy(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const N4=["elevated","flat","tonal","outlined","text","plain"];function dl(t,e){return _(Oe,null,[t&&_("span",{key:"overlay",class:`${e}__overlay`},null),_("span",{key:"underlay",class:`${e}__underlay`},null)])}const fs=j({color:String,variant:{type:String,default:"elevated",validator:t=>N4.includes(t)}},"variant");function fl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:us();const n=I(()=>{const{variant:r}=Rt(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=zy(I(()=>{const{variant:r,color:o}=Rt(t);return{[["elevated","flat"].includes(r)?"background":"text"]:o}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const iR=j({divided:Boolean,...Hs(),...xe(),...$n(),...ds(),...Un(),...at(),...Et(),...fs()},"VBtnGroup"),QS=he()({name:"VBtnGroup",props:iR(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Mt(t),{densityClasses:s}=bi(t),{borderClasses:r}=Vr(t),{elevationClasses:o}=Ws(t),{roundedClasses:a}=ei(t);gi({VBtn:{height:"auto",color:ne(t,"color"),density:ne(t,"density"),flat:!0,variant:ne(t,"variant")}}),be(()=>_(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,o.value,a.value,t.class],style:t.style},n))}}),Hy=j({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Wy=j({value:null,disabled:Boolean,selectedClass:String},"group-item");function qy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Dt("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=Ni();ht(Symbol.for(`${e.description}:id`),s);const r=Ve(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const o=ne(t,"value"),a=I(()=>!!(r.disabled.value||t.disabled));r.register({id:s,value:o,disabled:a},i),Sn(()=>{r.unregister(s)});const l=I(()=>r.isSelected(s)),c=I(()=>l.value&&[r.selectedClass.value,t.selectedClass]);return ve(l,u=>{i.emit("group:selected",{value:u})},{flush:"sync"}),{id:s,isSelected:l,toggle:()=>r.select(s,!l.value),select:u=>r.select(s,u),selectedClass:c,value:o,disabled:a,group:r}}function bg(t,e){let n=!1;const i=gn([]),s=Ze(t,"modelValue",[],d=>d==null?[]:sR(i,Dn(d)),d=>{const f=V4(i,d);return t.multiple?f:f[0]}),r=Dt("useGroup");function o(d,f){const g=d,m=Symbol.for(`${e.description}:id`),v=tc(m,r==null?void 0:r.vnode).indexOf(f);Rt(g.value)==null&&(g.value=v),v>-1?i.splice(v,0,g):i.push(g)}function a(d){if(n)return;l();const f=i.findIndex(g=>g.id===d);i.splice(f,1)}function l(){const d=i.find(f=>!f.disabled);d&&t.mandatory==="force"&&!s.value.length&&(s.value=[d.id])}_i(()=>{l()}),Sn(()=>{n=!0});function c(d,f){const g=i.find(m=>m.id===d);if(!(f&&(g!=null&&g.disabled)))if(t.multiple){const m=s.value.slice(),p=m.findIndex(y=>y===d),v=~p;if(f=f??!v,v&&t.mandatory&&m.length<=1||!v&&t.max!=null&&m.length+1>t.max)return;p<0&&f?m.push(d):p>=0&&!f&&m.splice(p,1),s.value=m}else{const m=s.value.includes(d);if(t.mandatory&&m)return;s.value=f??!m?[d]:[]}}function u(d){if(t.multiple,s.value.length){const f=s.value[0],g=i.findIndex(v=>v.id===f);let m=(g+d)%i.length,p=i[m];for(;p.disabled&&m!==g;)m=(m+d)%i.length,p=i[m];if(p.disabled)return;s.value=[i[m].id]}else{const f=i.find(g=>!g.disabled);f&&(s.value=[f.id])}}const h={register:o,unregister:a,selected:s,select:c,disabled:ne(t,"disabled"),prev:()=>u(i.length-1),next:()=>u(1),isSelected:d=>s.value.includes(d),selectedClass:I(()=>t.selectedClass),items:I(()=>i),getItemIndex:d=>L4(i,d)};return ht(e,h),h}function L4(t,e){const n=sR(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function sR(t,e){const n=[];return e.forEach(i=>{const s=t.find(o=>Or(i,o.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function V4(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}const rR=Symbol.for("vuetify:v-btn-toggle"),F4=j({...iR(),...Hy()},"VBtnToggle");he()({name:"VBtnToggle",props:F4(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:o,selected:a}=bg(t,rR);return be(()=>{const l=QS.filterProps(t);return _(QS,Se({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,next:s,prev:r,select:o,selected:a})]}})}),{next:s,prev:r,select:o}}});const B4=j({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Ct=he(!1)({name:"VDefaultsProvider",props:B4(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:o,scoped:a}=y_(t);return gi(i,{reset:r,root:o,scoped:a,disabled:s}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),$4=["x-small","small","default","large","x-large"],gl=j({size:{type:[String,Number],default:"default"}},"size");function Ru(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:us();return D_(()=>{let n,i;return md($4,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:_e(t.size),height:_e(t.size)}),{sizeClasses:n,sizeStyles:i}})}const U4=j({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:ze,...xe(),...gl(),...at({tag:"i"}),...Et()},"VIcon"),Ft=he()({name:"VIcon",props:U4(),setup(t,e){let{attrs:n,slots:i}=e;const s=ae(),{themeClasses:r}=Mt(t),{iconData:o}=T2(I(()=>s.value||t.icon)),{sizeClasses:a}=Ru(t),{textColorClasses:l,textColorStyles:c}=Di(ne(t,"color"));return be(()=>{var d,f;const u=(d=i.default)==null?void 0:d.call(i);u&&(s.value=(f=Fx(u).filter(g=>g.type===hu&&g.children&&typeof g.children=="string")[0])==null?void 0:f.children);const h=!!(n.onClick||n.onClickOnce);return _(o.value.component,{tag:t.tag,icon:o.value.icon,class:["v-icon","notranslate",r.value,a.value,l.value,{"v-icon--clickable":h,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[a.value?void 0:{fontSize:_e(t.size),height:_e(t.size),width:_e(t.size)},c.value,t.style],role:h?"button":void 0,"aria-hidden":!h,tabindex:h?t.disabled?-1:0:void 0},{default:()=>[u]})}),{}}});function oR(t,e){const n=ae(),i=fe(!1);if(O_){const s=new IntersectionObserver(r=>{t==null||t(r,s),i.value=!!r.find(o=>o.isIntersecting)},e);Sn(()=>{s.disconnect()}),ve(n,(r,o)=>{o&&(s.unobserve(o),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const j4=j({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...xe(),...gl(),...at({tag:"div"}),...Et()},"VProgressCircular"),z4=he()({name:"VProgressCircular",props:j4(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=ae(),{themeClasses:o}=Mt(t),{sizeClasses:a,sizeStyles:l}=Ru(t),{textColorClasses:c,textColorStyles:u}=Di(ne(t,"color")),{textColorClasses:h,textColorStyles:d}=Di(ne(t,"bgColor")),{intersectionRef:f,isIntersecting:g}=oR(),{resizeRef:m,contentRect:p}=To(),v=I(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),y=I(()=>Number(t.width)),w=I(()=>l.value?Number(t.size):p.value?p.value.width:Math.max(y.value,32)),b=I(()=>i/(1-y.value/w.value)*2),S=I(()=>y.value/w.value*b.value),E=I(()=>_e((100-v.value)/100*s));return Vn(()=>{f.value=r.value,m.value=r.value}),be(()=>_(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},o.value,a.value,c.value,t.class],style:[l.value,u.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:v.value},{default:()=>[_("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${b.value} ${b.value}`},[_("circle",{class:["v-progress-circular__underlay",h.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":S.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),_("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":S.value,"stroke-dasharray":s,"stroke-dashoffset":E.value},null)]),n.default&&_("div",{class:"v-progress-circular__content"},[n.default({value:v.value})])]})),{}}}),Fr=j({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Br(t){return{dimensionStyles:I(()=>({height:_e(t.height),maxHeight:_e(t.maxHeight),maxWidth:_e(t.maxWidth),minHeight:_e(t.minHeight),minWidth:_e(t.minWidth),width:_e(t.width)}))}}const JS={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},wg=j({location:String},"location");function Sg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=yi();return{locationStyles:I(()=>{if(!t.location)return{};const{side:r,align:o}=xp(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function a(c){return n?n(c):0}const l={};return r!=="center"&&(e?l[JS[r]]=`calc(100% - ${a(r)}px)`:l[r]=0),o!=="center"?e?l[JS[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(r==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const H4=j({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...xe(),...wg({location:"top"}),...Un(),...at(),...Et()},"VProgressLinear"),W4=he()({name:"VProgressLinear",props:H4(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ze(t,"modelValue"),{isRtl:s,rtlClasses:r}=yi(),{themeClasses:o}=Mt(t),{locationStyles:a}=Sg(t),{textColorClasses:l,textColorStyles:c}=Di(t,"color"),{backgroundColorClasses:u,backgroundColorStyles:h}=mi(I(()=>t.bgColor||t.color)),{backgroundColorClasses:d,backgroundColorStyles:f}=mi(t,"color"),{roundedClasses:g}=ei(t),{intersectionRef:m,isIntersecting:p}=oR(),v=I(()=>parseInt(t.max,10)),y=I(()=>parseInt(t.height,10)),w=I(()=>parseFloat(t.bufferValue)/v.value*100),b=I(()=>parseFloat(i.value)/v.value*100),S=I(()=>s.value!==t.reverse),E=I(()=>t.indeterminate?"fade-transition":"slide-x-transition"),T=I(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function C(P){if(!m.value)return;const{left:R,right:D,width:k}=m.value.getBoundingClientRect(),O=S.value?k-P.clientX+(D-k):P.clientX-R;i.value=Math.round(O/k*v.value)}return be(()=>_(t.tag,{ref:m,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&p.value,"v-progress-linear--reverse":S.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},g.value,o.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?_e(y.value):0,"--v-progress-linear-height":_e(y.value),...a.value},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:b.value,onClick:t.clickable&&C},{default:()=>[t.stream&&_("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...c.value,[S.value?"left":"right"]:_e(-y.value),borderTop:`${_e(y.value/2)} dotted`,opacity:T.value,top:`calc(50% - ${_e(y.value/4)})`,width:_e(100-w.value,"%"),"--v-progress-linear-stream-to":_e(y.value*(S.value?1:-1))}},null),_("div",{class:["v-progress-linear__background",u.value],style:[h.value,{opacity:T.value,width:_e(t.stream?w.value:100,"%")}]},null),_(ns,{name:E.value},{default:()=>[t.indeterminate?_("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(P=>_("div",{key:P,class:["v-progress-linear__indeterminate",P,d.value],style:f.value},null))]):_("div",{class:["v-progress-linear__determinate",d.value],style:[f.value,{width:_e(b.value,"%")}]},null)]}),n.default&&_("div",{class:"v-progress-linear__content"},[n.default({value:b.value,buffer:w.value})])]})),{}}}),Tg=j({loading:[Boolean,String]},"loader");function Eg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:us();return{loaderClasses:I(()=>({[`${e}--loading`]:t.loading}))}}function Gy(t,e){var i;let{slots:n}=e;return _("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||_(W4,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const q4=["static","relative","fixed","absolute","sticky"],Ky=j({position:{type:String,validator:t=>q4.includes(t)}},"position");function Yy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:us();return{positionClasses:I(()=>t.position?`${e}--${t.position}`:void 0)}}function G4(){const t=Dt("useRoute");return I(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function aR(){var t,e;return(e=(t=Dt("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function Ig(t,e){var c,u;const n=rL("RouterLink"),i=I(()=>!!(t.href||t.to)),s=I(()=>(i==null?void 0:i.value)||iw(e,"click")||iw(t,"click"));if(typeof n=="string")return{isLink:i,isClickable:s,href:ne(t,"href")};const r=I(()=>({...t,to:t.to?t.to:{}})),o=n.useLink(r.value),a=I(()=>t.to?o:void 0),l=G4();return{isLink:i,isClickable:s,route:(c=a.value)==null?void 0:c.route,navigate:(u=a.value)==null?void 0:u.navigate,isActive:I(()=>{var h,d,f;return a.value?t.exact?l.value?((f=a.value.isExactActive)==null?void 0:f.value)&&Or(a.value.route.value.query,l.value.query):((d=a.value.isExactActive)==null?void 0:d.value)??!1:((h=a.value.isActive)==null?void 0:h.value)??!1:!1}),href:I(()=>{var h;return t.to?(h=a.value)==null?void 0:h.route.value.href:t.href})}}const Cg=j({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Fm=!1;function K4(t,e){let n=!1,i,s;yt&&($t(()=>{window.addEventListener("popstate",r),i=t==null?void 0:t.beforeEach((o,a,l)=>{Fm?n?e(l):l():setTimeout(()=>n?e(l):l()),Fm=!0}),s=t==null?void 0:t.afterEach(()=>{Fm=!1})}),Bn(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function Y4(t,e){ve(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&$t(()=>{e(!0)})},{immediate:!0})}const pv=Symbol("rippleStop"),X4=80;function ZS(t,e){t.style.transform=e,t.style.webkitTransform=e}function vv(t){return t.constructor.name==="TouchEvent"}function lR(t){return t.constructor.name==="KeyboardEvent"}const Q4=function(t,e){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!lR(t)){const d=e.getBoundingClientRect(),f=vv(t)?t.touches[t.touches.length-1]:t;i=f.clientX-d.left,s=f.clientY-d.top}let r=0,o=.3;(h=e._ripple)!=null&&h.circle?(o=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const a=`${(e.clientWidth-r*2)/2}px`,l=`${(e.clientHeight-r*2)/2}px`,c=n.center?a:`${i-r}px`,u=n.center?l:`${s-r}px`;return{radius:r,scale:o,x:c,y:u,centerX:a,centerY:l}},Hd={show(t,e){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((f=e==null?void 0:e._ripple)!=null&&f.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:o,x:a,y:l,centerX:c,centerY:u}=Q4(t,e,n),h=`${r*2}px`;s.className="v-ripple__animation",s.style.width=h,s.style.height=h,e.appendChild(i);const d=window.getComputedStyle(e);d&&d.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),ZS(s,`translate(${a}, ${l}) scale3d(${o},${o},${o})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),ZS(s,`translate(${c}, ${u}) scale3d(1,1,1)`)},0)},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function cR(t){return typeof t>"u"||!!t}function Yc(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[pv])){if(t[pv]=!0,vv(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||lR(t),n._ripple.class&&(e.class=n._ripple.class),vv(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Hd.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},X4)}else Hd.show(t,n,e)}}function eT(t){t[pv]=!0}function Wn(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{Wn(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),Hd.hide(e)}}function uR(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Xc=!1;function hR(t){!Xc&&(t.keyCode===J0.enter||t.keyCode===J0.space)&&(Xc=!0,Yc(t))}function dR(t){Xc=!1,Wn(t)}function fR(t){Xc&&(Xc=!1,Wn(t))}function gR(t,e,n){const{value:i,modifiers:s}=e,r=cR(i);if(r||Hd.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,fd(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",eT,{passive:!0}),t.addEventListener("mousedown",eT);return}t.addEventListener("touchstart",Yc,{passive:!0}),t.addEventListener("touchend",Wn,{passive:!0}),t.addEventListener("touchmove",uR,{passive:!0}),t.addEventListener("touchcancel",Wn),t.addEventListener("mousedown",Yc),t.addEventListener("mouseup",Wn),t.addEventListener("mouseleave",Wn),t.addEventListener("keydown",hR),t.addEventListener("keyup",dR),t.addEventListener("blur",fR),t.addEventListener("dragstart",Wn,{passive:!0})}else!r&&n&&mR(t)}function mR(t){t.removeEventListener("mousedown",Yc),t.removeEventListener("touchstart",Yc),t.removeEventListener("touchend",Wn),t.removeEventListener("touchmove",uR),t.removeEventListener("touchcancel",Wn),t.removeEventListener("mouseup",Wn),t.removeEventListener("mouseleave",Wn),t.removeEventListener("keydown",hR),t.removeEventListener("keyup",dR),t.removeEventListener("dragstart",Wn),t.removeEventListener("blur",fR)}function J4(t,e){gR(t,e,!1)}function Z4(t){delete t._ripple,mR(t)}function eW(t,e){if(e.value===e.oldValue)return;const n=cR(e.oldValue);gR(t,e,n)}const Ou={mounted:J4,unmounted:Z4,updated:eW},pR=j({active:{type:Boolean,default:void 0},symbol:{type:null,default:rR},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:ze,appendIcon:ze,block:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Hs(),...xe(),...$n(),...Fr(),...ds(),...Wy(),...Tg(),...wg(),...Ky(),...Un(),...Cg(),...gl(),...at({tag:"button"}),...Et(),...fs({variant:"elevated"})},"VBtn"),Ht=he()({name:"VBtn",directives:{Ripple:Ou},props:pR(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Mt(t),{borderClasses:r}=Vr(t),{colorClasses:o,colorStyles:a,variantClasses:l}=fl(t),{densityClasses:c}=bi(t),{dimensionStyles:u}=Br(t),{elevationClasses:h}=Ws(t),{loaderClasses:d}=Eg(t),{locationStyles:f}=Sg(t),{positionClasses:g}=Yy(t),{roundedClasses:m}=ei(t),{sizeClasses:p,sizeStyles:v}=Ru(t),y=qy(t,t.symbol,!1),w=Ig(t,n),b=I(()=>{var P;return t.active!==void 0?t.active:w.isLink.value?(P=w.isActive)==null?void 0:P.value:y==null?void 0:y.isSelected.value}),S=I(()=>(y==null?void 0:y.disabled.value)||t.disabled),E=I(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),T=I(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function C(P){var R;S.value||w.isLink.value&&(P.metaKey||P.ctrlKey||P.shiftKey||P.button!==0||n.target==="_blank")||((R=w.navigate)==null||R.call(w,P),y==null||y.toggle())}return Y4(w,y==null?void 0:y.select),be(()=>{var V,B;const P=w.isLink.value?"a":t.tag,R=!!(t.prependIcon||i.prepend),D=!!(t.appendIcon||i.append),k=!!(t.icon&&t.icon!==!0),O=(y==null?void 0:y.isSelected.value)&&(!w.isLink.value||((V=w.isActive)==null?void 0:V.value))||!y||((B=w.isActive)==null?void 0:B.value);return xn(_(P,{type:P==="a"?void 0:"button",class:["v-btn",y==null?void 0:y.selectedClass.value,{"v-btn--active":b.value,"v-btn--block":t.block,"v-btn--disabled":S.value,"v-btn--elevated":E.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},s.value,r.value,O?o.value:void 0,c.value,h.value,d.value,g.value,m.value,p.value,l.value,t.class],style:[O?a.value:void 0,u.value,f.value,v.value,t.style],disabled:S.value||void 0,href:w.href.value,onClick:C,value:T.value},{default:()=>{var X;return[dl(!0,"v-btn"),!t.icon&&R&&_("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?_(Ct,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):_(Ft,{key:"prepend-icon",icon:t.prependIcon},null)]),_("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&k?_(Ft,{key:"content-icon",icon:t.icon},null):_(Ct,{key:"content-defaults",disabled:!k,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var K;return[((K=i.default)==null?void 0:K.call(i))??t.text]}})]),!t.icon&&D&&_("span",{key:"append",class:"v-btn__append"},[i.append?_(Ct,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):_(Ft,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&_("span",{key:"loader",class:"v-btn__loader"},[((X=i.loader)==null?void 0:X.call(i))??_(z4,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[$s("ripple"),!S.value&&t.ripple,null]])}),{group:y}}}),tW=["success","info","warning","error"],nW=j({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:ze,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>tW.includes(t)},...xe(),...$n(),...Fr(),...ds(),...wg(),...Ky(),...Un(),...at(),...Et(),...fs({variant:"flat"})},"VAlert"),iW=he()({name:"VAlert",props:nW(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ze(t,"modelValue"),r=I(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),o=I(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:a}=Mt(t),{colorClasses:l,colorStyles:c,variantClasses:u}=fl(o),{densityClasses:h}=bi(t),{dimensionStyles:d}=Br(t),{elevationClasses:f}=Ws(t),{locationStyles:g}=Sg(t),{positionClasses:m}=Yy(t),{roundedClasses:p}=ei(t),{textColorClasses:v,textColorStyles:y}=Di(ne(t,"borderColor")),{t:w}=js(),b=I(()=>({"aria-label":w(t.closeLabel),onClick(S){s.value=!1,n("click:close",S)}}));return()=>{const S=!!(i.prepend||r.value),E=!!(i.title||t.title),T=!!(i.close||t.closable);return s.value&&_(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},a.value,l.value,h.value,f.value,m.value,p.value,u.value,t.class],style:[c.value,d.value,g.value,t.style],role:"alert"},{default:()=>{var C,P;return[dl(!1,"v-alert"),t.border&&_("div",{key:"border",class:["v-alert__border",v.value],style:y.value},null),S&&_("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?_(Ct,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:t.density,icon:r.value,size:t.prominent?44:28}}},i.prepend):_(Ft,{key:"prepend-icon",density:t.density,icon:r.value,size:t.prominent?44:28},null)]),_("div",{class:"v-alert__content"},[E&&_(D4,{key:"title"},{default:()=>{var R;return[((R=i.title)==null?void 0:R.call(i))??t.title]}}),((C=i.text)==null?void 0:C.call(i))??t.text,(P=i.default)==null?void 0:P.call(i)]),i.append&&_("div",{key:"append",class:"v-alert__append"},[i.append()]),T&&_("div",{key:"close",class:"v-alert__close"},[i.close?_(Ct,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var R;return[(R=i.close)==null?void 0:R.call(i,{props:b.value})]}}):_(Ht,Se({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},b.value),null)])]}})}}}),vR=he()({name:"VCardActions",props:xe(),setup(t,e){let{slots:n}=e;return gi({VBtn:{slim:!0,variant:"text"}}),be(()=>{var i;return _("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),sW=il("v-card-subtitle"),Po=il("v-card-title");function rW(t){return{aspectStyles:I(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const _R=j({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...xe(),...Fr()},"VResponsive"),tT=he()({name:"VResponsive",props:_R(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=rW(t),{dimensionStyles:s}=Br(t);return be(()=>{var r;return _("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[_("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&_("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),Du=j({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),Es=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,group:r,...o}=t,{component:a=r?Rx:ns,...l}=typeof i=="object"?i:{};return fi(a,Se(typeof i=="string"?{name:s?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:r}).filter(c=>{let[u,h]=c;return h!==void 0})),o),n)};function oW(t,e){if(!O_)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},o=new IntersectionObserver(function(){var h;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=(h=t._observe)==null?void 0:h[e.instance.$.uid];if(!c)return;const u=a.some(d=>d.isIntersecting);s&&(!n.quiet||c.init)&&(!n.once||u||c.init)&&s(u,a,l),u&&n.once?yR(t,e):c.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:o},o.observe(t)}function yR(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const aW={mounted:oW,unmounted:yR},bR=aW,lW=j({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,..._R(),...xe(),...Un(),...Du()},"VImg"),Mu=he()({name:"VImg",directives:{intersect:bR},props:lW(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=mi(ne(t,"color")),{roundedClasses:o}=ei(t),a=Dt("VImg"),l=fe(""),c=ae(),u=fe(t.eager?"loading":"idle"),h=fe(),d=fe(),f=I(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),g=I(()=>f.value.aspect||h.value/d.value||0);ve(()=>t.src,()=>{m(u.value!=="idle")}),ve(g,(k,O)=>{!k&&O&&c.value&&b(c.value)}),Rf(()=>m());function m(k){if(!(t.eager&&k)&&!(O_&&!k&&!t.eager)){if(u.value="loading",f.value.lazySrc){const O=new Image;O.src=f.value.lazySrc,b(O,null)}f.value.src&&$t(()=>{var O;n("loadstart",((O=c.value)==null?void 0:O.currentSrc)||f.value.src),setTimeout(()=>{var V;if(!a.isUnmounted)if((V=c.value)!=null&&V.complete){if(c.value.naturalWidth||v(),u.value==="error")return;g.value||b(c.value,null),u.value==="loading"&&p()}else g.value||b(c.value),y()})})}}function p(){var k;a.isUnmounted||(y(),b(c.value),u.value="loaded",n("load",((k=c.value)==null?void 0:k.currentSrc)||f.value.src))}function v(){var k;a.isUnmounted||(u.value="error",n("error",((k=c.value)==null?void 0:k.currentSrc)||f.value.src))}function y(){const k=c.value;k&&(l.value=k.currentSrc||k.src)}let w=-1;Sn(()=>{clearTimeout(w)});function b(k){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const V=()=>{if(clearTimeout(w),a.isUnmounted)return;const{naturalHeight:B,naturalWidth:X}=k;B||X?(h.value=X,d.value=B):!k.complete&&u.value==="loading"&&O!=null?w=window.setTimeout(V,O):(k.currentSrc.endsWith(".svg")||k.currentSrc.startsWith("data:image/svg+xml"))&&(h.value=1,d.value=1)};V()}const S=I(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),E=()=>{var V;if(!f.value.src||u.value==="idle")return null;const k=_("img",{class:["v-img__img",S.value],style:{objectPosition:t.position},src:f.value.src,srcset:f.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:c,onLoad:p,onError:v},null),O=(V=i.sources)==null?void 0:V.call(i);return _(Es,{transition:t.transition,appear:!0},{default:()=>[xn(O?_("picture",{class:"v-img__picture"},[O,k]):k,[[jo,u.value==="loaded"]])]})},T=()=>_(Es,{transition:t.transition},{default:()=>[f.value.lazySrc&&u.value!=="loaded"&&_("img",{class:["v-img__img","v-img__img--preload",S.value],style:{objectPosition:t.position},src:f.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),C=()=>i.placeholder?_(Es,{transition:t.transition,appear:!0},{default:()=>[(u.value==="loading"||u.value==="error"&&!i.error)&&_("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,P=()=>i.error?_(Es,{transition:t.transition,appear:!0},{default:()=>[u.value==="error"&&_("div",{class:"v-img__error"},[i.error()])]}):null,R=()=>t.gradient?_("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,D=fe(!1);{const k=ve(g,O=>{O&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{D.value=!0})}),k())})}return be(()=>{const k=tT.filterProps(t);return xn(_(tT,Se({class:["v-img",{"v-img--booting":!D.value},s.value,o.value,t.class],style:[{width:_e(t.width==="auto"?h.value:t.width)},r.value,t.style]},k,{aspectRatio:g.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>_(Oe,null,[_(E,null,null),_(T,null,null),_(R,null,null),_(C,null,null),_(P,null,null)]),default:i.default}),[[$s("intersect"),{handler:m,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:c,state:u,naturalWidth:h,naturalHeight:d}}}),cW=j({start:Boolean,end:Boolean,icon:ze,image:String,text:String,...xe(),...$n(),...Un(),...gl(),...at(),...Et(),...fs({variant:"flat"})},"VAvatar"),ko=he()({name:"VAvatar",props:cW(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Mt(t),{colorClasses:s,colorStyles:r,variantClasses:o}=fl(t),{densityClasses:a}=bi(t),{roundedClasses:l}=ei(t),{sizeClasses:c,sizeStyles:u}=Ru(t);return be(()=>_(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,a.value,l.value,c.value,o.value,t.class],style:[r.value,u.value,t.style]},{default:()=>[n.default?_(Ct,{key:"content-defaults",defaults:{VImg:{cover:!0,image:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?_(Mu,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?_(Ft,{key:"icon",icon:t.icon},null):t.text,dl(!1,"v-avatar")]})),{}}}),uW=j({appendAvatar:String,appendIcon:ze,prependAvatar:String,prependIcon:ze,subtitle:[String,Number],title:[String,Number],...xe(),...$n()},"VCardItem"),Xy=he()({name:"VCardItem",props:uW(),setup(t,e){let{slots:n}=e;return be(()=>{var c;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),o=!!(r||n.append),a=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return _("div",{class:["v-card-item",t.class],style:t.style},[s&&_("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?_(Ct,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):_(Oe,null,[t.prependAvatar&&_(ko,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&_(Ft,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),_("div",{class:"v-card-item__content"},[a&&_(Po,{key:"title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??t.title]}}),l&&_(sW,{key:"subtitle"},{default:()=>{var u;return[((u=n.subtitle)==null?void 0:u.call(n))??t.subtitle]}}),(c=n.default)==null?void 0:c.call(n)]),o&&_("div",{key:"append",class:"v-card-item__append"},[n.append?_(Ct,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):_(Oe,null,[t.appendIcon&&_(Ft,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&_(ko,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),wR=il("v-card-text"),hW=j({appendAvatar:String,appendIcon:ze,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:ze,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Hs(),...xe(),...$n(),...Fr(),...ds(),...Tg(),...wg(),...Ky(),...Un(),...Cg(),...at(),...Et(),...fs({variant:"elevated"})},"VCard"),xr=he()({name:"VCard",directives:{Ripple:Ou},props:hW(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Mt(t),{borderClasses:r}=Vr(t),{colorClasses:o,colorStyles:a,variantClasses:l}=fl(t),{densityClasses:c}=bi(t),{dimensionStyles:u}=Br(t),{elevationClasses:h}=Ws(t),{loaderClasses:d}=Eg(t),{locationStyles:f}=Sg(t),{positionClasses:g}=Yy(t),{roundedClasses:m}=ei(t),p=Ig(t,n),v=I(()=>t.link!==!1&&p.isLink.value),y=I(()=>!t.disabled&&t.link!==!1&&(t.link||p.isClickable.value));return be(()=>{const w=v.value?"a":t.tag,b=!!(i.title||t.title!=null),S=!!(i.subtitle||t.subtitle!=null),E=b||S,T=!!(i.append||t.appendAvatar||t.appendIcon),C=!!(i.prepend||t.prependAvatar||t.prependIcon),P=!!(i.image||t.image),R=E||C||T,D=!!(i.text||t.text!=null);return xn(_(w,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":y.value},s.value,r.value,o.value,c.value,h.value,d.value,g.value,m.value,l.value,t.class],style:[a.value,u.value,f.value,t.style],href:p.href.value,onClick:y.value&&p.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var k;return[P&&_("div",{key:"image",class:"v-card__image"},[i.image?_(Ct,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):_(Mu,{key:"image-img",cover:!0,src:t.image},null)]),_(Gy,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),R&&_(Xy,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),D&&_(wR,{key:"text"},{default:()=>{var O;return[((O=i.text)==null?void 0:O.call(i))??t.text]}}),(k=i.default)==null?void 0:k.call(i),i.actions&&_(vR,null,{default:i.actions}),dl(y.value,"v-card")]}}),[[$s("ripple"),y.value&&t.ripple]])}),{}}}),SR=Symbol.for("vuetify:form"),dW=j({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function fW(t){const e=Ze(t,"modelValue"),n=I(()=>t.disabled),i=I(()=>t.readonly),s=fe(!1),r=ae([]),o=ae([]);async function a(){const u=[];let h=!0;o.value=[],s.value=!0;for(const d of r.value){const f=await d.validate();if(f.length>0&&(h=!1,u.push({id:d.id,errorMessages:f})),!h&&t.fastFail)break}return o.value=u,s.value=!1,{valid:h,errors:o.value}}function l(){r.value.forEach(u=>u.reset())}function c(){r.value.forEach(u=>u.resetValidation())}return ve(r,()=>{let u=0,h=0;const d=[];for(const f of r.value)f.isValid===!1?(h++,d.push({id:f.id,errorMessages:f.errorMessages})):f.isValid===!0&&u++;o.value=d,e.value=h>0?!1:u===r.value.length?!0:null},{deep:!0,flush:"post"}),ht(SR,{register:u=>{let{id:h,validate:d,reset:f,resetValidation:g}=u;r.value.some(m=>m.id===h),r.value.push({id:h,validate:d,reset:f,resetValidation:g,isValid:null,errorMessages:[]})},unregister:u=>{r.value=r.value.filter(h=>h.id!==u)},update:(u,h,d)=>{const f=r.value.find(g=>g.id===u);f&&(f.isValid=h,f.errorMessages=d)},isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validateOn:ne(t,"validateOn")}),{errors:o,isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validate:a,reset:l,resetValidation:c}}function TR(){return Ve(SR,null)}const Bm=Symbol("Forwarded refs");function $m(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Nu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[Bm]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,r)){const a=Reflect.get(o.value,r);return typeof a=="function"?a.bind(o.value):a}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,r))return!0;return!1},set(s,r,o){if(Reflect.has(s,r))return Reflect.set(s,r,o);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,r))return Reflect.set(a.value,r,o);return!1},getOwnPropertyDescriptor(s,r){var a;const o=Reflect.getOwnPropertyDescriptor(s,r);if(o)return o;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=$m(l.value,r)??("_"in l.value?$m((a=l.value._)==null?void 0:a.setupState,r):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[Bm];if(!c)continue;const u=c.slice();for(;u.length;){const h=u.shift(),d=$m(h.value,r);if(d)return d;const f=h.value&&h.value[Bm];f&&u.push(...f)}}}}})}const gW=j({...xe(),...dW()},"VForm"),mW=he()({name:"VForm",props:gW(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=fW(t),r=ae();function o(l){l.preventDefault(),s.reset()}function a(l){const c=l,u=s.validate();c.then=u.then.bind(u),c.catch=u.catch.bind(u),c.finally=u.finally.bind(u),i("submit",c),c.defaultPrevented||u.then(h=>{var f;let{valid:d}=h;d&&((f=r.value)==null||f.submit())}),c.preventDefault()}return be(()=>{var l;return _("form",{ref:r,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:o,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,s)])}),Nu(s,r)}}),pW=j({fluid:{type:Boolean,default:!1},...xe(),...at()},"VContainer"),ml=he()({name:"VContainer",props:pW(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=yi();return be(()=>_(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:t.style},n)),{}}}),ER=Vf.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),IR=Vf.reduce((t,e)=>{const n="offset"+ls(e);return t[n]={type:[String,Number],default:null},t},{}),CR=Vf.reduce((t,e)=>{const n="order"+ls(e);return t[n]={type:[String,Number],default:null},t},{}),nT={col:Object.keys(ER),offset:Object.keys(IR),order:Object.keys(CR)};function vW(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const s=e.replace(t,"");i+=`-${s}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const _W=["auto","start","end","center","baseline","stretch"],yW=j({cols:{type:[Boolean,String,Number],default:!1},...ER,offset:{type:[String,Number],default:null},...IR,order:{type:[String,Number],default:null},...CR,alignSelf:{type:String,default:null,validator:t=>_W.includes(t)},...xe(),...at()},"VCol"),Kn=he()({name:"VCol",props:yW(),setup(t,e){let{slots:n}=e;const i=I(()=>{const s=[];let r;for(r in nT)nT[r].forEach(a=>{const l=t[a],c=vW(r,a,l);c&&s.push(c)});const o=s.some(a=>a.startsWith("v-col-"));return s.push({"v-col":!o||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),s});return()=>{var s;return fi(t.tag,{class:[i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),Qy=["start","end","center"],xR=["space-between","space-around","space-evenly"];function Jy(t,e){return Vf.reduce((n,i)=>{const s=t+ls(i);return n[s]=e(),n},{})}const bW=[...Qy,"baseline","stretch"],AR=t=>bW.includes(t),PR=Jy("align",()=>({type:String,default:null,validator:AR})),wW=[...Qy,...xR],kR=t=>wW.includes(t),RR=Jy("justify",()=>({type:String,default:null,validator:kR})),SW=[...Qy,...xR,"stretch"],OR=t=>SW.includes(t),DR=Jy("alignContent",()=>({type:String,default:null,validator:OR})),iT={align:Object.keys(PR),justify:Object.keys(RR),alignContent:Object.keys(DR)},TW={align:"align",justify:"justify",alignContent:"align-content"};function EW(t,e,n){let i=TW[t];if(n!=null){if(e){const s=e.replace(t,"");i+=`-${s}`}return i+=`-${n}`,i.toLowerCase()}}const IW=j({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:AR},...PR,justify:{type:String,default:null,validator:kR},...RR,alignContent:{type:String,default:null,validator:OR},...DR,...xe(),...at()},"VRow"),Ji=he()({name:"VRow",props:IW(),setup(t,e){let{slots:n}=e;const i=I(()=>{const s=[];let r;for(r in iT)iT[r].forEach(o=>{const a=t[o],l=EW(r,o,a);l&&s.push(l)});return s.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),s});return()=>{var s;return fi(t.tag,{class:["v-row",i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),CW=j({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function ti(t,e,n){return he()({name:t,props:CW({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const o={onBeforeEnter(a){i.origin&&(a.style.transformOrigin=i.origin)},onLeave(a){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:u,offsetHeight:h}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${c}px`,a.style.width=`${u}px`,a.style.height=`${h}px`}i.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(i.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:l,top:c,left:u,width:h,height:d}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=c||"",a.style.left=u||"",a.style.width=h||"",a.style.height=d||""}}};return()=>{const a=i.group?Rx:ns;return fi(a,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:o},r.default)}}})}function MR(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return he()({name:t,props:{mode:{type:String,default:n},disabled:Boolean},setup(i,s){let{slots:r}=s;return()=>fi(ns,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function NR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=di(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[i]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,t&&o._parent&&o._parent.classList.add(t),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:r,onEnterCancelled:r,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[i]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(o){t&&o._parent&&o._parent.classList.remove(t),r(o)}function r(o){const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const xW=j({target:[Object,Array]},"v-dialog-transition"),LR=he()({name:"VDialogTransition",props:xW(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var d;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),s.style.visibility="";const{x:o,y:a,sx:l,sy:c,speed:u}=rT(t.target,s),h=ro(s,[{transform:`translate(${o}px, ${a}px) scale(${l}, ${c})`,opacity:0},{}],{duration:225*u,easing:bF});(d=sT(s))==null||d.forEach(f=>{ro(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:Pc})}),h.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var d;await new Promise(f=>requestAnimationFrame(f));const{x:o,y:a,sx:l,sy:c,speed:u}=rT(t.target,s);ro(s,[{},{transform:`translate(${o}px, ${a}px) scale(${l}, ${c})`,opacity:0}],{duration:125*u,easing:wF}).finished.then(()=>r()),(d=sT(s))==null||d.forEach(f=>{ro(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:Pc})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?_(ns,Se({name:"dialog-transition"},i,{css:!1}),n):_(ns,{name:"dialog-transition"},n)}});function sT(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function rT(t,e){const n=zx(t),i=M_(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(v=>parseFloat(v)),[o,a]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let c=n.top+n.height/2;o==="top"||a==="top"?c-=n.height/2:(o==="bottom"||a==="bottom")&&(c+=n.height/2);const u=n.width/i.width,h=n.height/i.height,d=Math.max(1,u,h),f=u/d||0,g=h/d||0,m=i.width*i.height/(window.innerWidth*window.innerHeight),p=m>.12?Math.min(1.5,(m-.12)*10+1):1;return{x:l-(s+i.left),y:c-(r+i.top),sx:f,sy:g,speed:p}}ti("fab-transition","center center","out-in");ti("dialog-bottom-transition");ti("dialog-top-transition");const oT=ti("fade-transition");ti("scale-transition");ti("scroll-x-transition");ti("scroll-x-reverse-transition");ti("scroll-y-transition");ti("scroll-y-reverse-transition");ti("slide-x-transition");ti("slide-x-reverse-transition");const VR=ti("slide-y-transition");ti("slide-y-reverse-transition");const FR=MR("expand-transition",NR()),BR=MR("expand-x-transition",NR("",!0)),AW=j({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...xe(),...Du({transition:{component:VR}})},"VCounter"),PW=he()({name:"VCounter",functional:!0,props:AW(),setup(t,e){let{slots:n}=e;const i=I(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return be(()=>_(Es,{transition:t.transition},{default:()=>[xn(_("div",{class:["v-counter",t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[jo,t.active]])]})),{}}}),kW=j({text:String,onClick:Mn(),...xe(),...Et()},"VLabel"),$R=he()({name:"VLabel",props:kW(),setup(t,e){let{slots:n}=e;return be(()=>{var i;return _("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),RW=j({floating:Boolean,...xe()},"VFieldLabel"),wh=he()({name:"VFieldLabel",props:RW(),setup(t,e){let{slots:n}=e;return be(()=>_($R,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}});function UR(t){const{t:e}=js();function n(i){let{name:s}=i;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],o=t[`onClick:${s}`],a=o&&r?e(`$vuetify.input.${r}`,t.label??""):void 0;return _(Ft,{icon:t[`${s}Icon`],"aria-label":a,onClick:o},null)}return{InputIcon:n}}const jR=j({focused:Boolean,"onUpdate:focused":Mn()},"focus");function zR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:us();const n=Ze(t,"focused"),i=I(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const OW=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],HR=j({appendInnerIcon:ze,bgColor:String,clearable:Boolean,clearIcon:{type:ze,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ze,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>OW.includes(t)},"onClick:clear":Mn(),"onClick:appendInner":Mn(),"onClick:prependInner":Mn(),...xe(),...Tg(),...Un(),...Et()},"VField"),WR=he()({name:"VField",inheritAttrs:!1,props:{id:String,...jR(),...HR()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=Mt(t),{loaderClasses:o}=Eg(t),{focusClasses:a,isFocused:l,focus:c,blur:u}=zR(t),{InputIcon:h}=UR(t),{roundedClasses:d}=ei(t),{rtlClasses:f}=yi(),g=I(()=>t.dirty||t.active),m=I(()=>!t.singleLine&&!!(t.label||s.label)),p=Ni(),v=I(()=>t.id||`input-${p}`),y=I(()=>`${v.value}-messages`),w=ae(),b=ae(),S=ae(),E=I(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:T,backgroundColorStyles:C}=mi(ne(t,"bgColor")),{textColorClasses:P,textColorStyles:R}=Di(I(()=>t.error||t.disabled?void 0:g.value&&l.value?t.color:t.baseColor));ve(g,O=>{if(m.value){const V=w.value.$el,B=b.value.$el;requestAnimationFrame(()=>{const X=M_(V),K=B.getBoundingClientRect(),L=K.x-X.x,z=K.y-X.y-(X.height/2-K.height/2),$=K.width/.75,W=Math.abs($-X.width)>1?{maxWidth:_e($)}:void 0,Y=getComputedStyle(V),ce=getComputedStyle(B),ge=parseFloat(Y.transitionDuration)*1e3||150,pe=parseFloat(ce.getPropertyValue("--v-field-label-scale")),me=ce.getPropertyValue("color");V.style.visibility="visible",B.style.visibility="hidden",ro(V,{transform:`translate(${L}px, ${z}px) scale(${pe})`,color:me,...W},{duration:ge,easing:Pc,direction:O?"normal":"reverse"}).finished.then(()=>{V.style.removeProperty("visibility"),B.style.removeProperty("visibility")})})}},{flush:"post"});const D=I(()=>({isActive:g,isFocused:l,controlRef:S,blur:u,focus:c}));function k(O){O.target!==document.activeElement&&O.preventDefault()}return be(()=>{var L,z,$;const O=t.variant==="outlined",V=!!(s["prepend-inner"]||t.prependInnerIcon),B=!!(t.clearable||s.clear),X=!!(s["append-inner"]||t.appendInnerIcon||B),K=()=>s.label?s.label({...D.value,label:t.label,props:{for:v.value}}):t.label;return _("div",Se({class:["v-field",{"v-field--active":g.value,"v-field--appended":X,"v-field--center-affix":t.centerAffix??!E.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":V,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!K(),[`v-field--variant-${t.variant}`]:!0},r.value,T.value,a.value,o.value,d.value,f.value,t.class],style:[C.value,t.style],onClick:k},n),[_("div",{class:"v-field__overlay"},null),_(Gy,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:s.loader}),V&&_("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&_(h,{key:"prepend-icon",name:"prependInner"},null),(L=s["prepend-inner"])==null?void 0:L.call(s,D.value)]),_("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&m.value&&_(wh,{key:"floating-label",ref:b,class:[P.value],floating:!0,for:v.value,style:R.value},{default:()=>[K()]}),_(wh,{ref:w,for:v.value},{default:()=>[K()]}),(z=s.default)==null?void 0:z.call(s,{...D.value,props:{id:v.value,class:"v-field__input","aria-describedby":y.value},focus:c,blur:u})]),B&&_(BR,{key:"clear"},{default:()=>[xn(_("div",{class:"v-field__clearable",onMousedown:W=>{W.preventDefault(),W.stopPropagation()}},[s.clear?s.clear():_(h,{name:"clear"},null)]),[[jo,t.dirty]])]}),X&&_("div",{key:"append",class:"v-field__append-inner"},[($=s["append-inner"])==null?void 0:$.call(s,D.value),t.appendInnerIcon&&_(h,{key:"append-icon",name:"appendInner"},null)]),_("div",{class:["v-field__outline",P.value],style:R.value},[O&&_(Oe,null,[_("div",{class:"v-field__outline__start"},null),m.value&&_("div",{class:"v-field__outline__notch"},[_(wh,{ref:b,floating:!0,for:v.value},{default:()=>[K()]})]),_("div",{class:"v-field__outline__end"},null)]),E.value&&m.value&&_(wh,{ref:b,floating:!0,for:v.value},{default:()=>[K()]})])])}),{controlRef:S}}});function DW(t){const e=Object.keys(WR.props).filter(n=>!Lf(n)&&n!=="class"&&n!=="style");return Nx(t,e)}const MW=j({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...xe(),...Du({transition:{component:VR,leaveAbsolute:!0,group:!0}})},"VMessages"),NW=he()({name:"VMessages",props:MW(),setup(t,e){let{slots:n}=e;const i=I(()=>Dn(t.messages)),{textColorClasses:s,textColorStyles:r}=Di(I(()=>t.color));return be(()=>_(Es,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((o,a)=>_("div",{class:"v-messages__message",key:`${a}-${i.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),LW=j({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...jR()},"validation");function VW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:us(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ni();const i=Ze(t,"modelValue"),s=I(()=>t.validationValue===void 0?i.value:t.validationValue),r=TR(),o=ae([]),a=fe(!0),l=I(()=>!!(Dn(i.value===""?null:i.value).length||Dn(s.value===""?null:s.value).length)),c=I(()=>!!(t.disabled??(r==null?void 0:r.isDisabled.value))),u=I(()=>!!(t.readonly??(r==null?void 0:r.isReadonly.value))),h=I(()=>{var b;return(b=t.errorMessages)!=null&&b.length?Dn(t.errorMessages).concat(o.value).slice(0,Math.max(0,+t.maxErrors)):o.value}),d=I(()=>{let b=(t.validateOn??(r==null?void 0:r.validateOn.value))||"input";b==="lazy"&&(b="input lazy");const S=new Set((b==null?void 0:b.split(" "))??[]);return{blur:S.has("blur")||S.has("input"),input:S.has("input"),submit:S.has("submit"),lazy:S.has("lazy")}}),f=I(()=>{var b;return t.error||(b=t.errorMessages)!=null&&b.length?!1:t.rules.length?a.value?o.value.length||d.value.lazy?null:!0:!o.value.length:!0}),g=fe(!1),m=I(()=>({[`${e}--error`]:f.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:c.value,[`${e}--readonly`]:u.value})),p=I(()=>t.name??Rt(n));Rf(()=>{r==null||r.register({id:p.value,validate:w,reset:v,resetValidation:y})}),Sn(()=>{r==null||r.unregister(p.value)}),_i(async()=>{d.value.lazy||await w(!0),r==null||r.update(p.value,f.value,h.value)}),xi(()=>d.value.input,()=>{ve(s,()=>{if(s.value!=null)w();else if(t.focused){const b=ve(()=>t.focused,S=>{S||w(),b()})}})}),xi(()=>d.value.blur,()=>{ve(()=>t.focused,b=>{b||w()})}),ve([f,h],()=>{r==null||r.update(p.value,f.value,h.value)});async function v(){i.value=null,await $t(),await y()}async function y(){a.value=!0,d.value.lazy?o.value=[]:await w(!0)}async function w(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const S=[];g.value=!0;for(const E of t.rules){if(S.length>=+(t.maxErrors??1))break;const C=await(typeof E=="function"?E:()=>E)(s.value);if(C!==!0){if(C!==!1&&typeof C!="string"){console.warn(`${C} is not a valid value. Rule functions must return boolean true or a string.`);continue}S.push(C||"")}}return o.value=S,g.value=!1,a.value=b,o.value}return{errorMessages:h,isDirty:l,isDisabled:c,isReadonly:u,isPristine:a,isValid:f,isValidating:g,reset:v,resetValidation:y,validate:w,validationClasses:m}}const qR=j({id:String,appendIcon:ze,centerAffix:{type:Boolean,default:!0},prependIcon:ze,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Mn(),"onClick:append":Mn(),...xe(),...$n(),...LW()},"VInput"),aT=he()({name:"VInput",props:{...qR()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=bi(t),{rtlClasses:o}=yi(),{InputIcon:a}=UR(t),l=Ni(),c=I(()=>t.id||`input-${l}`),u=I(()=>`${c.value}-messages`),{errorMessages:h,isDirty:d,isDisabled:f,isReadonly:g,isPristine:m,isValid:p,isValidating:v,reset:y,resetValidation:w,validate:b,validationClasses:S}=VW(t,"v-input",c),E=I(()=>({id:c,messagesId:u,isDirty:d,isDisabled:f,isReadonly:g,isPristine:m,isValid:p,isValidating:v,reset:y,resetValidation:w,validate:b})),T=I(()=>{var C;return(C=t.errorMessages)!=null&&C.length||!m.value&&h.value.length?h.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return be(()=>{var k,O,V,B;const C=!!(i.prepend||t.prependIcon),P=!!(i.append||t.appendIcon),R=T.value.length>0,D=!t.hideDetails||t.hideDetails==="auto"&&(R||!!i.details);return _("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},r.value,o.value,S.value,t.class],style:t.style},[C&&_("div",{key:"prepend",class:"v-input__prepend"},[(k=i.prepend)==null?void 0:k.call(i,E.value),t.prependIcon&&_(a,{key:"prepend-icon",name:"prepend"},null)]),i.default&&_("div",{class:"v-input__control"},[(O=i.default)==null?void 0:O.call(i,E.value)]),P&&_("div",{key:"append",class:"v-input__append"},[t.appendIcon&&_(a,{key:"append-icon",name:"append"},null),(V=i.append)==null?void 0:V.call(i,E.value)]),D&&_("div",{class:"v-input__details"},[_(NW,{id:u.value,active:R,messages:T.value},{message:i.message}),(B=i.details)==null?void 0:B.call(i,E.value)])])}),{reset:y,resetValidation:w,validate:b,isValid:p,errorMessages:h}}}),FW=["color","file","time","date","datetime-local","week","month"],GR=j({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...qR(),...HR()},"VTextField"),Is=he()({name:"VTextField",directives:{Intersect:bR},inheritAttrs:!1,props:GR(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=Ze(t,"modelValue"),{isFocused:o,focus:a,blur:l}=zR(t),c=I(()=>typeof t.counterValue=="function"?t.counterValue(r.value):typeof t.counterValue=="number"?t.counterValue:(r.value??"").toString().length),u=I(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),h=I(()=>["plain","underlined"].includes(t.variant));function d(E,T){var C,P;!t.autofocus||!E||(P=(C=T[0].target)==null?void 0:C.focus)==null||P.call(C)}const f=ae(),g=ae(),m=ae(),p=I(()=>FW.includes(t.type)||t.persistentPlaceholder||o.value||t.active);function v(){var E;m.value!==document.activeElement&&((E=m.value)==null||E.focus()),o.value||a()}function y(E){i("mousedown:control",E),E.target!==m.value&&(v(),E.preventDefault())}function w(E){v(),i("click:control",E)}function b(E){E.stopPropagation(),v(),$t(()=>{r.value=null,jV(t["onClick:clear"],E)})}function S(E){var C;const T=E.target;if(r.value=T.value,(C=t.modelModifiers)!=null&&C.trim&&["text","search","password","tel","url"].includes(t.type)){const P=[T.selectionStart,T.selectionEnd];$t(()=>{T.selectionStart=P[0],T.selectionEnd=P[1]})}}return be(()=>{const E=!!(s.counter||t.counter!==!1&&t.counter!=null),T=!!(E||s.details),[C,P]=Vx(n),{modelValue:R,...D}=aT.filterProps(t),k=DW(t);return _(aT,Se({ref:f,modelValue:r.value,"onUpdate:modelValue":O=>r.value=O,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":h.value},t.class],style:t.style},C,D,{centerAffix:!h.value,focused:o.value}),{...s,default:O=>{let{id:V,isDisabled:B,isDirty:X,isReadonly:K,isValid:L}=O;return _(WR,Se({ref:g,onMousedown:y,onClick:w,"onClick:clear":b,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},k,{id:V.value,active:p.value||X.value,dirty:X.value||t.dirty,disabled:B.value,focused:o.value,error:L.value===!1}),{...s,default:z=>{let{props:{class:$,...W}}=z;const Y=xn(_("input",Se({ref:m,value:r.value,onInput:S,autofocus:t.autofocus,readonly:K.value,disabled:B.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:v,onBlur:l},W,P),null),[[$s("intersect"),{handler:d},null,{once:!0}]]);return _(Oe,null,[t.prefix&&_("span",{class:"v-text-field__prefix"},[_("span",{class:"v-text-field__prefix__text"},[t.prefix])]),s.default?_("div",{class:$,"data-no-activator":""},[s.default(),Y]):Ns(Y,{class:$}),t.suffix&&_("span",{class:"v-text-field__suffix"},[_("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:T?O=>{var V;return _(Oe,null,[(V=s.details)==null?void 0:V.call(s,O),E&&_(Oe,null,[_("span",null,null),_(PW,{active:t.persistentCounter||o.value,value:c.value,max:u.value},s.counter)])])}:void 0})}),Nu({},f,g,m)}});function BW(t,e,n,i,s,r){return Vt(),In(ml,{"fill-height":"",fluid:""},{default:oe(()=>[_(Ji,{align:"center",justify:"center"},{default:oe(()=>[_(Kn,null,{default:oe(()=>[t.errorExist?(Vt(),In(iW,{key:0,title:"Error iniciando sesion",text:t.errorText,type:"error",variant:"tonal"},null,8,["text"])):wo("",!0)]),_:1})]),_:1}),_(Ji,{align:"center",justify:"center"},{default:oe(()=>[_(Kn,null,{default:oe(()=>[_(xr,{class:"mx-auto","max-width":"400",title:"Inicio de sesion"},{default:oe(()=>[_(mW,{"validate-on":"submit lazy",onSubmit:xc(t.submit,["prevent"])},{default:oe(()=>[_(Xy,null,{default:oe(()=>[_(Is,{onInput:e[0]||(e[0]=()=>{t.showPasswordField=t.userName=="profesor"}),modelValue:t.userName,"onUpdate:modelValue":e[1]||(e[1]=o=>t.userName=o),label:"Nomber",hint:"nombre_primerApellido_segundoApellido"},null,8,["modelValue"]),t.showPasswordField?(Vt(),In(Is,{key:0,modelValue:t.password,"onUpdate:modelValue":e[2]||(e[2]=o=>t.password=o),type:"password",label:"Contraseña"},null,8,["modelValue"])):wo("",!0)]),_:1}),_(vR,null,{default:oe(()=>[_(Ht,{loading:t.loading,class:"mt-2",text:"¡Vamos alla!",type:"submit",block:""},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})}const $W=Go(O4,[["render",BW]]),UW={name:"CalendarDay"};function jW(t,e,n,i,s,r){return Vt(),In(ml,{fluid:""},{default:oe(()=>[_(Ji,null,{default:oe(()=>[_(Kn,{cols:"12",md:"6"},{default:oe(()=>[_(Is,{label:"Desayuno"})]),_:1}),_(Kn,{cols:"12",md:"6"},{default:oe(()=>[_(Is,{label:"Almuerzo"})]),_:1})]),_:1}),_(Ji,null,{default:oe(()=>[_(Kn,{cols:"12",md:"6"},{default:oe(()=>[_(Is,{label:"Merienda"})]),_:1}),_(Kn,{cols:"12",md:"6"},{default:oe(()=>[_(Is,{label:"Cena"})]),_:1})]),_:1})]),_:1})}const KR=Go(UW,[["render",jW]]),zW=cs({name:"Calendario",data:()=>({nombre:"laurita",edad:void 0,tab:null}),mounted(){},components:{CalendarDay:KR},methods:{useRoute:Ed,async fillUser(){let t=(await yg(_r(R4,Ed().query.id))).data();console.log(t),this.edad=t.edad,this.nombre=t.nombre}}}),YR=j({text:String,...xe(),...at()},"VToolbarTitle"),XR=he()({name:"VToolbarTitle",props:YR(),setup(t,e){let{slots:n}=e;return be(()=>{const i=!!(n.default||n.text||t.text);return _(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&_("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),HW=[null,"prominent","default","comfortable","compact"],QR=j({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>HW.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Hs(),...xe(),...ds(),...Un(),...at({tag:"header"}),...Et()},"VToolbar"),lT=he()({name:"VToolbar",props:QR(),setup(t,e){var f;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=mi(ne(t,"color")),{borderClasses:r}=Vr(t),{elevationClasses:o}=Ws(t),{roundedClasses:a}=ei(t),{themeClasses:l}=Mt(t),{rtlClasses:c}=yi(),u=fe(!!(t.extended||(f=n.extension)!=null&&f.call(n))),h=I(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),d=I(()=>u.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return gi({VBtn:{variant:"text"}}),be(()=>{var v;const g=!!(t.title||n.title),m=!!(n.image||t.image),p=(v=n.extension)==null?void 0:v.call(n);return u.value=!!(t.extended||p),_(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,o.value,a.value,l.value,c.value,t.class],style:[s.value,t.style]},{default:()=>[m&&_("div",{key:"image",class:"v-toolbar__image"},[n.image?_(Ct,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):_(Mu,{key:"image-img",cover:!0,src:t.image},null)]),_(Ct,{defaults:{VTabs:{height:_e(h.value)}}},{default:()=>{var y,w,b;return[_("div",{class:"v-toolbar__content",style:{height:_e(h.value)}},[n.prepend&&_("div",{class:"v-toolbar__prepend"},[(y=n.prepend)==null?void 0:y.call(n)]),g&&_(XR,{key:"title",text:t.title},{text:n.title}),(w=n.default)==null?void 0:w.call(n),n.append&&_("div",{class:"v-toolbar__append"},[(b=n.append)==null?void 0:b.call(n)])])]}}),_(Ct,{defaults:{VTabs:{height:_e(d.value)}}},{default:()=>[_(FR,null,{default:()=>[u.value&&_("div",{class:"v-toolbar__extension",style:{height:_e(d.value)}},[p])]})]})]})}),{contentHeight:h,extensionHeight:d}}}),WW=j({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function qW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0;const s=ae(null),r=fe(0),o=fe(0),a=fe(0),l=fe(!1),c=fe(!1),u=I(()=>Number(t.scrollThreshold)),h=I(()=>Ai((u.value-r.value)/u.value||0)),d=()=>{const f=s.value;!f||n&&!n.value||(i=r.value,r.value="window"in f?f.pageYOffset:f.scrollTop,c.value=r.value<i,a.value=Math.abs(r.value-u.value))};return ve(c,()=>{o.value=o.value||r.value}),ve(l,()=>{o.value=0}),_i(()=>{ve(()=>t.scrollTarget,f=>{var m;const g=f?document.querySelector(f):window;g&&g!==s.value&&((m=s.value)==null||m.removeEventListener("scroll",d),s.value=g,s.value.addEventListener("scroll",d,{passive:!0}))},{immediate:!0})}),Sn(()=>{var f;(f=s.value)==null||f.removeEventListener("scroll",d)}),n&&ve(n,d,{immediate:!0}),{scrollThreshold:u,currentScroll:r,currentThreshold:a,isScrollActive:l,scrollRatio:h,isScrollingUp:c,savedScroll:o}}function Lu(){const t=fe(!1);return _i(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:I(()=>t.value?void 0:{transition:"none !important"}),isBooted:uu(t)}}const GW=j({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...QR(),...lA(),...WW(),height:{type:[Number,String],default:64}},"VAppBar"),JR=he()({name:"VAppBar",props:GW(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ae(),s=Ze(t,"modelValue"),r=I(()=>{var y;const v=new Set(((y=t.scrollBehavior)==null?void 0:y.split(" "))??[]);return{hide:v.has("hide"),inverted:v.has("inverted"),collapse:v.has("collapse"),elevate:v.has("elevate"),fadeImage:v.has("fade-image")}}),o=I(()=>{const v=r.value;return v.hide||v.inverted||v.collapse||v.elevate||v.fadeImage||!s.value}),{currentScroll:a,scrollThreshold:l,isScrollingUp:c,scrollRatio:u}=qW(t,{canScroll:o}),h=I(()=>t.collapse||r.value.collapse&&(r.value.inverted?u.value>0:u.value===0)),d=I(()=>t.flat||r.value.elevate&&(r.value.inverted?a.value>0:a.value===0)),f=I(()=>r.value.fadeImage?r.value.inverted?1-u.value:u.value:void 0),g=I(()=>{var w,b;if(r.value.hide&&r.value.inverted)return 0;const v=((w=i.value)==null?void 0:w.contentHeight)??0,y=((b=i.value)==null?void 0:b.extensionHeight)??0;return v+y});xi(I(()=>!!t.scrollBehavior),()=>{Vn(()=>{r.value.hide?r.value.inverted?s.value=a.value>l.value:s.value=c.value||a.value<l.value:s.value=!0})});const{ssrBootStyles:m}=Lu(),{layoutItemStyles:p}=cA({id:t.name,order:I(()=>parseInt(t.order,10)),position:ne(t,"location"),layoutSize:g,elementSize:fe(void 0),active:s,absolute:ne(t,"absolute")});return be(()=>{const v=lT.filterProps(t);return _(lT,Se({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...p.value,"--v-toolbar-image-opacity":f.value,height:void 0,...m.value},t.style]},v,{collapse:h.value,flat:d.value}),n)}),{}}}),ZR=he()({name:"VAppBarTitle",props:YR(),setup(t,e){let{slots:n}=e;return be(()=>_(XR,Se(t,{class:"v-app-bar-title"}),n)),{}}}),e1=Symbol.for("vuetify:v-tabs"),KW=j({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...zo(pR({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),fa=he()({name:"VTab",props:KW(),setup(t,e){let{slots:n,attrs:i}=e;const{textColorClasses:s,textColorStyles:r}=Di(t,"sliderColor"),o=ae(),a=ae(),l=I(()=>t.direction==="horizontal"),c=I(()=>{var h,d;return((d=(h=o.value)==null?void 0:h.group)==null?void 0:d.isSelected.value)??!1});function u(h){var f,g;let{value:d}=h;if(d){const m=(g=(f=o.value)==null?void 0:f.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),p=a.value;if(!m||!p)return;const v=getComputedStyle(m).color,y=m.getBoundingClientRect(),w=p.getBoundingClientRect(),b=l.value?"x":"y",S=l.value?"X":"Y",E=l.value?"right":"bottom",T=l.value?"width":"height",C=y[b],P=w[b],R=C>P?y[E]-w[E]:y[b]-w[b],D=Math.sign(R)>0?l.value?"right":"bottom":Math.sign(R)<0?l.value?"left":"top":"center",O=(Math.abs(R)+(Math.sign(R)<0?y[T]:w[T]))/Math.max(y[T],w[T])||0,V=y[T]/w[T]||0,B=1.5;ro(p,{backgroundColor:[v,"currentcolor"],transform:[`translate${S}(${R}px) scale${S}(${V})`,`translate${S}(${R/B}px) scale${S}(${(O-1)/B+1})`,"none"],transformOrigin:Array(3).fill(D)},{duration:225,easing:Pc})}}return be(()=>{const h=Ht.filterProps(t);return _(Ht,Se({symbol:e1,ref:o,class:["v-tab",t.class],style:t.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},h,i,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":u}),{...n,default:()=>{var d;return _(Oe,null,[((d=n.default)==null?void 0:d.call(n))??t.text,!t.hideSlider&&_("div",{ref:a,class:["v-tab__slider",s.value],style:r.value},null)])}})}),Nu({},o)}});function cT(t){const n=Math.abs(t);return Math.sign(t)*(n/((1/.501-2)*(1-n)+1))}function uT(t){let{selectedElement:e,containerSize:n,contentSize:i,isRtl:s,currentScrollOffset:r,isHorizontal:o}=t;const a=o?e.clientWidth:e.clientHeight,l=o?e.offsetLeft:e.offsetTop,c=s&&o?i-l-a:l,u=n+r,h=a+c,d=a*.4;return c<=r?r=Math.max(c-d,0):u<=h&&(r=Math.min(r-(u-h-d),i-n)),r}function YW(t){let{selectedElement:e,containerSize:n,contentSize:i,isRtl:s,isHorizontal:r}=t;const o=r?e.clientWidth:e.clientHeight,a=r?e.offsetLeft:e.offsetTop,l=s&&r?i-a-o/2-n/2:a+o/2-n/2;return Math.min(i-n,Math.max(0,l))}const XW=Symbol.for("vuetify:v-slide-group"),Zy=j({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:XW},nextIcon:{type:ze,default:"$next"},prevIcon:{type:ze,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...xe(),...sA(),...at(),...Hy({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Wd=he()({name:"VSlideGroup",props:Zy(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:i}=yi(),{displayClasses:s,mobile:r}=gu(t),o=bg(t,t.symbol),a=fe(!1),l=fe(0),c=fe(0),u=fe(0),h=I(()=>t.direction==="horizontal"),{resizeRef:d,contentRect:f}=To(),{resizeRef:g,contentRect:m}=To(),p=I(()=>o.selected.value.length?o.items.value.findIndex(W=>W.id===o.selected.value[0]):-1),v=I(()=>o.selected.value.length?o.items.value.findIndex(W=>W.id===o.selected.value[o.selected.value.length-1]):-1);if(yt){let W=-1;ve(()=>[o.selected.value,f.value,m.value,h.value],()=>{cancelAnimationFrame(W),W=requestAnimationFrame(()=>{if(f.value&&m.value){const Y=h.value?"width":"height";c.value=f.value[Y],u.value=m.value[Y],a.value=c.value+1<u.value}if(p.value>=0&&g.value){const Y=g.value.children[v.value];p.value===0||!a.value?l.value=0:t.centerActive?l.value=YW({selectedElement:Y,containerSize:c.value,contentSize:u.value,isRtl:i.value,isHorizontal:h.value}):a.value&&(l.value=uT({selectedElement:Y,containerSize:c.value,contentSize:u.value,isRtl:i.value,currentScrollOffset:l.value,isHorizontal:h.value}))}})})}const y=fe(!1);let w=0,b=0;function S(W){const Y=h.value?"clientX":"clientY";b=(i.value&&h.value?-1:1)*l.value,w=W.touches[0][Y],y.value=!0}function E(W){if(!a.value)return;const Y=h.value?"clientX":"clientY",ce=i.value&&h.value?-1:1;l.value=ce*(b+w-W.touches[0][Y])}function T(W){const Y=u.value-c.value;l.value<0||!a.value?l.value=0:l.value>=Y&&(l.value=Y),y.value=!1}function C(){d.value&&(d.value[h.value?"scrollLeft":"scrollTop"]=0)}const P=fe(!1);function R(W){if(P.value=!0,!(!a.value||!g.value)){for(const Y of W.composedPath())for(const ce of g.value.children)if(ce===Y){l.value=uT({selectedElement:ce,containerSize:c.value,contentSize:u.value,isRtl:i.value,currentScrollOffset:l.value,isHorizontal:h.value});return}}}function D(W){P.value=!1}function k(W){var Y;!P.value&&!(W.relatedTarget&&((Y=g.value)!=null&&Y.contains(W.relatedTarget)))&&V()}function O(W){g.value&&(h.value?W.key==="ArrowRight"?V(i.value?"prev":"next"):W.key==="ArrowLeft"&&V(i.value?"next":"prev"):W.key==="ArrowDown"?V("next"):W.key==="ArrowUp"&&V("prev"),W.key==="Home"?V("first"):W.key==="End"&&V("last"))}function V(W){var Y,ce,ge,pe,me;if(g.value)if(!W)(Y=pd(g.value)[0])==null||Y.focus();else if(W==="next"){const N=(ce=g.value.querySelector(":focus"))==null?void 0:ce.nextElementSibling;N?N.focus():V("first")}else if(W==="prev"){const N=(ge=g.value.querySelector(":focus"))==null?void 0:ge.previousElementSibling;N?N.focus():V("last")}else W==="first"?(pe=g.value.firstElementChild)==null||pe.focus():W==="last"&&((me=g.value.lastElementChild)==null||me.focus())}function B(W){const Y=l.value+(W==="prev"?-1:1)*c.value;l.value=Ai(Y,0,u.value-c.value)}const X=I(()=>{let W=l.value>u.value-c.value?-(u.value-c.value)+cT(u.value-c.value-l.value):-l.value;l.value<=0&&(W=cT(-l.value));const Y=i.value&&h.value?-1:1;return{transform:`translate${h.value?"X":"Y"}(${Y*W}px)`,transition:y.value?"none":"",willChange:y.value?"transform":""}}),K=I(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),L=I(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return a.value||Math.abs(l.value)>0;case"mobile":return r.value||a.value||Math.abs(l.value)>0;default:return!r.value&&(a.value||Math.abs(l.value)>0)}}),z=I(()=>Math.abs(l.value)>0),$=I(()=>u.value>Math.abs(l.value)+c.value);return be(()=>_(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!h.value,"v-slide-group--has-affixes":L.value,"v-slide-group--is-overflowing":a.value},s.value,t.class],style:t.style,tabindex:P.value||o.selected.value.length?-1:0,onFocus:k},{default:()=>{var W,Y,ce;return[L.value&&_("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!z.value}],onClick:()=>z.value&&B("prev")},[((W=n.prev)==null?void 0:W.call(n,K.value))??_(oT,null,{default:()=>[_(Ft,{icon:i.value?t.nextIcon:t.prevIcon},null)]})]),_("div",{key:"container",ref:d,class:"v-slide-group__container",onScroll:C},[_("div",{ref:g,class:"v-slide-group__content",style:X.value,onTouchstartPassive:S,onTouchmovePassive:E,onTouchendPassive:T,onFocusin:R,onFocusout:D,onKeydown:O},[(Y=n.default)==null?void 0:Y.call(n,K.value)])]),L.value&&_("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!$.value}],onClick:()=>$.value&&B("next")},[((ce=n.next)==null?void 0:ce.call(n,K.value))??_(oT,null,{default:()=>[_(Ft,{icon:i.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:B,scrollOffset:l,focus:V}}});function QW(t){return t?t.map(e=>fd(e)?e:{text:e,value:e}):[]}const JW=j({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Zy({mandatory:"force"}),...$n(),...at()},"VTabs"),ZW=he()({name:"VTabs",props:JW(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ze(t,"modelValue"),s=I(()=>QW(t.items)),{densityClasses:r}=bi(t),{backgroundColorClasses:o,backgroundColorStyles:a}=mi(ne(t,"bgColor"));return gi({VTab:{color:ne(t,"color"),direction:ne(t,"direction"),stacked:ne(t,"stacked"),fixed:ne(t,"fixedTabs"),sliderColor:ne(t,"sliderColor"),hideSlider:ne(t,"hideSlider")}}),be(()=>{const l=Wd.filterProps(t);return _(Wd,Se(l,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},r.value,o.value,t.class],style:[{"--v-tabs-height":_e(t.height)},a.value,t.style],role:"tablist",symbol:e1}),{default:()=>[n.default?n.default():s.value.map(c=>_(fa,Se(c,{key:c.text}),null))]})}),{}}}),e5=t=>{const{touchstartX:e,touchendX:n,touchstartY:i,touchendY:s}=t,r=.5,o=16;t.offsetX=n-e,t.offsetY=s-i,Math.abs(t.offsetY)<r*Math.abs(t.offsetX)&&(t.left&&n<e-o&&t.left(t),t.right&&n>e+o&&t.right(t)),Math.abs(t.offsetX)<r*Math.abs(t.offsetY)&&(t.up&&s<i-o&&t.up(t),t.down&&s>i+o&&t.down(t))};function t5(t,e){var i;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(i=e.start)==null||i.call(e,{originalEvent:t,...e})}function n5(t,e){var i;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(i=e.end)==null||i.call(e,{originalEvent:t,...e}),e5(e)}function i5(t,e){var i;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(i=e.move)==null||i.call(e,{originalEvent:t,...e})}function s5(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>t5(n,e),touchend:n=>n5(n,e),touchmove:n=>i5(n,e)}}function r5(t,e){var a;const n=e.value,i=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},r=(a=e.instance)==null?void 0:a.$.uid;if(!i||!r)return;const o=s5(e.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[r]=o,Mx(o).forEach(l=>{i.addEventListener(l,o[l],s)})}function o5(t,e){var r,o;const n=(r=e.value)!=null&&r.parent?t.parentElement:t,i=(o=e.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const s=n._touchHandlers[i];Mx(s).forEach(a=>{n.removeEventListener(a,s[a])}),delete n._touchHandlers[i]}const t1={mounted:r5,unmounted:o5},n1=Symbol.for("vuetify:v-window"),i1=Symbol.for("vuetify:v-window-group"),a5=j({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...xe(),...at(),...Et()},"VWindow"),l5=he()({name:"VWindow",directives:{Touch:t1},props:a5(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Mt(t),{isRtl:s}=yi(),{t:r}=js(),o=bg(t,i1),a=ae(),l=I(()=>s.value?!t.reverse:t.reverse),c=fe(!1),u=I(()=>{const b=t.direction==="vertical"?"y":"x",E=(l.value?!c.value:c.value)?"-reverse":"";return`v-window-${b}${E}-transition`}),h=fe(0),d=ae(void 0),f=I(()=>o.items.value.findIndex(b=>o.selected.value.includes(b.id)));ve(f,(b,S)=>{const E=o.items.value.length,T=E-1;E<=2?c.value=b<S:b===T&&S===0?c.value=!0:b===0&&S===T?c.value=!1:c.value=b<S}),ht(n1,{transition:u,isReversed:c,transitionCount:h,transitionHeight:d,rootRef:a});const g=I(()=>t.continuous||f.value!==0),m=I(()=>t.continuous||f.value!==o.items.value.length-1);function p(){g.value&&o.prev()}function v(){m.value&&o.next()}const y=I(()=>{const b=[],S={icon:s.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,"aria-label":r("$vuetify.carousel.prev")};b.push(g.value?n.prev?n.prev({props:S}):_(Ht,S,null):_("div",null,null));const E={icon:s.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,"aria-label":r("$vuetify.carousel.next")};return b.push(m.value?n.next?n.next({props:E}):_(Ht,E,null):_("div",null,null)),b}),w=I(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?p():v()},right:()=>{l.value?v():p()},start:S=>{let{originalEvent:E}=S;E.stopPropagation()}},...t.touch===!0?{}:t.touch});return be(()=>xn(_(t.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},i.value,t.class],style:t.style},{default:()=>{var b,S;return[_("div",{class:"v-window__container",style:{height:d.value}},[(b=n.default)==null?void 0:b.call(n,{group:o}),t.showArrows!==!1&&_("div",{class:"v-window__controls"},[y.value])]),(S=n.additional)==null?void 0:S.call(n,{group:o})]}}),[[$s("touch"),w.value]])),{group:o}}}),s1=j({eager:Boolean},"lazy");function r1(t,e){const n=fe(!1),i=I(()=>n.value||t.eager||e.value);ve(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}const c5=j({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...xe(),...Wy(),...s1()},"VWindowItem"),u5=he()({name:"VWindowItem",directives:{Touch:t1},props:c5(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=Ve(n1),s=qy(t,i1),{isBooted:r}=Lu();if(!i||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=fe(!1),a=I(()=>r.value&&(i.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!o.value||!i||(o.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function c(){var g;o.value||!i||(o.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=_e((g=i.rootRef.value)==null?void 0:g.clientHeight)),i.transitionCount.value+=1)}function u(){l()}function h(g){o.value&&$t(()=>{!a.value||!o.value||!i||(i.transitionHeight.value=_e(g.clientHeight))})}const d=I(()=>{const g=i.isReversed.value?t.reverseTransition:t.transition;return a.value?{name:typeof g!="string"?i.transition.value:g,onBeforeEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:c,onAfterLeave:l,onLeaveCancelled:u,onEnter:h}:!1}),{hasContent:f}=r1(t,s.isSelected);return be(()=>_(Es,{transition:d.value,disabled:!r.value},{default:()=>{var g;return[xn(_("div",{class:["v-window-item",s.selectedClass.value,t.class],style:t.style},[f.value&&((g=n.default)==null?void 0:g.call(n))]),[[jo,s.isSelected.value]])]}})),{groupItem:s}}});function h5(t,e,n,i,s,r){const o=KR;return Vt(),Cc(Oe,null,[_(JR,{elevation:2},{default:oe(()=>[_(ZR,null,{default:oe(()=>[It("Calendario semanal")]),_:1})]),_:1}),_(ml,null,{default:oe(()=>[_(xr,null,{default:oe(()=>[_(ZW,{modelValue:t.tab,"onUpdate:modelValue":e[0]||(e[0]=a=>t.tab=a),"align-tabs":"center",color:"primary"},{default:oe(()=>[_(fa,{value:1},{default:oe(()=>[It("Miercoles | 18")]),_:1}),_(fa,{value:2},{default:oe(()=>[It("Jueves | 19")]),_:1}),_(fa,{value:3},{default:oe(()=>[It("Viernes | 20")]),_:1}),_(fa,{value:4},{default:oe(()=>[It("Sabado | 21")]),_:1}),_(fa,{value:5},{default:oe(()=>[It("Domingo | 22")]),_:1})]),_:1},8,["modelValue"]),_(l5,{modelValue:t.tab,"onUpdate:modelValue":e[1]||(e[1]=a=>t.tab=a)},{default:oe(()=>[(Vt(),Cc(Oe,null,x_(5,a=>_(u5,{key:a,value:a},{default:oe(()=>[_(o)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}const d5=Go(zW,[["render",h5]]),f5=[{pregunta:"1 ✨ ¿Cuantas horas duermes al dia de lunes a viernes?",respuestas:[{titulo:"Entre 0-5 horas",puntos:0},{titulo:"Entre 6-7 horas",puntos:1},{titulo:"Más de 8 horas",puntos:2}]},{pregunta:"2 ✨ ¿Comes fruta en tu día a día?",respuestas:[{titulo:"Sí",puntos:2},{titulo:"A veces",puntos:1},{titulo:"No",puntos:0}]},{pregunta:"3 ✨ ¿Comes verduras en tu día a día?",respuestas:[{titulo:"Sí",puntos:2},{titulo:"A veces",puntos:1},{titulo:"No",puntos:0}]},{pregunta:"4 ✨ ¿Te gusta hacer deporte o actividades físicas?",respuestas:[{titulo:"Sí",puntos:2},{titulo:"A veces",puntos:1},{titulo:"No",puntos:0}]},{pregunta:"5 ✨ ¿Cuántas veces al día te lavas los dientes?",respuestas:[{titulo:"Solo después de comer",puntos:1},{titulo:"Nunca",puntos:0},{titulo:"Después de todas las comidas",puntos:2}]},{pregunta:"6 ✨ ¿Te lavas las manos antes de comer?",respuestas:[{titulo:"Sí",puntos:2},{titulo:"A veces",puntos:1},{titulo:"No",puntos:0}]},{pregunta:"7 ✨ ¿Consumes muchos dulces, bollerías o comidas procesadas?",respuestas:[{titulo:"Sí",puntos:0},{titulo:"A veces",puntos:1},{titulo:"No",puntos:2}]},{pregunta:"8 ✨ ¿Qué sueles consumir entre semana?",respuestas:[{titulo:"Comida rápida",puntos:0},{titulo:"Comida casera",puntos:2},{titulo:"Ambas",puntos:1}]},{pregunta:"9 ✨ ¿Te gusta relacionarte con personas diferentes a las de tu entorno?",respuestas:[{titulo:"Sí",puntos:2},{titulo:"A veces",puntos:1},{titulo:"No",puntos:0}]},{pregunta:"10 ✨ ¿Aceptas a tus amigos y familiares como son?",respuestas:[{titulo:"Sí",puntos:2},{titulo:"A veces",puntos:1},{titulo:"No",puntos:0}]}],g5=[{pregunta:"1 ✨ ¿Consumir al menos 5 porciones de frutas y verduras al día?",respuestas:[{titulo:"Saludable",correcta:!0},{titulo:"No saludable",correcta:!1}]},{pregunta:"2 ✨ ¿Realizar ejercicio físico moderado durante al menos 30 minutos al día?",respuestas:[{titulo:"Saludable",correcta:!0},{titulo:"No saludable",correcta:!1}]},{pregunta:"3 ✨ ¿Comer comida rápida más de una vez a la semana?",respuestas:[{titulo:"Saludable",correcta:!1},{titulo:"No saludable",correcta:!0}]},{pregunta:"4 ✨ ¿Beber al menos 8 vasos de agua al día?",respuestas:[{titulo:"Saludable",correcta:!0},{titulo:"No saludable",correcta:!1}]},{pregunta:"5 ✨ ¿Dormir menos de 6 horas por noche regularmente?",respuestas:[{titulo:"Saludable",correcta:!1},{titulo:"No saludable",correcta:!0}]},{pregunta:"6 ✨ ¿Consumir bebidas azucaradas diariamente?",respuestas:[{titulo:"Saludable",correcta:!1},{titulo:"No saludable",correcta:!0}]},{pregunta:"7 ✨ ¿Cepillarse los dientes después de cada comida?",respuestas:[{titulo:"Saludable",correcta:!0},{titulo:"No saludable",correcta:!1}]},{pregunta:"8 ✨ ¿Mantener una postura erguida al sentarse?",respuestas:[{titulo:"Saludable",correcta:!0},{titulo:"No saludable",correcta:!1}]},{pregunta:"9 ✨ ¿Comer porciones adecuadas de alimentos en cada comida?",respuestas:[{titulo:"Saludable",correcta:!0},{titulo:"No saludable",correcta:!1}]},{pregunta:"10 ✨ ¿Desayunar todas las mañanas antes de ir a la escuela?",respuestas:[{titulo:"Saludable",correcta:!0},{titulo:"No saludable",correcta:!1}]}];/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function vs(){}const m5=function(){let t=0;return function(){return t++}}();function Xe(t){return t===null||typeof t>"u"}function ut(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function je(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const Ot=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function si(t,e){return Ot(t)?t:e}function Le(t,e){return typeof t>"u"?e:t}const p5=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,o1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ct(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function nt(t,e,n,i){let s,r,o;if(ut(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(je(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function qd(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Gd(t){if(ut(t))return t.map(Gd);if(je(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Gd(t[n[s]]);return e}return t}function a1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function v5(t,e,n,i){if(!a1(t))return;const s=e[t],r=n[t];je(s)&&je(r)?Qc(s,r,i):e[t]=Gd(r)}function Qc(t,e,n){const i=ut(e)?e:[e],s=i.length;if(!je(t))return t;n=n||{};const r=n.merger||v5;for(let o=0;o<s;++o){if(e=i[o],!je(e))continue;const a=Object.keys(e);for(let l=0,c=a.length;l<c;++l)r(a[l],t,e,n)}return t}function uc(t,e){return Qc(t,e,{merger:_5})}function _5(t,e,n){if(!a1(t))return;const i=e[t],s=n[t];je(i)&&je(s)?uc(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Gd(s))}const hT={"":t=>t,x:t=>t.x,y:t=>t.y};function Ar(t,e){return(hT[e]||(hT[e]=y5(e)))(t)}function y5(t){const e=b5(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function b5(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function eb(t){return t.charAt(0).toUpperCase()+t.slice(1)}const pi=t=>typeof t<"u",Pr=t=>typeof t=="function",dT=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function w5(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Tt=Math.PI,ot=2*Tt,S5=ot+Tt,Kd=Number.POSITIVE_INFINITY,T5=Tt/180,xt=Tt/2,Al=Tt/4,fT=Tt*2/3,oi=Math.log10,Zi=Math.sign;function gT(t){const e=Math.round(t);t=hc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(oi(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function E5(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Wa(t){return!isNaN(parseFloat(t))&&isFinite(t)}function hc(t,e,n){return Math.abs(t-e)<n}function I5(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function l1(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Ei(t){return t*(Tt/180)}function tb(t){return t*(180/Tt)}function mT(t){if(!Ot(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function c1(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Tt&&(r+=ot),{angle:r,distance:s}}function _v(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function C5(t,e){return(t-e+S5)%ot-Tt}function Hn(t){return(t%ot+ot)%ot}function Jc(t,e,n,i){const s=Hn(t),r=Hn(e),o=Hn(n),a=Hn(r-s),l=Hn(o-s),c=Hn(s-r),u=Hn(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function Jt(t,e,n){return Math.max(e,Math.min(n,t))}function x5(t){return Jt(t,-32768,32767)}function Cs(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function nb(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const xs=(t,e,n,i)=>nb(t,n,i?s=>t[s][e]<=n:s=>t[s][e]<n),A5=(t,e,n)=>nb(t,n,i=>t[i][e]>=n);function P5(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const u1=["push","pop","shift","splice","unshift"];function k5(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),u1.forEach(n=>{const i="_onData"+eb(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function pT(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(u1.forEach(r=>{delete t[r]}),delete t._chartjs)}function h1(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}const d1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function f1(t,e,n){const i=n||(o=>Array.prototype.slice.call(o));let s=!1,r=[];return function(...o){r=i(o),s||(s=!0,d1.call(window,()=>{s=!1,t.apply(e,r)}))}}function R5(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const ib=t=>t==="start"?"left":t==="end"?"right":"center",cn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,O5=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function g1(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(s=Jt(Math.min(xs(a,o.axis,c).lo,n?i:xs(e,l,o.getPixelForValue(c)).lo),0,i-1)),d?r=Jt(Math.max(xs(a,o.axis,u,!0).hi+1,n?0:xs(e,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function m1(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Sh=t=>t===0||t===1,vT=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ot/n)),_T=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ot/n)+1,dc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*xt)+1,easeOutSine:t=>Math.sin(t*xt),easeInOutSine:t=>-.5*(Math.cos(Tt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Sh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Sh(t)?t:vT(t,.075,.3),easeOutElastic:t=>Sh(t)?t:_T(t,.075,.3),easeInOutElastic(t){return Sh(t)?t:t<.5?.5*vT(t*2,.1125,.45):.5+.5*_T(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-dc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?dc.easeInBounce(t*2)*.5:dc.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Vu(t){return t+.5|0}const cr=(t,e,n)=>Math.max(Math.min(t,n),e);function ql(t){return cr(Vu(t*2.55),0,255)}function br(t){return cr(Vu(t*255),0,255)}function Ss(t){return cr(Vu(t/2.55)/100,0,1)}function yT(t){return cr(Vu(t*100),0,100)}const ii={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yv=[..."0123456789ABCDEF"],D5=t=>yv[t&15],M5=t=>yv[(t&240)>>4]+yv[t&15],Th=t=>(t&240)>>4===(t&15),N5=t=>Th(t.r)&&Th(t.g)&&Th(t.b)&&Th(t.a);function L5(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ii[t[1]]*17,g:255&ii[t[2]]*17,b:255&ii[t[3]]*17,a:e===5?ii[t[4]]*17:255}:(e===7||e===9)&&(n={r:ii[t[1]]<<4|ii[t[2]],g:ii[t[3]]<<4|ii[t[4]],b:ii[t[5]]<<4|ii[t[6]],a:e===9?ii[t[7]]<<4|ii[t[8]]:255})),n}const V5=(t,e)=>t<255?e(t):"";function F5(t){var e=N5(t)?D5:M5;return t?"#"+e(t.r)+e(t.g)+e(t.b)+V5(t.a,e):void 0}const B5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function p1(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function $5(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function U5(t,e,n){const i=p1(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function j5(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function sb(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=j5(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function rb(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(br)}function ob(t,e,n){return rb(p1,t,e,n)}function z5(t,e,n){return rb(U5,t,e,n)}function H5(t,e,n){return rb($5,t,e,n)}function v1(t){return(t%360+360)%360}function W5(t){const e=B5.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ql(+e[5]):br(+e[5]));const s=v1(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=z5(s,r,o):e[1]==="hsv"?i=H5(s,r,o):i=ob(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function q5(t,e){var n=sb(t);n[0]=v1(n[0]+e),n=ob(n),t.r=n[0],t.g=n[1],t.b=n[2]}function G5(t){if(!t)return;const e=sb(t),n=e[0],i=yT(e[1]),s=yT(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Ss(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const bT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function K5(){const t={},e=Object.keys(wT),n=Object.keys(bT);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,bT[r]);r=parseInt(wT[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Eh;function Y5(t){Eh||(Eh=K5(),Eh.transparent=[0,0,0,0]);const e=Eh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const X5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Q5(t){const e=X5.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?ql(o):cr(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?ql(i):cr(i,0,255)),s=255&(e[4]?ql(s):cr(s,0,255)),r=255&(e[6]?ql(r):cr(r,0,255)),{r:i,g:s,b:r,a:n}}}function J5(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ss(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Um=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ra=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Z5(t,e,n){const i=ra(Ss(t.r)),s=ra(Ss(t.g)),r=ra(Ss(t.b));return{r:br(Um(i+n*(ra(Ss(e.r))-i))),g:br(Um(s+n*(ra(Ss(e.g))-s))),b:br(Um(r+n*(ra(Ss(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Ih(t,e,n){if(t){let i=sb(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=ob(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function _1(t,e){return t&&Object.assign(e||{},t)}function ST(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=br(t[3]))):(e=_1(t,{r:0,g:0,b:0,a:1}),e.a=br(e.a)),e}function e9(t){return t.charAt(0)==="r"?Q5(t):W5(t)}class Yd{constructor(e){if(e instanceof Yd)return e;const n=typeof e;let i;n==="object"?i=ST(e):n==="string"&&(i=L5(e)||Y5(e)||e9(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=_1(this._rgb);return e&&(e.a=Ss(e.a)),e}set rgb(e){this._rgb=ST(e)}rgbString(){return this._valid?J5(this._rgb):void 0}hexString(){return this._valid?F5(this._rgb):void 0}hslString(){return this._valid?G5(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Z5(this._rgb,e._rgb,n)),this}clone(){return new Yd(this.rgb)}alpha(e){return this._rgb.a=br(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Vu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ih(this._rgb,2,e),this}darken(e){return Ih(this._rgb,2,-e),this}saturate(e){return Ih(this._rgb,1,e),this}desaturate(e){return Ih(this._rgb,1,-e),this}rotate(e){return q5(this._rgb,e),this}}function y1(t){return new Yd(t)}function b1(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function TT(t){return b1(t)?t:y1(t)}function jm(t){return b1(t)?t:y1(t).saturate(.5).darken(.1).hexString()}const Ro=Object.create(null),bv=Object.create(null);function fc(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function zm(t,e,n){return typeof e=="string"?Qc(fc(t,e),n):Qc(fc(t,""),e)}class t9{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>jm(i.backgroundColor),this.hoverBorderColor=(n,i)=>jm(i.borderColor),this.hoverColor=(n,i)=>jm(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,n){return zm(this,e,n)}get(e){return fc(this,e)}describe(e,n){return zm(bv,e,n)}override(e,n){return zm(Ro,e,n)}route(e,n,i,s){const r=fc(this,e),o=fc(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return je(l)?Object.assign({},c,l):Le(l,c)},set(l){this[a]=l}}})}}var We=new t9({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function n9(t){return!t||Xe(t.size)||Xe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Xd(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function i9(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&ut(h)!==!0)o=Xd(t,s,r,o,h);else if(ut(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!ut(d)&&(o=Xd(t,s,r,o,d));t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function Kr(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function ET(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function wv(t,e,n,i){w1(t,e,n,i,null)}function w1(t,e,n,i,s){let r,o,a,l,c,u;const h=e.pointStyle,d=e.rotation,f=e.radius;let g=(d||0)*T5;if(h&&typeof h=="object"&&(r=h.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(g),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(f)||f<=0)){switch(t.beginPath(),h){default:s?t.ellipse(n,i,s/2,f,0,0,ot):t.arc(n,i,f,0,ot),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(g)*f,i-Math.cos(g)*f),g+=fT,t.lineTo(n+Math.sin(g)*f,i-Math.cos(g)*f),g+=fT,t.lineTo(n+Math.sin(g)*f,i-Math.cos(g)*f),t.closePath();break;case"rectRounded":c=f*.516,l=f-c,o=Math.cos(g+Al)*l,a=Math.sin(g+Al)*l,t.arc(n-o,i-a,c,g-Tt,g-xt),t.arc(n+a,i-o,c,g-xt,g),t.arc(n+o,i+a,c,g,g+xt),t.arc(n-a,i+o,c,g+xt,g+Tt),t.closePath();break;case"rect":if(!d){l=Math.SQRT1_2*f,u=s?s/2:l,t.rect(n-u,i-l,2*u,2*l);break}g+=Al;case"rectRot":o=Math.cos(g)*f,a=Math.sin(g)*f,t.moveTo(n-o,i-a),t.lineTo(n+a,i-o),t.lineTo(n+o,i+a),t.lineTo(n-a,i+o),t.closePath();break;case"crossRot":g+=Al;case"cross":o=Math.cos(g)*f,a=Math.sin(g)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o);break;case"star":o=Math.cos(g)*f,a=Math.sin(g)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o),g+=Al,o=Math.cos(g)*f,a=Math.sin(g)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a),t.moveTo(n+a,i-o),t.lineTo(n-a,i+o);break;case"line":o=s?s/2:Math.cos(g)*f,a=Math.sin(g)*f,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(g)*f,i+Math.sin(g)*f);break}t.fill(),e.borderWidth>0&&t.stroke()}}function Zc(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function xg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ag(t){t.restore()}function s9(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function r9(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Oo(t,e,n,i,s,r={}){const o=ut(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,o9(t,r),l=0;l<o.length;++l)c=o[l],a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Xe(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),a9(t,n,i,c,r),i+=s.lineHeight;t.restore()}function o9(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Xe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function a9(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function eu(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-xt,Tt,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Tt,xt,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,xt,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-xt,!0),t.lineTo(n+o.topLeft,i)}const l9=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),c9=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function u9(t,e){const n=(""+t).match(l9);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const h9=t=>+t||0;function ab(t,e){const n={},i=je(e),s=i?Object.keys(e):e,r=je(t)?i?o=>Le(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=h9(r(o));return n}function S1(t){return ab(t,{top:"y",right:"x",bottom:"y",left:"x"})}function vo(t){return ab(t,["topLeft","topRight","bottomLeft","bottomRight"])}function wn(t){const e=S1(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wt(t,e){t=t||{},e=e||We.font;let n=Le(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Le(t.style,e.style);i&&!(""+i).match(c9)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:Le(t.family,e.family),lineHeight:u9(Le(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Le(t.weight,e.weight),string:""};return s.string=n9(s),s}function Gl(t,e,n,i){let s=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),s=!1),n!==void 0&&ut(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function d9(t,e,n){const{min:i,max:s}=t,r=o1(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function $r(t,e){return Object.assign(Object.create(t),e)}function lb(t,e=[""],n=t,i,s=()=>t[0]){pi(i)||(i=C1("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:s,override:o=>lb([o,...t],e,n,i)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return E1(o,a,()=>b9(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return CT(o).includes(a)},ownKeys(o){return CT(o)},set(o,a,l){const c=o._storage||(o._storage=s());return o[a]=c[a]=l,delete o._keys,!0}})}function qa(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:T1(t,i),setContext:r=>qa(t,r,n,i),override:r=>qa(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return E1(r,o,()=>g9(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function T1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Pr(n)?n:()=>n,isIndexable:Pr(i)?i:()=>i}}const f9=(t,e)=>t?t+eb(e):e,cb=(t,e)=>je(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function E1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function g9(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return Pr(a)&&o.isScriptable(e)&&(a=m9(e,a,t,n)),ut(a)&&a.length&&(a=p9(e,a,t,o.isIndexable)),cb(e,a)&&(a=qa(a,s,r&&r[e],o)),a}function m9(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(r,o||i),a.delete(t),cb(t,e)&&(e=ub(s._scopes,s,t,e)),e}function p9(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(pi(r.index)&&i(t))e=e[r.index%e.length];else if(je(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=ub(c,s,t,u);e.push(qa(h,r,o&&o[t],a))}}return e}function I1(t,e,n){return Pr(t)?t(e,n):t}const v9=(t,e)=>t===!0?e:typeof t=="string"?Ar(e,t):void 0;function _9(t,e,n,i,s){for(const r of e){const o=v9(n,r);if(o){t.add(o);const a=I1(o._fallback,n,s);if(pi(a)&&a!==n&&a!==i)return a}else if(o===!1&&pi(i)&&n!==i)return null}return!1}function ub(t,e,n,i){const s=e._rootScopes,r=I1(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=IT(a,o,n,r||n,i);return l===null||pi(r)&&r!==n&&(l=IT(a,o,r,l,i),l===null)?!1:lb(Array.from(a),[""],s,r,()=>y9(e,n,i))}function IT(t,e,n,i,s){for(;n;)n=_9(t,e,n,i,s);return n}function y9(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return ut(s)&&je(n)?n:s}function b9(t,e,n,i){let s;for(const r of e)if(s=C1(f9(r,t),n),pi(s))return cb(t,s)?ub(n,i,t,s):s}function C1(t,e){for(const n of e){if(!n)continue;const i=n[t];if(pi(i))return i}}function CT(t){let e=t._keys;return e||(e=t._keys=w9(t._scopes)),e}function w9(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function x1(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:s.parse(Ar(u,r),c)};return o}const S9=Number.EPSILON||1e-14,Ga=(t,e)=>e<t.length&&!t[e].skip&&t[e],A1=t=>t==="x"?"y":"x";function T9(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=_v(r,s),l=_v(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function E9(t,e,n){const i=t.length;let s,r,o,a,l,c=Ga(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Ga(t,u+1),!(!l||!c)){if(hc(e[u],0,S9)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function I9(t,e,n="x"){const i=A1(n),s=t.length;let r,o,a,l=Ga(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Ga(t,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*e[c])}}function C9(t,e="x"){const n=A1(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Ga(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Ga(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Zi(s[o-1])!==Zi(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}E9(t,s,r),I9(t,r,e)}function Ch(t,e,n){return Math.max(Math.min(t,n),e)}function x9(t,e){let n,i,s,r,o,a=Zc(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&Zc(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=Ch(s.cp1x,e.left,e.right),s.cp1y=Ch(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Ch(s.cp2x,e.left,e.right),s.cp2y=Ch(s.cp2y,e.top,e.bottom)))}function A9(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")C9(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=T9(c,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&x9(t,n)}function P1(){return typeof window<"u"&&typeof document<"u"}function hb(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Qd(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Pg=t=>window.getComputedStyle(t,null);function P9(t,e){return Pg(t).getPropertyValue(e)}const k9=["top","right","bottom","left"];function _o(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=k9[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const R9=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function O9(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(R9(s,r,t.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Qr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Pg(n),r=s.boxSizing==="border-box",o=_o(s,"padding"),a=_o(s,"border","width"),{x:l,y:c,box:u}=O9(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:g}=e;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/g*n.height/i)}}function D9(t,e,n){let i,s;if(e===void 0||n===void 0){const r=hb(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Pg(r),l=_o(a,"border","width"),c=_o(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Qd(a.maxWidth,r,"clientWidth"),s=Qd(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Kd,maxHeight:s||Kd}}const Hm=t=>Math.round(t*10)/10;function M9(t,e,n,i){const s=Pg(t),r=_o(s,"margin"),o=Qd(s.maxWidth,t,"clientWidth")||Kd,a=Qd(s.maxHeight,t,"clientHeight")||Kd,l=D9(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const h=_o(s,"border","width"),d=_o(s,"padding");c-=d.width+h.width,u-=d.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?Math.floor(c/i):u-r.height),c=Hm(Math.min(c,o,l.maxWidth)),u=Hm(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Hm(c/2)),{width:c,height:u}}function xT(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=s/i,t.width=r/i;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const N9=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function AT(t,e){const n=P9(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Jr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function L9(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function V9(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Jr(t,s,n),a=Jr(s,r,n),l=Jr(r,e,n),c=Jr(o,a,n),u=Jr(a,l,n);return Jr(c,u,n)}const PT=new Map;function F9(t,e){e=e||{};const n=t+JSON.stringify(e);let i=PT.get(n);return i||(i=new Intl.NumberFormat(t,e),PT.set(n,i)),i}function Fu(t,e,n){return F9(e,n).format(t)}const B9=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},$9=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ca(t,e,n){return t?B9(e,n):$9()}function k1(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function R1(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function O1(t){return t==="angle"?{between:Jc,compare:C5,normalize:Hn}:{between:Cs,compare:(e,n)=>e-n,normalize:e=>e}}function kT({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function U9(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=O1(i),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][i]),s,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function D1(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=O1(i),{start:u,end:h,loop:d,style:f}=U9(t,e,n),g=[];let m=!1,p=null,v,y,w;const b=()=>l(s,w,v)&&a(s,w)!==0,S=()=>a(r,v)===0||l(r,w,v),E=()=>m||b(),T=()=>!m||S();for(let C=u,P=u;C<=h;++C)y=e[C%o],!y.skip&&(v=c(y[i]),v!==w&&(m=l(v,s,r),p===null&&E()&&(p=a(v,s)===0?C:P),p!==null&&T()&&(g.push(kT({start:p,end:C,loop:d,count:o,style:f})),p=null),P=C,w=v));return p!==null&&g.push(kT({start:p,end:h,loop:d,count:o,style:f})),g}function M1(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=D1(i[s],t.points,e);r.length&&n.push(...r)}return n}function j9(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function z9(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function H9(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=j9(n,s,r,i);if(i===!0)return RT(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return RT(t,z9(n,o,l,c),n,e)}function RT(t,e,n,i){return!i||!i.setContext||!n?e:W9(t,e,n,i)}function W9(t,e,n,i){const s=t._chart.getContext(),r=OT(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,h=e[0].start,d=h;function f(g,m,p,v){const y=a?-1:1;if(g!==m){for(g+=l;n[g%l].skip;)g-=y;for(;n[m%l].skip;)m+=y;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:p,style:v}),u=v,h=m%l)}}for(const g of e){h=a?h:g.start;let m=n[h%l],p;for(d=h+1;d<=g.end;d++){const v=n[d%l];p=OT(i.setContext($r(s,{type:"segment",p0:m,p1:v,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),q9(p,u)&&f(h,d-1,g.loop,u),m=v,u=p}h<d-1&&f(h,d-1,g.loop,u)}return c}function OT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function q9(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class G9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=d1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bs=new G9;const DT="transparent",K9={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=TT(t||DT),s=i.valid&&TT(e||DT);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Y9{constructor(e,n,i,s){const r=n[i];s=Gl([e.to,s,r,e.from]);const o=Gl([e.from,r,s]);this._active=!0,this._fn=e.fn||K9[e.type||typeof o],this._easing=dc[e.easing]||dc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Gl([e.to,n,s,e.from]),this._from=Gl([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}const X9=["x","y","borderWidth","radius","tension"],Q9=["color","borderColor","backgroundColor"];We.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const J9=Object.keys(We.animation);We.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});We.set("animations",{colors:{type:"color",properties:Q9},numbers:{type:"number",properties:X9}});We.describe("animations",{_fallback:"animation"});We.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class N1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!je(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!je(s))return;const r={};for(const o of J9)r[o]=s[o];(ut(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,r)})})}_animateOptions(e,n){const i=n.options,s=e6(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&Z9(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=h=new Y9(d,e,c,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return bs.add(this._chart,i),!0}}function Z9(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function e6(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function MT(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function t6(t,e,n){if(n===!1)return!1;const i=MT(t,n),s=MT(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function n6(t){let e,n,i,s;return je(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function L1(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function NT(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=t.values[l],Ot(c)&&(r||e===0||Zi(e)===Zi(c))&&(e+=c)}return e}}function i6(t){const e=Object.keys(t),n=new Array(e.length);let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function LT(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function s6(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function r6(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function o6(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function VT(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function FT(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=s6(r,o,i),h=e.length;let d;for(let f=0;f<h;++f){const g=e[f],{[l]:m,[c]:p}=g,v=g._stacks||(g._stacks={});d=v[c]=o6(s,u,m),d[a]=p,d._top=VT(d,o,!0,i.type),d._bottom=VT(d,o,!1,i.type)}}function Wm(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function a6(t,e){return $r(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function l6(t,e,n){return $r(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Pl(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n]}}}const qm=t=>t==="reset"||t==="none",BT=(t,e)=>e?t:Object.assign({},t),c6=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:L1(n,!0),values:null};class Li{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=LT(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Pl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,r=n.xAxisID=Le(i.xAxisID,Wm(e,"x")),o=n.yAxisID=Le(i.yAxisID,Wm(e,"y")),a=n.rAxisID=Le(i.rAxisID,Wm(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&pT(this._data,this),e._stacked&&Pl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(je(n))this._data=i6(n);else if(i!==n){if(i){pT(i,this);const s=this._cachedMeta;Pl(s),s._parsed=[]}n&&Object.isExtensible(n)&&k5(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=LT(n.vScale,n),n.stack!==i.stack&&(s=!0,Pl(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&FT(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{ut(s[e])?d=this.parseArrayData(i,s,e,n):je(s[e])?d=this.parseObjectData(i,s,e,n):d=this.parsePrimitiveData(i,s,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&FT(this,d)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let d,f,g;for(d=0,f=s;d<f;++d)g=d+i,h[d]={[a]:u||r.parse(c[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,d,f;for(u=0,h=s;u<h;++u)d=u+i,f=n[d],c[u]={x:r.parse(Ar(f,a),d),y:o.parse(Ar(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:L1(s,!0),values:n._stacks[e.axis]};return NT(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=NT(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=c6(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=r6(a);let d,f;function g(){f=s[d];const m=f[a.axis];return!Ot(f[e.axis])||u>m||h<m}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],Ot(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=n6(Le(this.options.clip,t6(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=l6(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=a6(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&pi(i);if(a)return BT(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(We.elements[e]),g=()=>this.getContext(i,s),m=c.resolveNamedOptions(d,f,g,h);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(BT(m,l))),m}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,n))}const c=new N1(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||qm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){qm(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!qm(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Pl(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Li.defaults={};Li.prototype.datasetElementType=null;Li.prototype.dataElementType=null;function u6(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=h1(i.sort((s,r)=>s-r))}return t._cache.$bar}function h6(t){const e=t.iScale,n=u6(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(pi(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function d6(t,e,n,i){const s=n.barThickness;let r,o;return Xe(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function f6(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function g6(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function V1(t,e,n,i){return ut(t)?g6(t,e,n,i):e[n.axis]=n.parse(t,i),e}function $T(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(V1(d,h,r,c));return l}function Gm(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function m6(t,e,n){return t!==0?Zi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function p6(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function v6(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=p6(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[UT(u,o,a,l)]=!0,s=c)),r[UT(s,o,a,l)]=!0,t.borderSkipped=r}function UT(t,e,n,i){return i?(t=_6(t,e,n),t=jT(t,n,e)):t=jT(t,e,n),t}function _6(t,e,n){return t===e?n:t===n?e:t}function jT(t,e,n){return t==="start"?e:t==="end"?n:t}function y6(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class kg extends Li{parsePrimitiveData(e,n,i,s){return $T(e,n,i,s)}parseArrayData(e,n,i,s){return $T(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,g,m;for(d=i,f=i+s;d<f;++d)m=n[d],g={},g[r.axis]=r.parse(Ar(m,c),d),h.push(V1(Ar(m,u),g,o,d));return h}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=Gm(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s);for(let f=n;f<n+i;f++){const g=this.getParsed(f),m=r||Xe(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),p=this._calculateBarIndexPixels(f,u),v=(g._stacks||{})[a.axis],y={horizontal:c,base:m.base,enableBorderRadius:!v||Gm(g._custom)||o===v._top||o===v._bottom,x:c?m.head:p.center,y:c?p.center:m.head,height:c?p.size:Math.abs(m.size),width:c?Math.abs(m.size):p.size};d&&(y.options=h||this.resolveDataElementOptions(f,e[f].active?"active":s));const w=y.options||e[f].options;v6(y,w,v,o),y6(y,w,u.ratio),this.updateElement(e[f],f,y,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(Xe(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||h6(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i},options:{base:s,minBarLength:r}}=this,o=s||0,a=this.getParsed(e),l=a._custom,c=Gm(l);let u=a[n.axis],h=0,d=i?this.applyStack(n,a,i):u,f,g;d!==u&&(h=d-u,d=u),c&&(u=l.barStart,d=l.barEnd-l.barStart,u!==0&&Zi(u)!==Zi(l.barEnd)&&(h=0),h+=u);const m=!Xe(s)&&!c?s:h;let p=n.getPixelForValue(m);if(this.chart.getDataVisibility(e)?f=n.getPixelForValue(h+d):f=p,g=f-p,Math.abs(g)<r){g=m6(g,n,o)*r,u===o&&(p-=g/2);const v=n.getPixelForDecimal(0),y=n.getPixelForDecimal(1),w=Math.min(v,y),b=Math.max(v,y);p=Math.max(Math.min(p,b),w),f=p+g}if(p===n.getPixelForValue(o)){const v=Zi(g)*n.getLineWidthForValue(o)/2;p+=v,g-=v}return{size:g,base:p,head:f,center:f+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=Le(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?f6(e,n,s,c):d6(e,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}kg.id="bar";kg.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};kg.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Rg extends Li{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=Le(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=Le(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:i,yScale:s}=n,r=this.getParsed(e),o=i.getLabelForValue(r.x),a=s.getLabelForValue(r.y),l=r._custom;return{label:n.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=e[d],g=!r&&this.getParsed(d),m={},p=m[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),v=m[h]=r?a.getBasePixel():a.getPixelForValue(g[h]);m.skip=isNaN(p)||isNaN(v),c&&(m.options=l||this.resolveDataElementOptions(d,f.active?"active":s),r&&(m.options.radius=0)),this.updateElement(f,d,m,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Le(i&&i._custom,r),s}}Rg.id="bubble";Rg.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Rg.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function b6(t,e,n){let i=1,s=1,r=0,o=0;if(e<ot){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,b,S)=>Jc(w,a,l,!0)?1:Math.max(b,b*n,S,S*n),g=(w,b,S)=>Jc(w,a,l,!0)?-1:Math.min(b,b*n,S,S*n),m=f(0,c,h),p=f(xt,u,d),v=g(Tt,c,h),y=g(Tt+xt,u,d);i=(m-v)/2,s=(p-y)/2,r=-(m+v)/2,o=-(p+y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class pl extends Li{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(je(i[e])){const{key:l="value"}=this._parsing;r=c=>+Ar(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return Ei(this.options.rotation-90)}_getCircumference(){return Ei(this.options.circumference)}_getRotationExtents(){let e=ot,n=-ot;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(p5(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:m}=b6(h,u,l),p=(i.width-o)/d,v=(i.height-o)/f,y=Math.max(Math.min(p,v)/2,0),w=o1(this.options.radius,y),b=Math.max(w*l,0),S=(w-b)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,s.total=this.calculateTotal(),this.outerRadius=w-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/ot)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(n,s);let v=this._getRotation(),y;for(y=0;y<n;++y)v+=this._circumference(y,r);for(y=n;y<n+i;++y){const w=this._circumference(y,r),b=e[y],S={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+w,circumference:w,outerRadius:g,innerRadius:f};p&&(S.options=m||this.resolveDataElementOptions(y,b.active?"active":s)),v+=w,this.updateElement(b,y,S,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ot*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Fu(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Le(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}pl.id="doughnut";pl.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};pl.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};pl.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,s)=>{const o=t.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return ut(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class Og extends Li{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=g1(n,s,o);this._drawStart=a,this._drawCount=l,m1(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),d=o.axis,f=a.axis,{spanGaps:g,segment:m}=this.options,p=Wa(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||s==="none";let y=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const b=e[w],S=this.getParsed(w),E=v?b:{},T=Xe(S[f]),C=E[d]=o.getPixelForValue(S[d],w),P=E[f]=r||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[f],w);E.skip=isNaN(C)||isNaN(P)||T,E.stop=w>0&&Math.abs(S[d]-y[d])>p,m&&(E.parsed=S,E.raw=c.data[w]),h&&(E.options=u||this.resolveDataElementOptions(w,b.active?"active":s)),v||this.updateElement(b,w,E,s),y=S}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Og.id="line";Og.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Og.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Dg extends Li{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Fu(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return x1.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*Tt;let f=d,g;const m=360/this.countVisibleElements();for(g=0;g<n;++g)f+=this._computeAngle(g,s,m);for(g=n;g<n+i;g++){const p=e[g];let v=f,y=f+this._computeAngle(g,s,m),w=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=y,r&&(l.animateScale&&(w=0),l.animateRotate&&(v=y=d));const b={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:v,endAngle:y,options:this.resolveDataElementOptions(g,p.active?"active":s)};this.updateElement(p,g,b,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Ei(this.resolveDataElementOptions(e,n).angle||i):0}}Dg.id="polarArea";Dg.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Dg.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,s)=>{const o=t.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class db extends pl{}db.id="pie";db.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Mg extends Li{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return x1.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,s)}}}Mg.id="radar";Mg.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Mg.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let Vi=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Wa(this.x)&&Wa(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}};Vi.defaults={};Vi.defaultRoutes=void 0;const F1={values(t){return ut(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=w6(t,n)}const o=oi(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Fu(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=t/Math.pow(10,Math.floor(oi(t)));return i===1||i===2||i===5?F1.numeric.call(this,t,e,n):""}};function w6(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ng={formatters:F1};We.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ng.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});We.route("scale.ticks","color","","color");We.route("scale.grid","color","","borderColor");We.route("scale.grid","borderColor","","borderColor");We.route("scale.title","color","","color");We.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});We.describe("scales",{_fallback:"scale"});We.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function S6(t,e){const n=t.options.ticks,i=n.maxTicksLimit||T6(t),s=n.major.enabled?I6(e):[],r=s.length,o=s[0],a=s[r-1],l=[];if(r>i)return C6(e,l,s,r/i),l;const c=E6(s,e,i);if(r>0){let u,h;const d=r>1?Math.round((a-o)/(r-1)):null;for(xh(e,l,c,Xe(d)?0:o-d,o),u=0,h=r-1;u<h;u++)xh(e,l,c,s[u],s[u+1]);return xh(e,l,c,a,Xe(d)?e.length:a+d),l}return xh(e,l,c),l}function T6(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function E6(t,e,n){const i=x6(t),s=e.length/n;if(!i)return Math.max(s,1);const r=E5(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function I6(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function C6(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function xh(t,e,n,i,s){const r=Le(i,0),o=Math.min(Le(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function x6(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const A6=t=>t==="left"?"right":t==="right"?"left":t,zT=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function HT(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function P6(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function k6(t,e){nt(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function kl(t){return t.drawTicks?t.tickLength:0}function WT(t,e){if(!t.display)return 0;const n=Wt(t.font,e),i=wn(t.padding);return(ut(t.text)?t.text.length:1)*n.lineHeight+i.height}function R6(t,e){return $r(t,{scale:e,type:"scale"})}function O6(t,e,n){return $r(t,{tick:n,index:e,type:"tick"})}function D6(t,e,n){let i=ib(t);return(n&&e!=="right"||!n&&e==="right")&&(i=A6(i)),i}function M6(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,g;const m=o-s,p=a-r;if(t.isHorizontal()){if(f=cn(i,r,a),je(n)){const v=Object.keys(n)[0],y=n[v];g=u[v].getPixelForValue(y)+m-e}else n==="center"?g=(c.bottom+c.top)/2+m-e:g=zT(t,n,e);d=a-r}else{if(je(n)){const v=Object.keys(n)[0],y=n[v];f=u[v].getPixelForValue(y)-p+e}else n==="center"?f=(c.left+c.right)/2-p+e:f=zT(t,n,e);g=cn(i,o,s),h=n==="left"?-xt:xt}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class Ko extends Vi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=si(e,Number.POSITIVE_INFINITY),n=si(n,Number.NEGATIVE_INFINITY),i=si(i,Number.POSITIVE_INFINITY),s=si(s,Number.NEGATIVE_INFINITY),{min:si(e,i),max:si(n,s),minDefined:Ot(e),maxDefined:Ot(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:si(n,si(i,n)),max:si(i,si(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ct(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=d9(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?HT(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=S6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ct(this.options.afterUpdate,[this])}beforeSetDimensions(){ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ct(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ct(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=ct(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=this.ticks.length,s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Jt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-kl(e.grid)-n.padding-WT(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=tb(Math.min(Math.asin(Jt((u.highest.height+6)/a,-1,1)),Math.asin(Jt(l/c,-1,1))-Math.asin(Jt(d/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ct(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=WT(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=kl(r)+l):(e.height=this.maxHeight,e.width=kl(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,g=Ei(this.labelRotation),m=Math.cos(g),p=Math.sin(g);if(a){const v=i.mirror?0:p*h.width+m*d.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{const v=i.mirror?0:m*h.width+p*d.height;e.width=Math.min(this.maxWidth,e.width+v+f)}this._calculatePadding(c,u,p,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=s*e.width,f=i*n.height):(d=i*e.height,f=s*n.width):r==="start"?f=n.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ct(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Xe(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=HT(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,n){const{ctx:i,_longestTextCache:s}=this,r=[],o=[];let a=0,l=0,c,u,h,d,f,g,m,p,v,y,w;for(c=0;c<n;++c){if(d=e[c].label,f=this._resolveTickFontOptions(c),i.font=g=f.string,m=s[g]=s[g]||{data:{},gc:[]},p=f.lineHeight,v=y=0,!Xe(d)&&!ut(d))v=Xd(i,m.data,m.gc,v,d),y=p;else if(ut(d))for(u=0,h=d.length;u<h;++u)w=d[u],!Xe(w)&&!ut(w)&&(v=Xd(i,m.data,m.gc,v,w),y+=p);r.push(v),o.push(y),a=Math.max(v,a),l=Math.max(y,l)}k6(s,n);const b=r.indexOf(a),S=o.indexOf(l),E=T=>({width:r[T]||0,height:o[T]||0});return{first:E(0),last:E(n-1),widest:E(b),highest:E(S),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return x5(this._alignToPixels?Kr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=O6(this.getContext(),e,i))}return this.$context||(this.$context=R6(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ei(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o}=s,a=r.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),h=kl(r),d=[],f=r.setContext(this.getContext()),g=f.drawBorder?f.borderWidth:0,m=g/2,p=function(B){return Kr(i,B,g)};let v,y,w,b,S,E,T,C,P,R,D,k;if(o==="top")v=p(this.bottom),E=this.bottom-h,C=v-m,R=p(e.top)+m,k=e.bottom;else if(o==="bottom")v=p(this.top),R=e.top,k=p(e.bottom)-m,E=v+m,C=this.top+h;else if(o==="left")v=p(this.right),S=this.right-h,T=v-m,P=p(e.left)+m,D=e.right;else if(o==="right")v=p(this.left),P=e.left,D=p(e.right)-m,S=v+m,T=this.left+h;else if(n==="x"){if(o==="center")v=p((e.top+e.bottom)/2+.5);else if(je(o)){const B=Object.keys(o)[0],X=o[B];v=p(this.chart.scales[B].getPixelForValue(X))}R=e.top,k=e.bottom,E=v+m,C=E+h}else if(n==="y"){if(o==="center")v=p((e.left+e.right)/2);else if(je(o)){const B=Object.keys(o)[0],X=o[B];v=p(this.chart.scales[B].getPixelForValue(X))}S=v-m,T=S-h,P=e.left,D=e.right}const O=Le(s.ticks.maxTicksLimit,u),V=Math.max(1,Math.ceil(u/O));for(y=0;y<u;y+=V){const B=r.setContext(this.getContext(y)),X=B.lineWidth,K=B.color,L=B.borderDash||[],z=B.borderDashOffset,$=B.tickWidth,W=B.tickColor,Y=B.tickBorderDash||[],ce=B.tickBorderDashOffset;w=P6(this,y,a),w!==void 0&&(b=Kr(i,w,X),l?S=T=P=D=b:E=C=R=k=b,d.push({tx1:S,ty1:E,tx2:T,ty2:C,x1:P,y1:R,x2:D,y2:k,width:X,color:K,borderDash:L,borderDashOffset:z,tickWidth:$,tickColor:W,tickBorderDash:Y,tickBorderDashOffset:ce}))}return this._ticksLength=u,this._borderValue=v,d}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=kl(i.grid),f=d+u,g=h?-u:f,m=-Ei(this.labelRotation),p=[];let v,y,w,b,S,E,T,C,P,R,D,k,O="middle";if(s==="top")E=this.bottom-g,T=this._getXAxisLabelAlignment();else if(s==="bottom")E=this.top+g,T=this._getXAxisLabelAlignment();else if(s==="left"){const B=this._getYAxisLabelAlignment(d);T=B.textAlign,S=B.x}else if(s==="right"){const B=this._getYAxisLabelAlignment(d);T=B.textAlign,S=B.x}else if(n==="x"){if(s==="center")E=(e.top+e.bottom)/2+f;else if(je(s)){const B=Object.keys(s)[0],X=s[B];E=this.chart.scales[B].getPixelForValue(X)+f}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-f;else if(je(s)){const B=Object.keys(s)[0],X=s[B];S=this.chart.scales[B].getPixelForValue(X)}T=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?O="top":l==="end"&&(O="bottom"));const V=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){w=a[v],b=w.label;const B=r.setContext(this.getContext(v));C=this.getPixelForTick(v)+r.labelOffset,P=this._resolveTickFontOptions(v),R=P.lineHeight,D=ut(b)?b.length:1;const X=D/2,K=B.color,L=B.textStrokeColor,z=B.textStrokeWidth;let $=T;o?(S=C,T==="inner"&&(v===y-1?$=this.options.reverse?"left":"right":v===0?$=this.options.reverse?"right":"left":$="center"),s==="top"?c==="near"||m!==0?k=-D*R+R/2:c==="center"?k=-V.highest.height/2-X*R+R:k=-V.highest.height+R/2:c==="near"||m!==0?k=R/2:c==="center"?k=V.highest.height/2-X*R:k=V.highest.height-D*R,h&&(k*=-1)):(E=C,k=(1-D)*R/2);let W;if(B.showLabelBackdrop){const Y=wn(B.backdropPadding),ce=V.heights[v],ge=V.widths[v];let pe=E+k-Y.top,me=S-Y.left;switch(O){case"middle":pe-=ce/2;break;case"bottom":pe-=ce;break}switch(T){case"center":me-=ge/2;break;case"right":me-=ge;break}W={left:me,top:pe,width:ge+Y.width,height:ce+Y.height,color:B.backdropColor}}p.push({rotation:m,label:b,font:P,color:K,strokeColor:L,strokeWidth:z,textOffset:k,textAlign:$,textBaseline:O,translation:[S,E],backdrop:W})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ei(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:i}}=this,s=i.setContext(this.getContext()),r=i.drawBorder?s.borderWidth:0;if(!r)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Kr(e,this.left,r)-r/2,c=Kr(e,this.right,o)+o/2,u=h=a):(u=Kr(e,this.top,r)-r/2,h=Kr(e,this.bottom,o)+o/2,l=c=a),n.save(),n.lineWidth=s.borderWidth,n.strokeStyle=s.borderColor,n.beginPath(),n.moveTo(l,u),n.lineTo(c,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&xg(i,s);const r=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o],c=l.font,u=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let h=l.textOffset;Oo(i,u,0,h,c,l)}s&&Ag(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Wt(i.font),o=wn(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||je(n)?(l+=o.bottom,ut(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=M6(this,l,n,a);Oo(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:D6(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Le(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Ko.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Wt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ah{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;V6(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,N6(e,o,i),this.override&&We.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in We[s]&&(delete We[s][i],this.override&&delete Ro[i])}}function N6(t,e,n){const i=Qc(Object.create(null),[n?We.get(n):{},We.get(e),t.defaults]);We.set(e,i),t.defaultRoutes&&L6(e,t.defaultRoutes),t.descriptors&&We.describe(e,t.descriptors)}function L6(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");We.route(r,s,l,a)})}function V6(t){return"id"in t&&"defaults"in t}class F6{constructor(){this.controllers=new Ah(Li,"datasets",!0),this.elements=new Ah(Vi,"elements"),this.plugins=new Ah(Object,"plugins"),this.scales=new Ah(Ko,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):nt(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=eb(e);ct(i["before"+s],[],i),n[e](i),ct(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Gi=new F6;class Lg extends Li{update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=g1(n,i,s);if(this._drawStart=r,this._drawCount=o,m1(n)&&(r=0,o=i.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},e)}this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=Gi.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),d=this.includeOptions(s,h),f=o.axis,g=a.axis,{spanGaps:m,segment:p}=this.options,v=Wa(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none";let w=n>0&&this.getParsed(n-1);for(let b=n;b<n+i;++b){const S=e[b],E=this.getParsed(b),T=y?S:{},C=Xe(E[g]),P=T[f]=o.getPixelForValue(E[f],b),R=T[g]=r||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[g],b);T.skip=isNaN(P)||isNaN(R)||C,T.stop=b>0&&Math.abs(E[f]-w[f])>v,p&&(T.parsed=E,T.raw=c.data[b]),d&&(T.options=h||this.resolveDataElementOptions(b,S.active?"active":s)),y||this.updateElement(S,b,T,s),w=E}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}Lg.id="scatter";Lg.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Lg.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var B6=Object.freeze({__proto__:null,BarController:kg,BubbleController:Rg,DoughnutController:pl,LineController:Og,PolarAreaController:Dg,PieController:db,RadarController:Mg,ScatterController:Lg});function Yr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sv{constructor(e){this.options=e||{}}init(e){}formats(){return Yr()}parse(e,n){return Yr()}format(e,n){return Yr()}add(e,n,i){return Yr()}diff(e,n,i){return Yr()}startOf(e,n,i){return Yr()}endOf(e,n){return Yr()}}Sv.override=function(t){Object.assign(Sv.prototype,t)};var $6={_date:Sv};function U6(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?A5:xs;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(r,e,n-u),d=l(r,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Bu(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=U6(r[a],e,o,s);for(let f=h;f<=d;++f){const g=u[f];g.skip||i(g,c,f)}}}function j6(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Km(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||Bu(t,n,e,function(a,l,c){!s&&!Zc(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function z6(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=c1(o,{x:e.x,y:e.y});Jc(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Bu(t,n,e,r),s}function H6(t,e,n,i,s,r){let o=[];const a=j6(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,s);if(i&&!f)return;const g=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(g))&&!f)return;const p=a(e,g);p<l?(o=[{element:u,datasetIndex:h,index:d}],l=p):p===l&&o.push({element:u,datasetIndex:h,index:d})}return Bu(t,n,e,c),o}function Ym(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?z6(t,e,n,s):H6(t,e,n,i,s,r)}function qT(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Bu(t,n,e,(l,c,u)=>{l[o](e[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var W6={evaluateInteractionItems:Bu,modes:{index(t,e,n,i){const s=Qr(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Km(t,s,r,i,o):Ym(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const s=Qr(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Km(t,s,r,i,o):Ym(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const s=Qr(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Km(t,s,r,i,o)},nearest(t,e,n,i){const s=Qr(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Ym(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=Qr(e,t);return qT(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=Qr(e,t);return qT(t,s,"y",n.intersect,i)}}};const B1=["left","top","right","bottom"];function Rl(t,e){return t.filter(n=>n.pos===e)}function GT(t,e){return t.filter(n=>B1.indexOf(n.pos)===-1&&n.box.axis===e)}function Ol(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function q6(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function G6(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!B1.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function K6(t,e){const n=G6(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&e.availableHeight)}return n}function Y6(t){const e=q6(t),n=Ol(e.filter(c=>c.box.fullSize),!0),i=Ol(Rl(e,"left"),!0),s=Ol(Rl(e,"right")),r=Ol(Rl(e,"top"),!0),o=Ol(Rl(e,"bottom")),a=GT(e,"x"),l=GT(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Rl(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function KT(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function $1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function X6(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!je(s)){n.size&&(t[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[s]+=n.size}r.getPadding&&$1(o,r.getPadding());const a=Math.max(0,e.outerWidth-KT(o,t,"left","right")),l=Math.max(0,e.outerHeight-KT(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Q6(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function J6(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Kl(t,e,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,J6(a.horizontal,e));const{same:h,other:d}=X6(e,n,a,i);c|=h&&s.length,u=u||d,l.fullSize||s.push(a)}return c&&Kl(s,e,n,i)||u}function Ph(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function YT(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;pi(c.start)&&(o=c.start),l.fullSize?Ph(l,s.left,o,n.outerWidth-s.right-s.left,d):Ph(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;pi(c.start)&&(r=c.start),l.fullSize?Ph(l,r,s.top,d,n.outerHeight-s.bottom-s.top):Ph(l,r,e.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}We.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var pn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=wn(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=Y6(t.boxes),l=a.vertical,c=a.horizontal;nt(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,p)=>p.box.options&&p.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},s);$1(d,wn(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),g=K6(l.concat(c),h);Kl(a.fullSize,f,h,g),Kl(l,f,h,g),Kl(c,f,h,g)&&Kl(l,f,h,g),Q6(f),YT(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,YT(a.rightAndBottom,f,h,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},nt(a.chartArea,m=>{const p=m.box;Object.assign(p,t.chartArea),p.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class U1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class Z6 extends U1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qh="$chartjs",e3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},XT=t=>t===null||t==="";function t3(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Qh]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",XT(s)){const r=AT(t,"width");r!==void 0&&(t.width=r)}if(XT(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=AT(t,"height");r!==void 0&&(t.height=r)}return t}const j1=N9?{passive:!0}:!1;function n3(t,e,n){t.addEventListener(e,n,j1)}function i3(t,e,n){t.canvas.removeEventListener(e,n,j1)}function s3(t,e){const n=e3[t.type]||t.type,{x:i,y:s}=Qr(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Jd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function r3(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Jd(a.addedNodes,i),o=o&&!Jd(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function o3(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Jd(a.removedNodes,i),o=o&&!Jd(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const tu=new Map;let QT=0;function z1(){const t=window.devicePixelRatio;t!==QT&&(QT=t,tu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function a3(t,e){tu.size||window.addEventListener("resize",z1),tu.set(t,e)}function l3(t){tu.delete(t),tu.size||window.removeEventListener("resize",z1)}function c3(t,e,n){const i=t.canvas,s=i&&hb(i);if(!s)return;const r=f1((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),a3(t,r),o}function Xm(t,e,n){n&&n.disconnect(),e==="resize"&&l3(t)}function u3(t,e,n){const i=t.canvas,s=f1(r=>{t.ctx!==null&&n(s3(r,t))},t,r=>{const o=r[0];return[o,o.offsetX,o.offsetY]});return n3(i,e,s),s}class h3 extends U1{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(t3(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Qh])return!1;const i=n[Qh].initial;["height","width"].forEach(r=>{const o=i[r];Xe(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Qh],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:r3,detach:o3,resize:c3}[n]||u3;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Xm,detach:Xm,resize:Xm}[n]||i3)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return M9(e,n,i,s)}isAttached(e){const n=hb(e);return!!(n&&n.isConnected)}}function d3(t){return!P1()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Z6:h3}class f3{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(ct(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Xe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=Le(i.options&&i.options.plugins,{}),r=g3(i);return s===!1&&!n?[]:p3(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function g3(t){const e={},n=[],i=Object.keys(Gi.plugins.items);for(let r=0;r<i.length;r++)n.push(Gi.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function m3(t,e){return!e&&t===!1?null:t===!0?{}:t}function p3(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=m3(i[l],s);c!==null&&r.push({plugin:a,options:v3(t.config,{plugin:a,local:n[l]},c,o)})}return r}function v3(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Tv(t,e){const n=We.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function _3(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function y3(t,e){return t===e?"_index_":"_value_"}function b3(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ev(t,e){return t==="x"||t==="y"?t:e.axis||b3(e.position)||t.charAt(0).toLowerCase()}function w3(t,e){const n=Ro[t.type]||{scales:{}},i=e.scales||{},s=Tv(t.type,e),r=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!je(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Ev(a,l),u=y3(c,s),h=n.scales||{};r[c]=r[c]||a,o[a]=uc(Object.create(null),[{axis:c},l,h[c],h[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||Tv(l,e),h=(Ro[l]||{}).scales||{};Object.keys(h).forEach(d=>{const f=_3(d,c),g=a[f+"AxisID"]||r[f]||f;o[g]=o[g]||Object.create(null),uc(o[g],[{axis:f},i[g],h[d]])})}),Object.keys(o).forEach(a=>{const l=o[a];uc(l,[We.scales[l.type],We.scale])}),o}function H1(t){const e=t.options||(t.options={});e.plugins=Le(e.plugins,{}),e.scales=w3(t,e)}function W1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function S3(t){return t=t||{},t.data=W1(t.data),H1(t),t}const JT=new Map,q1=new Set;function kh(t,e){let n=JT.get(t);return n||(n=e(),JT.set(t,n),q1.add(n)),n}const Dl=(t,e,n)=>{const i=Ar(e,n);i!==void 0&&t.add(i)};class T3{constructor(e){this._config=S3(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=W1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),H1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return kh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return kh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return kh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return kh(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Dl(l,e,h))),u.forEach(h=>Dl(l,s,h)),u.forEach(h=>Dl(l,Ro[r]||{},h)),u.forEach(h=>Dl(l,We,h)),u.forEach(h=>Dl(l,bv,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),q1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ro[n]||{},We.datasets[n]||{},{type:n},We,bv]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=ZT(this._resolverCache,e,s);let l=o;if(I3(o,n)){r.$shared=!1,i=Pr(i)?i():i;const c=this.createResolver(e,i,a);l=qa(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=ZT(this._resolverCache,e,i);return je(n)?qa(r,n,void 0,s):r}}function ZT(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:lb(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const E3=t=>je(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Pr(t[n]),!1);function I3(t,e){const{isScriptable:n,isIndexable:i}=T1(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(Pr(a)||E3(a))||o&&ut(a))return!0}return!1}var C3="3.9.1";const x3=["top","bottom","left","right","chartArea"];function eE(t,e){return t==="top"||t==="bottom"||x3.indexOf(t)===-1&&e==="x"}function tE(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function nE(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ct(n&&n.onComplete,[t],e)}function A3(t){const e=t.chart,n=e.options.animation;ct(n&&n.onProgress,[t],e)}function G1(t){return P1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Zd={},K1=t=>{const e=G1(t);return Object.values(Zd).filter(n=>n.canvas===e).pop()};function P3(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function k3(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}class $u{constructor(e,n){const i=this.config=new T3(n),s=G1(e),r=K1(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||d3(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=m5(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new f3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=R5(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Zd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}bs.listen(this,"complete",nE),bs.listen(this,"progress",A3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Xe(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ET(this.canvas,this.ctx),this}stop(){return bs.stop(this),this}resize(e,n){bs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,xT(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ct(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};nt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Ev(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),nt(r,o=>{const a=o.options,l=a.id,c=Ev(l,a),u=Le(a.type,o.dtype);(a.position===void 0||eE(a.position,c)!==eE(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Gi.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),nt(s,(o,a)=>{o||delete i[a]}),nt(i,o=>{pn.configure(this,o,o.options),pn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(tE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Tv(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Gi.getController(a),{datasetElementType:c,dataElementType:u}=We.datasets[a];Object.assign(l.prototype,{dataElementType:Gi.getElement(u),datasetElementType:c&&Gi.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){nt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||nt(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tE("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){nt(this.scales,e=>{pn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!dT(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;P3(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!dT(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],nt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Pr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bs.has(this)?this.attached&&!bs.running(this)&&bs.start(this):(this.draw(),nE({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&xg(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&Ag(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Zc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=W6.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=$r(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);pi(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),bs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ET(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Zd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};nt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){nt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},nt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!qd(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=w5(e),c=k3(e,this._lastEvent,i,l);i&&(this._lastEvent=null,ct(r.onHover,[e,a,this],this),l&&ct(r.onClick,[e,a,this],this));const u=!qd(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}const iE=()=>nt($u.instances,t=>t._plugins.invalidate()),Xs=!0;Object.defineProperties($u,{defaults:{enumerable:Xs,value:We},instances:{enumerable:Xs,value:Zd},overrides:{enumerable:Xs,value:Ro},registry:{enumerable:Xs,value:Gi},version:{enumerable:Xs,value:C3},getChart:{enumerable:Xs,value:K1},register:{enumerable:Xs,value:(...t)=>{Gi.add(...t),iE()}},unregister:{enumerable:Xs,value:(...t)=>{Gi.remove(...t),iE()}}});function Y1(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(r,o,a,i-c,n+c),l>s?(c=s/l,t.arc(r,o,l,n+c,i-c,!0)):t.arc(r,o,s,n+xt,i-xt),t.closePath(),t.clip()}function R3(t){return ab(t,["outerStart","outerEnd","innerStart","innerEnd"])}function O3(t,e,n,i){const s=R3(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return Jt(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Jt(s.innerStart,0,o),innerEnd:Jt(s.innerEnd,0,o)}}function oa(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Iv(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const g=s-l;if(i){const B=u>0?u-i:0,X=h>0?h-i:0,K=(B+X)/2,L=K!==0?g*K/(K+i):g;f=(g-L)/2}const m=Math.max(.001,g*h-n/Tt)/h,p=(g-m)/2,v=l+p+f,y=s-p-f,{outerStart:w,outerEnd:b,innerStart:S,innerEnd:E}=O3(e,d,h,y-v),T=h-w,C=h-b,P=v+w/T,R=y-b/C,D=d+S,k=d+E,O=v+S/D,V=y-E/k;if(t.beginPath(),r){if(t.arc(o,a,h,P,R),b>0){const K=oa(C,R,o,a);t.arc(K.x,K.y,b,R,y+xt)}const B=oa(k,y,o,a);if(t.lineTo(B.x,B.y),E>0){const K=oa(k,V,o,a);t.arc(K.x,K.y,E,y+xt,V+Math.PI)}if(t.arc(o,a,d,y-E/d,v+S/d,!0),S>0){const K=oa(D,O,o,a);t.arc(K.x,K.y,S,O+Math.PI,v-xt)}const X=oa(T,v,o,a);if(t.lineTo(X.x,X.y),w>0){const K=oa(T,P,o,a);t.arc(K.x,K.y,w,v-xt,P)}}else{t.moveTo(o,a);const B=Math.cos(P)*h+o,X=Math.sin(P)*h+a;t.lineTo(B,X);const K=Math.cos(R)*h+o,L=Math.sin(R)*h+a;t.lineTo(K,L)}t.closePath()}function D3(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Iv(t,e,n,i,o+ot,s);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+a%ot,a%ot===0&&(l+=ot))}return Iv(t,e,n,i,l,s),t.fill(),l}function M3(t,e,n){const{x:i,y:s,startAngle:r,pixelMargin:o,fullCircles:a}=e,l=Math.max(e.outerRadius-o,0),c=e.innerRadius+o;let u;for(n&&Y1(t,e,r+ot),t.beginPath(),t.arc(i,s,c,r+ot,r,!0),u=0;u<a;++u)t.stroke();for(t.beginPath(),t.arc(i,s,l,r,r+ot),u=0;u<a;++u)t.stroke()}function N3(t,e,n,i,s,r){const{options:o}=e,{borderWidth:a,borderJoinStyle:l}=o,c=o.borderAlign==="inner";a&&(c?(t.lineWidth=a*2,t.lineJoin=l||"round"):(t.lineWidth=a,t.lineJoin=l||"bevel"),e.fullCircles&&M3(t,e,c),c&&Y1(t,e,s),Iv(t,e,n,i,s,r),t.stroke())}class Vg extends Vi{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=c1(s,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=this.options.spacing/2,g=Le(h,l-a)>=ot||Jc(r,a,l),m=Cs(o,c+d,u+d);return g&&m}getCenterPoint(e){const{x:n,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(s+r)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,s=(n.offset||0)/2,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>ot?Math.floor(i/ot):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=0;if(s){a=s/2;const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=Tt&&(a=s)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const l=D3(e,this,a,r,o);N3(e,this,a,r,l,o),e.restore()}}Vg.id="arc";Vg.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Vg.defaultRoutes={backgroundColor:"backgroundColor"};function X1(t,e,n=e){t.lineCap=Le(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Le(n.borderDash,e.borderDash)),t.lineDashOffset=Le(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Le(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Le(n.borderWidth,e.borderWidth),t.strokeStyle=Le(n.borderColor,e.borderColor)}function L3(t,e,n){t.lineTo(n.x,n.y)}function V3(t){return t.stepped?s9:t.tension||t.cubicInterpolationMode==="monotone"?r9:L3}function Q1(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function F3(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=Q1(s,n,i),u=V3(r);let{move:h=!0,reverse:d}=i||{},f,g,m;for(f=0;f<=c;++f)g=s[(a+(d?c-f:f))%o],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,m,g,d,r.stepped),m=g);return l&&(g=s[(a+(d?c:0))%o],u(t,m,g,d,r.stepped)),!!l}function B3(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=Q1(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,g,m,p,v;const y=b=>(o+(c?a-b:b))%r,w=()=>{m!==p&&(t.lineTo(u,p),t.lineTo(u,m),t.lineTo(u,v))};for(l&&(f=s[y(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=s[y(d)],f.skip)continue;const b=f.x,S=f.y,E=b|0;E===g?(S<m?m=S:S>p&&(p=S),u=(h*u+b)/++h):(w(),t.lineTo(b,S),g=E,h=0,m=p=S),v=S}w()}function Cv(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?B3:F3}function $3(t){return t.stepped?L9:t.tension||t.cubicInterpolationMode==="monotone"?V9:Jr}function U3(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),X1(t,e.options),t.stroke(s)}function j3(t,e,n,i){const{segments:s,options:r}=e,o=Cv(e);for(const a of s)X1(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const z3=typeof Path2D=="function";function H3(t,e,n,i){z3&&!e.options.segment?U3(t,e,n,i):j3(t,e,n,i)}class Ur extends Vi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;A9(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=H9(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=M1(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=$3(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],g=r[d];if(f===g){a.push(f);continue}const m=Math.abs((s-f[n])/(g[n]-f[n])),p=l(f,g,m,i.stepped);p[n]=e[n],a.push(p)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Cv(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=Cv(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),H3(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ur.id="line";Ur.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Ur.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Ur.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function sE(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Fg extends Vi{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return sE(this,e,"x",n)}inYRange(e,n){return sE(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Zc(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,wv(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Fg.id="point";Fg.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Fg.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function J1(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function ur(t,e,n,i){return t?0:Jt(e,n,i)}function W3(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=S1(i);return{t:ur(s.top,r.top,0,n),r:ur(s.right,r.right,0,e),b:ur(s.bottom,r.bottom,0,n),l:ur(s.left,r.left,0,e)}}function q3(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=vo(s),o=Math.min(e,n),a=t.borderSkipped,l=i||je(s);return{topLeft:ur(!l||a.top||a.left,r.topLeft,0,o),topRight:ur(!l||a.top||a.right,r.topRight,0,o),bottomLeft:ur(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:ur(!l||a.bottom||a.right,r.bottomRight,0,o)}}function G3(t){const e=J1(t),n=e.right-e.left,i=e.bottom-e.top,s=W3(t,n/2,i/2),r=q3(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Qm(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&J1(t,i);return a&&(s||Cs(e,a.left,a.right))&&(r||Cs(n,a.top,a.bottom))}function K3(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Y3(t,e){t.rect(e.x,e.y,e.w,e.h)}function Jm(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class Bg extends Vi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=G3(this),a=K3(o.radius)?eu:Y3;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Jm(o,n,r)),e.clip(),a(e,Jm(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Jm(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Qm(this,e,n,i)}inXRange(e,n){return Qm(this,e,null,n)}inYRange(e,n){return Qm(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Bg.id="bar";Bg.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Bg.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var X3=Object.freeze({__proto__:null,ArcElement:Vg,LineElement:Ur,PointElement:Fg,BarElement:Bg});function Q3(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,h,d,f,g,m;for(o[l++]=t[u],h=0;h<r-2;h++){let p=0,v=0,y;const w=Math.floor((h+1)*a)+1+e,b=Math.min(Math.floor((h+2)*a)+1,n)+e,S=b-w;for(y=w;y<b;y++)p+=t[y].x,v+=t[y].y;p/=S,v/=S;const E=Math.floor(h*a)+1+e,T=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:C,y:P}=t[u];for(f=g=-1,y=E;y<T;y++)g=.5*Math.abs((C-p)*(t[y].y-P)-(C-t[y].x)*(v-P)),g>f&&(f=g,d=t[y],m=y);o[l++]=d,u=m}return o[l++]=t[c],o}function J3(t,e,n,i){let s=0,r=0,o,a,l,c,u,h,d,f,g,m;const p=[],v=e+n-1,y=t[e].x,b=t[v].x-y;for(o=e;o<e+n;++o){a=t[o],l=(a.x-y)/b*i,c=a.y;const S=l|0;if(S===u)c<g?(g=c,h=o):c>m&&(m=c,d=o),s=(r*s+a.x)/++r;else{const E=o-1;if(!Xe(h)&&!Xe(d)){const T=Math.min(h,d),C=Math.max(h,d);T!==f&&T!==E&&p.push({...t[T],x:s}),C!==f&&C!==E&&p.push({...t[C],x:s})}o>0&&E!==f&&p.push(t[E]),p.push(a),u=S,r=0,g=m=c,h=d=f=o}}return p}function Z1(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function rE(t){t.data.datasets.forEach(e=>{Z1(e)})}function Z3(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Jt(xs(e,r.axis,o).lo,0,n-1)),c?s=Jt(xs(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var eq={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){rE(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),c=o||s.data;if(Gl([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:d}=Z3(l,c);const f=n.threshold||4*i;if(d<=f){Z1(s);return}Xe(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let g;switch(n.algorithm){case"lttb":g=Q3(c,h,d,i,n);break;case"min-max":g=J3(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=g})},destroy(t){rE(t)}};function tq(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=fb(l,c,s);const u=xv(n,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=M1(e,u);for(const d of h){const f=xv(n,r[d.start],r[d.end],d.loop),g=D1(a,s,f);for(const m of g)o.push({source:m,target:d,start:{[n]:oE(u,f,"start",Math.max)},end:{[n]:oE(u,f,"end",Math.min)}})}}return o}function xv(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=Hn(s),r=Hn(r)),{property:t,start:s,end:r}}function nq(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=fb(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function fb(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function oE(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function eO(t,e){let n=[],i=!1;return ut(t)?(i=!0,n=t):n=nq(t,e),n.length?new Ur({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function aE(t){return t&&t.fill!==!1}function iq(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Ot(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function sq(t,e,n){const i=lq(t);if(je(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ot(s)&&Math.floor(s)===s?rq(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function rq(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function oq(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:je(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function aq(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:je(t)?i=t.value:i=e.getBaseValue(),i}function lq(t){const e=t.options,n=e.fill;let i=Le(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function cq(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=uq(e,n);a.push(eO({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)hq(s,o[u],a)}return new Ur({points:s,options:{}})}function uq(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function hq(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=dq(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function dq(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],d=o[u.end][n];if(Cs(s,h,d)){a=s===h,l=s===d;break}}return{first:a,last:l,point:i}}class tO{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:ot},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function fq(t){const{chart:e,fill:n,line:i}=t;if(Ot(n))return gq(e,n);if(n==="stack")return cq(t);if(n==="shape")return!0;const s=mq(t);return s instanceof tO?s:eO(s,i)}function gq(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function mq(t){return(t.scale||{}).getPointPositionForValue?vq(t):pq(t)}function pq(t){const{scale:e={},fill:n}=t,i=oq(n,e);if(Ot(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function vq(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=aq(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new tO({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function Zm(t,e,n){const i=fq(e),{line:s,scale:r,axis:o}=e,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&s.points.length&&(xg(t,n),_q(t,{line:s,target:i,above:u,below:h,area:n,scale:r,axis:o}),Ag(t))}function _q(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&r!==s&&(lE(t,i,o.top),cE(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore(),t.save(),lE(t,i,o.bottom)),cE(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore()}function lE(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[fb(l,c,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function cE(t,e){const{line:n,target:i,property:s,color:r,scale:o}=e,a=tq(n,i,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=r}={}}=l,f=i!==!0;t.save(),t.fillStyle=d,yq(t,o,f&&xv(s,u,h)),t.beginPath();const g=!!n.pathSegment(t,l);let m;if(f){g?t.closePath():uE(t,i,h,s);const p=!!i.pathSegment(t,c,{move:g,reverse:!0});m=g&&p,m||uE(t,i,u,s)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function yq(t,e,n){const{top:i,bottom:s}=e.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(t.beginPath(),t.rect(o,i,a-o,s-i),t.clip())}function uE(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var bq={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Ur&&(l={visible:t.isDatasetVisible(o),index:o,fill:sq(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=iq(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Zm(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;aE(r)&&Zm(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!aE(i)||n.drawTime!=="beforeDatasetDraw"||Zm(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const hE=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},wq=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class dE extends Vi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ct(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Wt(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=hE(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((g,m)=>{const p=i+n/2+r.measureText(g.text).width;(m===0||c[c.length-1]+p+2*a>o)&&(h+=u,c[c.length-(m>0?0:1)]=0,f+=u,d++),l[m]={left:0,top:f,row:d,width:p,height:s},c[c.length-1]+=p+a}),h}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,g=0,m=0;return this.legendItems.forEach((p,v)=>{const y=i+n/2+r.measureText(p.text).width;v>0&&f+s+2*a>u&&(h+=d+a,c.push({width:d,height:f}),g+=d+a,m++,d=f=0),l[v]={left:g,top:f,col:m,width:y,height:s},d=Math.max(d,y),f+=s+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Ca(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=cn(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=cn(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=cn(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=cn(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;xg(e,this),this._draw(),Ag(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=We.color,l=Ca(e.rtl,this.left,this.width),c=Wt(o.font),{color:u,padding:h}=o,d=c.size,f=d/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:p,itemHeight:v}=hE(o,d),y=function(T,C,P){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;s.save();const R=Le(P.lineWidth,1);if(s.fillStyle=Le(P.fillStyle,a),s.lineCap=Le(P.lineCap,"butt"),s.lineDashOffset=Le(P.lineDashOffset,0),s.lineJoin=Le(P.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=Le(P.strokeStyle,a),s.setLineDash(Le(P.lineDash,[])),o.usePointStyle){const D={radius:p*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:R},k=l.xPlus(T,m/2),O=C+f;w1(s,D,k,O,o.pointStyleWidth&&m)}else{const D=C+Math.max((d-p)/2,0),k=l.leftForLtr(T,m),O=vo(P.borderRadius);s.beginPath(),Object.values(O).some(V=>V!==0)?eu(s,{x:k,y:D,w:m,h:p,radius:O}):s.rect(k,D,m,p),s.fill(),R!==0&&s.stroke()}s.restore()},w=function(T,C,P){Oo(s,P.text,T,C+v/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},b=this.isHorizontal(),S=this._computeTitleHeight();b?g={x:cn(r,this.left+h,this.right-i[0]),y:this.top+h+S,line:0}:g={x:this.left+h,y:cn(r,this.top+S+h,this.bottom-n[0].height),line:0},k1(this.ctx,e.textDirection);const E=v+h;this.legendItems.forEach((T,C)=>{s.strokeStyle=T.fontColor||u,s.fillStyle=T.fontColor||u;const P=s.measureText(T.text).width,R=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),D=m+f+P;let k=g.x,O=g.y;l.setWidth(this.width),b?C>0&&k+D+h>this.right&&(O=g.y+=E,g.line++,k=g.x=cn(r,this.left+h,this.right-i[g.line])):C>0&&O+E>this.bottom&&(k=g.x=k+n[g.line].width+h,g.line++,O=g.y=cn(r,this.top+S+h,this.bottom-n[g.line].height));const V=l.x(k);y(V,O,T),k=O5(R,k+m+f,b?k+D:this.right,e.rtl),w(l.x(k),O,T),b?g.x+=D+h:g.y+=E}),R1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Wt(n.font),s=wn(n.padding);if(!n.display)return;const r=Ca(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=cn(e.align,h,this.right-d);else{const g=this.columnSizes.reduce((m,p)=>Math.max(m,p.height),0);u=c+cn(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=cn(a,h,h+d);o.textAlign=r.textAlign(ib(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Oo(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=Wt(e.font),i=wn(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(Cs(e,this.left,this.right)&&Cs(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Cs(e,s.left,s.left+s.width)&&Cs(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!Sq(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=wq(s,i);s&&!r&&ct(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&ct(n.onHover,[e,i,this],this)}else i&&ct(n.onClick,[e,i,this],this)}}function Sq(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Tq={id:"legend",_element:dE,start(t,e,n){const i=t.legend=new dE({ctx:t.ctx,options:n,chart:t});pn.configure(t,i,n),pn.addBox(t,i)},stop(t){pn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;pn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r}}=t.legend.options;return t._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(n?0:void 0),l=wn(a.borderWidth);return{text:e[o.index].label,fillStyle:a.backgroundColor,fontColor:r,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:s||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class gb extends Vi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=ut(i.text)?i.text.length:1;this._padding=wn(i.padding);const r=s*Wt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=cn(a,i,r),h=n+e,c=r-i):(o.position==="left"?(u=i+e,h=cn(a,s,n),l=Tt*-.5):(u=r-e,h=cn(a,n,s),l=Tt*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Wt(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Oo(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:ib(n.align),textBaseline:"middle",translation:[o,a]})}}function Eq(t,e){const n=new gb({ctx:t.ctx,options:e,chart:t});pn.configure(t,n,e),pn.addBox(t,n),t.titleBlock=n}var Iq={id:"title",_element:gb,start(t,e,n){Eq(t,n)},stop(t){const e=t.titleBlock;pn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;pn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rh=new WeakMap;var Cq={id:"subtitle",start(t,e,n){const i=new gb({ctx:t.ctx,options:n,chart:t});pn.configure(t,i,n),pn.addBox(t,i),Rh.set(t,i)},stop(t){pn.removeBox(t,Rh.get(t)),Rh.delete(t)},beforeUpdate(t,e,n){const i=Rh.get(t);pn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gc={average(t){if(!t.length)return!1;let e,n,i=0,s=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=_v(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function $i(t,e){return e&&(ut(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ws(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function xq(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function fE(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Wt(e.bodyFont),c=Wt(e.titleFont),u=Wt(e.footerFont),h=r.length,d=s.length,f=i.length,g=wn(e.padding);let m=g.height,p=0,v=i.reduce((b,S)=>b+S.before.length+S.lines.length+S.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const b=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*b+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const w=function(b){p=Math.max(p,n.measureText(b).width+y)};return n.save(),n.font=c.string,nt(t.title,w),n.font=l.string,nt(t.beforeBody.concat(t.afterBody),w),y=e.displayColors?o+2+e.boxPadding:0,nt(i,b=>{nt(b.before,w),nt(b.lines,w),nt(b.after,w)}),y=0,n.font=u.string,nt(t.footer,w),n.restore(),p+=g.width,{width:p,height:m}}function Aq(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function Pq(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function kq(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),Pq(c,t,e,n)&&(c="center"),c}function gE(t,e,n){const i=n.yAlign||e.yAlign||Aq(t,n);return{xAlign:n.xAlign||e.xAlign||kq(t,e,n,i),yAlign:i}}function Rq(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function Oq(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function mE(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=vo(o);let g=Rq(e,a);const m=Oq(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+s:a==="right"&&(g+=Math.max(h,f)+s),{x:Jt(g,0,i.width-e.width),y:Jt(m,0,i.height-e.height)}}function Oh(t,e,n){const i=wn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function pE(t){return $i([],ws(t))}function Dq(t,e,n){return $r(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function vE(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class Av extends Vi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new N1(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Dq(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=i.beforeTitle.apply(this,[e]),r=i.title.apply(this,[e]),o=i.afterTitle.apply(this,[e]);let a=[];return a=$i(a,ws(s)),a=$i(a,ws(r)),a=$i(a,ws(o)),a}getBeforeBody(e,n){return pE(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:i}=n,s=[];return nt(e,r=>{const o={before:[],lines:[],after:[]},a=vE(i,r);$i(o.before,ws(a.beforeLabel.call(this,r))),$i(o.lines,a.label.call(this,r)),$i(o.after,ws(a.afterLabel.call(this,r))),s.push(o)}),s}getAfterBody(e,n){return pE(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:i}=n,s=i.beforeFooter.apply(this,[e]),r=i.footer.apply(this,[e]),o=i.afterFooter.apply(this,[e]);let a=[];return a=$i(a,ws(s)),a=$i(a,ws(r)),a=$i(a,ws(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(xq(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),nt(a,u=>{const h=vE(e.callbacks,u);s.push(h.labelColor.call(this,u)),r.push(h.labelPointStyle.call(this,u)),o.push(h.labelTextColor.call(this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=gc[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=fE(this,i),c=Object.assign({},a,l),u=gE(this.chart,i,c),h=mE(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=vo(a),{x:d,y:f}=e,{width:g,height:m}=n;let p,v,y,w,b,S;return r==="center"?(b=f+m/2,s==="left"?(p=d,v=p-o,w=b+o,S=b-o):(p=d+g,v=p+o,w=b-o,S=b+o),y=p):(s==="left"?v=d+Math.max(l,u)+o:s==="right"?v=d+g-Math.max(c,h)-o:v=this.caretX,r==="top"?(w=f,b=w-o,p=v-o,y=v+o):(w=f+m,b=w+o,p=v+o,y=v-o),S=w),{x1:p,x2:v,x3:y,y1:w,y2:b,y3:S}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Ca(i.rtl,this.x,this.width);for(e.x=Oh(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Wt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Wt(r.bodyFont),d=Oh(this,"left",r),f=s.x(d),g=l<h.lineHeight?(h.lineHeight-l)/2:0,m=n.y+g;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=s.leftForLtr(f,c)+c/2,y=m+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,wv(e,p,v,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,wv(e,p,v,y)}else{e.lineWidth=je(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=s.leftForLtr(f,c-u),v=s.leftForLtr(s.xPlus(f,1),c-u-2),y=vo(o.borderRadius);Object.values(y).some(w=>w!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,eu(e,{x:p,y:m,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),eu(e,{x:v,y:m+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(p,m,c,l),e.strokeRect(p,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Wt(i.bodyFont);let d=h.lineHeight,f=0;const g=Ca(i.rtl,this.x,this.width),m=function(C){n.fillText(C,g.x(e.x+f),e.y+d/2),e.y+=d+r},p=g.textAlign(o);let v,y,w,b,S,E,T;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Oh(this,p,i),n.fillStyle=i.bodyColor,nt(this.beforeBody,m),f=a&&p!=="right"?o==="center"?c/2+u:c+2+u:0,b=0,E=s.length;b<E;++b){for(v=s[b],y=this.labelTextColors[b],n.fillStyle=y,nt(v.before,m),w=v.lines,a&&w.length&&(this._drawColorBox(n,e,b,g,i),d=Math.max(h.lineHeight,l)),S=0,T=w.length;S<T;++S)m(w[S]),d=h.lineHeight;nt(v.after,m)}f=0,d=h.lineHeight,nt(this.afterBody,m),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Ca(i.rtl,this.x,this.width);for(e.x=Oh(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Wt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=vo(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=gc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=fE(this,e),l=Object.assign({},o,this._size),c=gE(n,e,l),u=mE(e,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=wn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),k1(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),R1(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!qd(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!qd(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=gc[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}Av.positioners=gc;var Mq={id:"tooltip",_element:Av,positioners:gc,afterInit(t,e,n){n&&(t.tooltip=new Av({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",n)===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:vs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:vs,beforeBody:vs,beforeLabel:vs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Xe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:vs,afterBody:vs,beforeFooter:vs,footer:vs,afterFooter:vs}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Nq=Object.freeze({__proto__:null,Decimation:eq,Filler:bq,Legend:Tq,SubTitle:Cq,Title:Iq,Tooltip:Mq});const Lq=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Vq(t,e,n,i){const s=t.indexOf(e);if(s===-1)return Lq(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const Fq=(t,e)=>t===null?null:Jt(Math.round(t),0,e);class ef extends Ko{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Xe(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:Vq(i,e,Le(n,e),this._addedLabels),Fq(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ef.id="category";ef.defaults={ticks:{callback:ef.prototype.getLabelForValue}};function Bq(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=r||1,g=u-1,{min:m,max:p}=e,v=!Xe(o),y=!Xe(a),w=!Xe(c),b=(p-m)/(h+1);let S=gT((p-m)/g/f)*f,E,T,C,P;if(S<1e-14&&!v&&!y)return[{value:m},{value:p}];P=Math.ceil(p/S)-Math.floor(m/S),P>g&&(S=gT(P*S/g/f)*f),Xe(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),s==="ticks"?(T=Math.floor(m/S)*S,C=Math.ceil(p/S)*S):(T=m,C=p),v&&y&&r&&I5((a-o)/r,S/1e3)?(P=Math.round(Math.min((a-o)/S,u)),S=(a-o)/P,T=o,C=a):w?(T=v?o:T,C=y?a:C,P=c-1,S=(C-T)/P):(P=(C-T)/S,hc(P,Math.round(P),S/1e3)?P=Math.round(P):P=Math.ceil(P));const R=Math.max(mT(S),mT(T));E=Math.pow(10,Xe(l)?R:l),T=Math.round(T*E)/E,C=Math.round(C*E)/E;let D=0;for(v&&(d&&T!==o?(n.push({value:o}),T<o&&D++,hc(Math.round((T+D*S)*E)/E,o,_E(o,b,t))&&D++):T<o&&D++);D<P;++D)n.push({value:Math.round((T+D*S)*E)/E});return y&&d&&C!==a?n.length&&hc(n[n.length-1].value,a,_E(a,b,t))?n[n.length-1].value=a:n.push({value:a}):(!y||C===a)&&n.push({value:C}),n}function _E(t,e,{horizontal:n,minRotation:i}){const s=Ei(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class tf extends Ko{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Xe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=Zi(s),c=Zi(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=1;(r>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(r*.05)),a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=Bq(s,r);return e.bounds==="ticks"&&l1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Fu(e,this.chart.options.locale,this.options.ticks.format)}}class mb extends tf{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ot(e)?e:0,this.max=Ot(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Ei(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}mb.id="linear";mb.defaults={ticks:{callback:Ng.formatters.numeric}};function yE(t){return t/Math.pow(10,Math.floor(oi(t)))===1}function $q(t,e){const n=Math.floor(oi(e.max)),i=Math.ceil(e.max/Math.pow(10,n)),s=[];let r=si(t.min,Math.pow(10,Math.floor(oi(e.min)))),o=Math.floor(oi(r)),a=Math.floor(r/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do s.push({value:r,major:yE(r)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),r=Math.round(a*Math.pow(10,o)*l)/l;while(o<n||o===n&&a<i);const c=si(t.max,r);return s.push({value:c,major:yE(r)}),s}class pb extends Ko{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=tf.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Ot(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ot(e)?Math.max(0,e):null,this.max=Ot(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=l=>i=e?i:l,o=l=>s=n?s:l,a=(l,c)=>Math.pow(10,Math.floor(oi(l))+c);i===s&&(i<=0?(r(1),o(10)):(r(a(i,-1)),o(a(s,1)))),i<=0&&r(a(s,-1)),s<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&r(a(i,-1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=$q(n,this);return e.bounds==="ticks"&&l1(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Fu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=oi(e),this._valueRange=oi(this.max)-oi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(oi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}pb.id="logarithmic";pb.defaults={ticks:{callback:Ng.formatters.logarithmic,major:{enabled:!0}}};function Pv(t){const e=t.ticks;if(e.display&&t.display){const n=wn(e.backdropPadding);return Le(e.font&&e.font.size,We.font.size)+n.height}return 0}function Uq(t,e,n){return n=ut(n)?n:[n],{w:i9(t,e.string,n),h:n.length*e.lineHeight}}function bE(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function jq(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Tt/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],a),h=Wt(c.font),d=Uq(t.ctx,h,t._pointLabels[l]);i[l]=d;const f=Hn(t.getIndexAngle(l)+a),g=Math.round(tb(f)),m=bE(g,u.x,d.w,0,180),p=bE(g,u.y,d.h,90,270);zq(n,e,f,m,p)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Hq(t,i,s)}function zq(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Hq(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,o=Pv(r)/2,a=t.drawingArea,l=r.pointLabels.centerPointLabels?Tt/s:0;for(let c=0;c<s;c++){const u=t.getPointPosition(c,a+o+n[c],l),h=Math.round(tb(Hn(u.angle+xt))),d=e[c],f=Gq(u.y,d.h,h),g=Wq(h),m=qq(u.x,d.w,g);i.push({x:u.x,y:f,textAlign:g,left:m,top:f,right:m+d.w,bottom:f+d.h})}return i}function Wq(t){return t===0||t===180?"center":t<180?"left":"right"}function qq(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Gq(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function Kq(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=i.setContext(t.getPointLabelContext(s)),o=Wt(r.font),{x:a,y:l,textAlign:c,left:u,top:h,right:d,bottom:f}=t._pointLabelItems[s],{backdropColor:g}=r;if(!Xe(g)){const m=vo(r.borderRadius),p=wn(r.backdropPadding);n.fillStyle=g;const v=u-p.left,y=h-p.top,w=d-u+p.width,b=f-h+p.height;Object.values(m).some(S=>S!==0)?(n.beginPath(),eu(n,{x:v,y,w,h:b,radius:m}),n.fill()):n.fillRect(v,y,w,b)}Oo(n,t._pointLabels[s],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}function nO(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,ot);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function Yq(t,e,n,i){const s=t.ctx,r=e.circular,{color:o,lineWidth:a}=e;!r&&!i||!o||!a||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=a,s.setLineDash(e.borderDash),s.lineDashOffset=e.borderDashOffset,s.beginPath(),nO(t,n,r,i),s.closePath(),s.stroke(),s.restore())}function Xq(t,e,n){return $r(t,{label:n,index:e,type:"pointLabel"})}class Uu extends tf{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=wn(Pv(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ot(e)&&!isNaN(e)?e:0,this.max=Ot(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Pv(this.options))}generateTickLabels(e){tf.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=ct(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?jq(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=ot/(this._pointLabels.length||1),i=this.options.startAngle||0;return Hn(e*n+Ei(i))}getDistanceFromCenterForValue(e){if(Xe(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Xe(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return Xq(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-xt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),nO(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s}=n,r=this._pointLabels.length;let o,a,l;if(n.pointLabels.display&&Kq(this,r),s.display&&this.ticks.forEach((c,u)=>{if(u!==0){a=this.getDistanceFromCenterForValue(c.value);const h=s.setContext(this.getContext(u-1));Yq(this,h,a,r)}}),i.display){for(e.save(),o=r-1;o>=0;o--){const c=i.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:h}=c;!h||!u||(e.lineWidth=h,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Wt(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=wn(c.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Oo(e,a.label,0,-r,u,{color:c.color})}),e.restore()}drawTitle(){}}Uu.id="radialLinear";Uu.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ng.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};Uu.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Uu.descriptors={angleLines:{_fallback:"grid"}};const $g={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rn=Object.keys($g);function Qq(t,e){return t-e}function wE(t,e){if(Xe(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ot(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Wa(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function SE(t,e,n,i){const s=Rn.length;for(let r=Rn.indexOf(t);r<s-1;++r){const o=$g[Rn[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Rn[r]}return Rn[s-1]}function Jq(t,e,n,i,s){for(let r=Rn.length-1;r>=Rn.indexOf(n);r--){const o=Rn[r];if($g[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return Rn[n?Rn.indexOf(n):0]}function Zq(t){for(let e=Rn.indexOf(t)+1,n=Rn.length;e<n;++e)if($g[Rn[e]].common)return Rn[e]}function TE(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=nb(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function eG(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function EE(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:eG(t,i,s,n)}class ju extends Ko{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const i=e.time||(e.time={}),s=this._adapter=new $6._date(e.adapters.date);s.init(n),uc(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:wE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Ot(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Ot(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=P5(s,r,o);return this._unit=n.unit||(i.autoSkip?SE(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):Jq(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Zq(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),EE(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Jt(n,0,o),i=Jt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||SE(r.minUnit,n,i,this._getLabelCapacity(n)),a=Le(r.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Wa(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)TE(u,d,g);return(d===i||s.bounds==="ticks"||f===1)&&TE(u,d,g),Object.keys(u).sort((m,p)=>m-p).map(m=>+m)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=i[n],d=l&&u&&h&&h.major,f=this._adapter.format(e,s||(d?u:c)),g=r.ticks.callback;return g?ct(g,[f,n,i],this):f}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=Ei(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,EE(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(wE(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return h1(e.sort(Qq))}}ju.id="time";ju.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Dh(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=xs(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=xs(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class vb extends ju{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Dh(n,this.min),this._tableRange=Dh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Dh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Dh(this._table,i*this._tableRange+this._minPos,!0)}}vb.id="timeseries";vb.defaults=ju.defaults;var tG=Object.freeze({__proto__:null,CategoryScale:ef,LinearScale:mb,LogarithmicScale:pb,RadialLinearScale:Uu,TimeScale:ju,TimeSeriesScale:vb});const iO=[B6,X3,Nq,tG];var sO=typeof global=="object"&&global&&global.Object===Object&&global,nG=typeof self=="object"&&self&&self.Object===Object&&self,gs=sO||nG||Function("return this")(),kr=gs.Symbol,rO=Object.prototype,iG=rO.hasOwnProperty,sG=rO.toString,Ml=kr?kr.toStringTag:void 0;function rG(t){var e=iG.call(t,Ml),n=t[Ml];try{t[Ml]=void 0;var i=!0}catch{}var s=sG.call(t);return i&&(e?t[Ml]=n:delete t[Ml]),s}var oG=Object.prototype,aG=oG.toString;function lG(t){return aG.call(t)}var cG="[object Null]",uG="[object Undefined]",IE=kr?kr.toStringTag:void 0;function zu(t){return t==null?t===void 0?uG:cG:IE&&IE in Object(t)?rG(t):lG(t)}function Do(t){return t!=null&&typeof t=="object"}var Ka=Array.isArray;function Hu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hG="[object AsyncFunction]",dG="[object Function]",fG="[object GeneratorFunction]",gG="[object Proxy]";function oO(t){if(!Hu(t))return!1;var e=zu(t);return e==dG||e==fG||e==hG||e==gG}var ep=gs["__core-js_shared__"],CE=function(){var t=/[^.]+$/.exec(ep&&ep.keys&&ep.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mG(t){return!!CE&&CE in t}var pG=Function.prototype,vG=pG.toString;function Yo(t){if(t!=null){try{return vG.call(t)}catch{}try{return t+""}catch{}}return""}var _G=/[\\^$.*+?()[\]{}|]/g,yG=/^\[object .+?Constructor\]$/,bG=Function.prototype,wG=Object.prototype,SG=bG.toString,TG=wG.hasOwnProperty,EG=RegExp("^"+SG.call(TG).replace(_G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IG(t){if(!Hu(t)||mG(t))return!1;var e=oO(t)?EG:yG;return e.test(Yo(t))}function CG(t,e){return t==null?void 0:t[e]}function Xo(t,e){var n=CG(t,e);return IG(n)?n:void 0}var kv=Xo(gs,"WeakMap"),xE=Object.create,xG=function(){function t(){}return function(e){if(!Hu(e))return{};if(xE)return xE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function AG(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var AE=function(){try{var t=Xo(Object,"defineProperty");return t({},"",{}),t}catch{}}();function PG(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var kG=9007199254740991,RG=/^(?:0|[1-9]\d*)$/;function OG(t,e){var n=typeof t;return e=e??kG,!!e&&(n=="number"||n!="symbol"&&RG.test(t))&&t>-1&&t%1==0&&t<e}function aO(t,e,n){e=="__proto__"&&AE?AE(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function _b(t,e){return t===e||t!==t&&e!==e}var DG=Object.prototype,MG=DG.hasOwnProperty;function lO(t,e,n){var i=t[e];(!(MG.call(t,e)&&_b(i,n))||n===void 0&&!(e in t))&&aO(t,e,n)}function Ug(t,e,n,i){var s=!n;n||(n={});for(var r=-1,o=e.length;++r<o;){var a=e[r],l=i?i(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),s?aO(n,a,l):lO(n,a,l)}return n}var NG=9007199254740991;function cO(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=NG}function yb(t){return t!=null&&cO(t.length)&&!oO(t)}var LG=Object.prototype;function jg(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||LG;return t===n}function VG(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var FG="[object Arguments]";function PE(t){return Do(t)&&zu(t)==FG}var uO=Object.prototype,BG=uO.hasOwnProperty,$G=uO.propertyIsEnumerable,UG=PE(function(){return arguments}())?PE:function(t){return Do(t)&&BG.call(t,"callee")&&!$G.call(t,"callee")};const hO=UG;function jG(){return!1}var dO=typeof Yn=="object"&&Yn&&!Yn.nodeType&&Yn,kE=dO&&typeof Xn=="object"&&Xn&&!Xn.nodeType&&Xn,zG=kE&&kE.exports===dO,RE=zG?gs.Buffer:void 0,HG=RE?RE.isBuffer:void 0,nu=HG||jG,WG="[object Arguments]",qG="[object Array]",GG="[object Boolean]",KG="[object Date]",YG="[object Error]",XG="[object Function]",QG="[object Map]",JG="[object Number]",ZG="[object Object]",eK="[object RegExp]",tK="[object Set]",nK="[object String]",iK="[object WeakMap]",sK="[object ArrayBuffer]",rK="[object DataView]",oK="[object Float32Array]",aK="[object Float64Array]",lK="[object Int8Array]",cK="[object Int16Array]",uK="[object Int32Array]",hK="[object Uint8Array]",dK="[object Uint8ClampedArray]",fK="[object Uint16Array]",gK="[object Uint32Array]",gt={};gt[oK]=gt[aK]=gt[lK]=gt[cK]=gt[uK]=gt[hK]=gt[dK]=gt[fK]=gt[gK]=!0;gt[WG]=gt[qG]=gt[sK]=gt[GG]=gt[rK]=gt[KG]=gt[YG]=gt[XG]=gt[QG]=gt[JG]=gt[ZG]=gt[eK]=gt[tK]=gt[nK]=gt[iK]=!1;function mK(t){return Do(t)&&cO(t.length)&&!!gt[zu(t)]}function bb(t){return function(e){return t(e)}}var fO=typeof Yn=="object"&&Yn&&!Yn.nodeType&&Yn,mc=fO&&typeof Xn=="object"&&Xn&&!Xn.nodeType&&Xn,pK=mc&&mc.exports===fO,tp=pK&&sO.process,Ya=function(){try{var t=mc&&mc.require&&mc.require("util").types;return t||tp&&tp.binding&&tp.binding("util")}catch{}}(),OE=Ya&&Ya.isTypedArray,vK=OE?bb(OE):mK;const wb=vK;var _K=Object.prototype,yK=_K.hasOwnProperty;function gO(t,e){var n=Ka(t),i=!n&&hO(t),s=!n&&!i&&nu(t),r=!n&&!i&&!s&&wb(t),o=n||i||s||r,a=o?VG(t.length,String):[],l=a.length;for(var c in t)(e||yK.call(t,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||OG(c,l)))&&a.push(c);return a}function mO(t,e){return function(n){return t(e(n))}}var bK=mO(Object.keys,Object),wK=Object.prototype,SK=wK.hasOwnProperty;function pO(t){if(!jg(t))return bK(t);var e=[];for(var n in Object(t))SK.call(t,n)&&n!="constructor"&&e.push(n);return e}function Sb(t){return yb(t)?gO(t):pO(t)}function TK(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var EK=Object.prototype,IK=EK.hasOwnProperty;function CK(t){if(!Hu(t))return TK(t);var e=jg(t),n=[];for(var i in t)i=="constructor"&&(e||!IK.call(t,i))||n.push(i);return n}function Tb(t){return yb(t)?gO(t,!0):CK(t)}var iu=Xo(Object,"create");function xK(){this.__data__=iu?iu(null):{},this.size=0}function AK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var PK="__lodash_hash_undefined__",kK=Object.prototype,RK=kK.hasOwnProperty;function OK(t){var e=this.__data__;if(iu){var n=e[t];return n===PK?void 0:n}return RK.call(e,t)?e[t]:void 0}var DK=Object.prototype,MK=DK.hasOwnProperty;function NK(t){var e=this.__data__;return iu?e[t]!==void 0:MK.call(e,t)}var LK="__lodash_hash_undefined__";function VK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=iu&&e===void 0?LK:e,this}function Mo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Mo.prototype.clear=xK;Mo.prototype.delete=AK;Mo.prototype.get=OK;Mo.prototype.has=NK;Mo.prototype.set=VK;function FK(){this.__data__=[],this.size=0}function zg(t,e){for(var n=t.length;n--;)if(_b(t[n][0],e))return n;return-1}var BK=Array.prototype,$K=BK.splice;function UK(t){var e=this.__data__,n=zg(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():$K.call(e,n,1),--this.size,!0}function jK(t){var e=this.__data__,n=zg(e,t);return n<0?void 0:e[n][1]}function zK(t){return zg(this.__data__,t)>-1}function HK(t,e){var n=this.__data__,i=zg(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function qs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}qs.prototype.clear=FK;qs.prototype.delete=UK;qs.prototype.get=jK;qs.prototype.has=zK;qs.prototype.set=HK;var su=Xo(gs,"Map");function WK(){this.size=0,this.__data__={hash:new Mo,map:new(su||qs),string:new Mo}}function qK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Hg(t,e){var n=t.__data__;return qK(e)?n[typeof e=="string"?"string":"hash"]:n.map}function GK(t){var e=Hg(this,t).delete(t);return this.size-=e?1:0,e}function KK(t){return Hg(this,t).get(t)}function YK(t){return Hg(this,t).has(t)}function XK(t,e){var n=Hg(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Qo.prototype.clear=WK;Qo.prototype.delete=GK;Qo.prototype.get=KK;Qo.prototype.has=YK;Qo.prototype.set=XK;function vO(t,e){for(var n=-1,i=e.length,s=t.length;++n<i;)t[s+n]=e[n];return t}var QK=mO(Object.getPrototypeOf,Object);const _O=QK;function JK(){this.__data__=new qs,this.size=0}function ZK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function e8(t){return this.__data__.get(t)}function t8(t){return this.__data__.has(t)}var n8=200;function i8(t,e){var n=this.__data__;if(n instanceof qs){var i=n.__data__;if(!su||i.length<n8-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Qo(i)}return n.set(t,e),this.size=n.size,this}function Ds(t){var e=this.__data__=new qs(t);this.size=e.size}Ds.prototype.clear=JK;Ds.prototype.delete=ZK;Ds.prototype.get=e8;Ds.prototype.has=t8;Ds.prototype.set=i8;function s8(t,e){return t&&Ug(e,Sb(e),t)}function r8(t,e){return t&&Ug(e,Tb(e),t)}var yO=typeof Yn=="object"&&Yn&&!Yn.nodeType&&Yn,DE=yO&&typeof Xn=="object"&&Xn&&!Xn.nodeType&&Xn,o8=DE&&DE.exports===yO,ME=o8?gs.Buffer:void 0,NE=ME?ME.allocUnsafe:void 0;function a8(t,e){if(e)return t.slice();var n=t.length,i=NE?NE(n):new t.constructor(n);return t.copy(i),i}function l8(t,e){for(var n=-1,i=t==null?0:t.length,s=0,r=[];++n<i;){var o=t[n];e(o,n,t)&&(r[s++]=o)}return r}function bO(){return[]}var c8=Object.prototype,u8=c8.propertyIsEnumerable,LE=Object.getOwnPropertySymbols,Eb=LE?function(t){return t==null?[]:(t=Object(t),l8(LE(t),function(e){return u8.call(t,e)}))}:bO;function h8(t,e){return Ug(t,Eb(t),e)}var d8=Object.getOwnPropertySymbols,wO=d8?function(t){for(var e=[];t;)vO(e,Eb(t)),t=_O(t);return e}:bO;function f8(t,e){return Ug(t,wO(t),e)}function SO(t,e,n){var i=e(t);return Ka(t)?i:vO(i,n(t))}function Rv(t){return SO(t,Sb,Eb)}function g8(t){return SO(t,Tb,wO)}var Ov=Xo(gs,"DataView"),Dv=Xo(gs,"Promise"),Mv=Xo(gs,"Set"),VE="[object Map]",m8="[object Object]",FE="[object Promise]",BE="[object Set]",$E="[object WeakMap]",UE="[object DataView]",p8=Yo(Ov),v8=Yo(su),_8=Yo(Dv),y8=Yo(Mv),b8=Yo(kv),Zr=zu;(Ov&&Zr(new Ov(new ArrayBuffer(1)))!=UE||su&&Zr(new su)!=VE||Dv&&Zr(Dv.resolve())!=FE||Mv&&Zr(new Mv)!=BE||kv&&Zr(new kv)!=$E)&&(Zr=function(t){var e=zu(t),n=e==m8?t.constructor:void 0,i=n?Yo(n):"";if(i)switch(i){case p8:return UE;case v8:return VE;case _8:return FE;case y8:return BE;case b8:return $E}return e});const Xa=Zr;var w8=Object.prototype,S8=w8.hasOwnProperty;function T8(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&S8.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var nf=gs.Uint8Array;function Ib(t){var e=new t.constructor(t.byteLength);return new nf(e).set(new nf(t)),e}function E8(t,e){var n=e?Ib(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var I8=/\w*$/;function C8(t){var e=new t.constructor(t.source,I8.exec(t));return e.lastIndex=t.lastIndex,e}var jE=kr?kr.prototype:void 0,zE=jE?jE.valueOf:void 0;function x8(t){return zE?Object(zE.call(t)):{}}function A8(t,e){var n=e?Ib(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var P8="[object Boolean]",k8="[object Date]",R8="[object Map]",O8="[object Number]",D8="[object RegExp]",M8="[object Set]",N8="[object String]",L8="[object Symbol]",V8="[object ArrayBuffer]",F8="[object DataView]",B8="[object Float32Array]",$8="[object Float64Array]",U8="[object Int8Array]",j8="[object Int16Array]",z8="[object Int32Array]",H8="[object Uint8Array]",W8="[object Uint8ClampedArray]",q8="[object Uint16Array]",G8="[object Uint32Array]";function K8(t,e,n){var i=t.constructor;switch(e){case V8:return Ib(t);case P8:case k8:return new i(+t);case F8:return E8(t,n);case B8:case $8:case U8:case j8:case z8:case H8:case W8:case q8:case G8:return A8(t,n);case R8:return new i;case O8:case N8:return new i(t);case D8:return C8(t);case M8:return new i;case L8:return x8(t)}}function Y8(t){return typeof t.constructor=="function"&&!jg(t)?xG(_O(t)):{}}var X8="[object Map]";function Q8(t){return Do(t)&&Xa(t)==X8}var HE=Ya&&Ya.isMap,J8=HE?bb(HE):Q8,Z8="[object Set]";function eY(t){return Do(t)&&Xa(t)==Z8}var WE=Ya&&Ya.isSet,tY=WE?bb(WE):eY,nY=1,iY=2,sY=4,TO="[object Arguments]",rY="[object Array]",oY="[object Boolean]",aY="[object Date]",lY="[object Error]",EO="[object Function]",cY="[object GeneratorFunction]",uY="[object Map]",hY="[object Number]",IO="[object Object]",dY="[object RegExp]",fY="[object Set]",gY="[object String]",mY="[object Symbol]",pY="[object WeakMap]",vY="[object ArrayBuffer]",_Y="[object DataView]",yY="[object Float32Array]",bY="[object Float64Array]",wY="[object Int8Array]",SY="[object Int16Array]",TY="[object Int32Array]",EY="[object Uint8Array]",IY="[object Uint8ClampedArray]",CY="[object Uint16Array]",xY="[object Uint32Array]",lt={};lt[TO]=lt[rY]=lt[vY]=lt[_Y]=lt[oY]=lt[aY]=lt[yY]=lt[bY]=lt[wY]=lt[SY]=lt[TY]=lt[uY]=lt[hY]=lt[IO]=lt[dY]=lt[fY]=lt[gY]=lt[mY]=lt[EY]=lt[IY]=lt[CY]=lt[xY]=!0;lt[lY]=lt[EO]=lt[pY]=!1;function Jh(t,e,n,i,s,r){var o,a=e&nY,l=e&iY,c=e&sY;if(n&&(o=s?n(t,i,s,r):n(t)),o!==void 0)return o;if(!Hu(t))return t;var u=Ka(t);if(u){if(o=T8(t),!a)return AG(t,o)}else{var h=Xa(t),d=h==EO||h==cY;if(nu(t))return a8(t,a);if(h==IO||h==TO||d&&!s){if(o=l||d?{}:Y8(t),!a)return l?f8(t,r8(o,t)):h8(t,s8(o,t))}else{if(!lt[h])return s?t:{};o=K8(t,h,a)}}r||(r=new Ds);var f=r.get(t);if(f)return f;r.set(t,o),tY(t)?t.forEach(function(p){o.add(Jh(p,e,n,p,t,r))}):J8(t)&&t.forEach(function(p,v){o.set(v,Jh(p,e,n,v,t,r))});var g=c?l?g8:Rv:l?Tb:Sb,m=u?void 0:g(t);return PG(m||t,function(p,v){m&&(v=p,p=t[v]),lO(o,v,Jh(p,e,n,v,t,r))}),o}var AY=1,PY=4;function Nl(t){return Jh(t,AY|PY)}var kY="__lodash_hash_undefined__";function RY(t){return this.__data__.set(t,kY),this}function OY(t){return this.__data__.has(t)}function sf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Qo;++e<n;)this.add(t[e])}sf.prototype.add=sf.prototype.push=RY;sf.prototype.has=OY;function DY(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function MY(t,e){return t.has(e)}var NY=1,LY=2;function CO(t,e,n,i,s,r){var o=n&NY,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(t),u=r.get(e);if(c&&u)return c==e&&u==t;var h=-1,d=!0,f=n&LY?new sf:void 0;for(r.set(t,e),r.set(e,t);++h<a;){var g=t[h],m=e[h];if(i)var p=o?i(m,g,h,e,t,r):i(g,m,h,t,e,r);if(p!==void 0){if(p)continue;d=!1;break}if(f){if(!DY(e,function(v,y){if(!MY(f,y)&&(g===v||s(g,v,n,i,r)))return f.push(y)})){d=!1;break}}else if(!(g===m||s(g,m,n,i,r))){d=!1;break}}return r.delete(t),r.delete(e),d}function VY(t){var e=-1,n=Array(t.size);return t.forEach(function(i,s){n[++e]=[s,i]}),n}function FY(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var BY=1,$Y=2,UY="[object Boolean]",jY="[object Date]",zY="[object Error]",HY="[object Map]",WY="[object Number]",qY="[object RegExp]",GY="[object Set]",KY="[object String]",YY="[object Symbol]",XY="[object ArrayBuffer]",QY="[object DataView]",qE=kr?kr.prototype:void 0,np=qE?qE.valueOf:void 0;function JY(t,e,n,i,s,r,o){switch(n){case QY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case XY:return!(t.byteLength!=e.byteLength||!r(new nf(t),new nf(e)));case UY:case jY:case WY:return _b(+t,+e);case zY:return t.name==e.name&&t.message==e.message;case qY:case KY:return t==e+"";case HY:var a=VY;case GY:var l=i&BY;if(a||(a=FY),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=$Y,o.set(t,e);var u=CO(a(t),a(e),i,s,r,o);return o.delete(t),u;case YY:if(np)return np.call(t)==np.call(e)}return!1}var ZY=1,e7=Object.prototype,t7=e7.hasOwnProperty;function n7(t,e,n,i,s,r){var o=n&ZY,a=Rv(t),l=a.length,c=Rv(e),u=c.length;if(l!=u&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:t7.call(e,d)))return!1}var f=r.get(t),g=r.get(e);if(f&&g)return f==e&&g==t;var m=!0;r.set(t,e),r.set(e,t);for(var p=o;++h<l;){d=a[h];var v=t[d],y=e[d];if(i)var w=o?i(y,v,d,e,t,r):i(v,y,d,t,e,r);if(!(w===void 0?v===y||s(v,y,n,i,r):w)){m=!1;break}p||(p=d=="constructor")}if(m&&!p){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(m=!1)}return r.delete(t),r.delete(e),m}var i7=1,GE="[object Arguments]",KE="[object Array]",Mh="[object Object]",s7=Object.prototype,YE=s7.hasOwnProperty;function r7(t,e,n,i,s,r){var o=Ka(t),a=Ka(e),l=o?KE:Xa(t),c=a?KE:Xa(e);l=l==GE?Mh:l,c=c==GE?Mh:c;var u=l==Mh,h=c==Mh,d=l==c;if(d&&nu(t)){if(!nu(e))return!1;o=!0,u=!1}if(d&&!u)return r||(r=new Ds),o||wb(t)?CO(t,e,n,i,s,r):JY(t,e,l,n,i,s,r);if(!(n&i7)){var f=u&&YE.call(t,"__wrapped__"),g=h&&YE.call(e,"__wrapped__");if(f||g){var m=f?t.value():t,p=g?e.value():e;return r||(r=new Ds),s(m,p,n,i,r)}}return d?(r||(r=new Ds),n7(t,e,n,i,s,r)):!1}function xO(t,e,n,i,s){return t===e?!0:t==null||e==null||!Do(t)&&!Do(e)?t!==t&&e!==e:r7(t,e,n,i,xO,s)}var o7="[object Map]",a7="[object Set]",l7=Object.prototype,c7=l7.hasOwnProperty;function u7(t){if(t==null)return!0;if(yb(t)&&(Ka(t)||typeof t=="string"||typeof t.splice=="function"||nu(t)||wb(t)||hO(t)))return!t.length;var e=Xa(t);if(e==o7||e==a7)return!t.size;if(jg(t))return!pO(t).length;for(var n in t)if(c7.call(t,n))return!1;return!0}function XE(t,e){return xO(t,e)}var h7=Object.defineProperty,d7=Object.defineProperties,f7=Object.getOwnPropertyDescriptors,QE=Object.getOwnPropertySymbols,g7=Object.prototype.hasOwnProperty,m7=Object.prototype.propertyIsEnumerable,JE=(t,e,n)=>e in t?h7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p7=(t,e)=>{for(var n in e||(e={}))g7.call(e,n)&&JE(t,n,e[n]);if(QE)for(var n of QE(e))m7.call(e,n)&&JE(t,n,e[n]);return t},v7=(t,e)=>d7(t,f7(e));function _7(t){return(t.match(/[a-zA-Z0-9]+/g)||[]).map(e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`).join("")}var jr=(t,e)=>{const n={chartData:{type:Object,required:!0},options:{type:Object,required:!1},chartId:{default:t,type:String},width:{default:400,type:Number},height:{default:400,type:Number},cssClasses:{type:String,default:""},styles:{type:Object},plugins:{type:Array,default:()=>[]},onLabelsUpdate:{type:Function},onChartUpdate:{type:Function},onChartDestroy:{type:Function},onChartRender:{type:Function}},i=_7(t);return cs({name:i,props:n,emits:{"labels:update":()=>!0,"chart:update":s=>!0,"chart:destroy":()=>!0,"chart:render":s=>!0},setup(s,{emit:r,expose:o}){const a=ae(null),l=`${s.chartId}`;let c=fe(null);ve(()=>s.chartData,u,{deep:!0}),ve(()=>s.options,p=>{c.value&&p&&(c.value.options=Nl(p),g())},{deep:!0});function u(p){if(c.value){let v=c.value;XE(p.labels,c.value.data.labels)||(v.data.labels=p.labels,d()),XE(p.datasets,c.value.data.datasets)||p.datasets.forEach((y,w)=>{var b,S;if(u7(y))v.data.datasets=[];else{const E=Nl(v.data),T=Object.keys((S=(b=E.datasets)==null?void 0:b[w])!=null?S:{}),C=Object.keys(y);T.filter(R=>R!=="_meta"&&C.indexOf(R)===-1).forEach(R=>{v.data.datasets[w]&&delete v.data.datasets[w][R]});for(const R in y){const D=Nl(y[R]);v.data.datasets[w]||(v.data.datasets[w]={}),y.hasOwnProperty(R)&&D!=null&&v&&(v.data.datasets[w][R]=D)}}}),g()}else c.value&&m(),h()}function h(){a.value?(c.value=new $u(a.value,{data:Nl(s.chartData),type:e,options:Nl(s.options),plugins:s.plugins}),f()):console.error(`Error on component ${i}, canvas cannot be rendered. Check if the render appends server-side`)}function d(){r("labels:update"),s.onLabelsUpdate&&s.onLabelsUpdate()}function f(){c.value&&(r("chart:render",c.value),s.onChartRender&&s.onChartRender(c.value))}function g(){c.value&&(c.value.update(),r("chart:update",c.value),s.onChartUpdate&&s.onChartUpdate(c.value))}function m(){c.value&&c.value.destroy(),r("chart:destroy"),s.onChartDestroy&&s.onChartDestroy()}return _i(h),Sn(()=>{c.value&&c.value.destroy()}),o({canvasRef:a,renderChart:h,chartInstance:c,canvasId:l,update:g}),()=>fi("div",{style:v7(p7({maxWidth:"100%"},s.styles),{position:"relative"}),class:s.cssClasses},[fi("canvas",{style:{maxWidth:"100%",maxHeight:"100%"},id:l,width:s.width,height:s.height,ref:a})])}})};jr("bar-chart","bar");var AO=jr("doughnut-chart","doughnut");jr("line-chart","line");jr("pie-chart","pie");jr("polar-chart","polarArea");jr("radar-chart","radar");jr("bubble-chart","bubble");jr("scatter-chart","scatter");$u.register(...iO);const y7=cs({name:"Encuesta",computed:{},data:()=>({preguntas:f5,puntos:new Map,total:new Map([[0,0],[1,0],[2,0]]),testData:{labels:["No saludable","Neutro","Saludable"],datasets:[{data:[0,0,0],backgroundColor:["rgba(195,64,81,0.98)","#46b0dd","#59af5e"]}]},respuestas:[],rules:[t=>t?!0:"No puede estar vacío"],respuestas0:void 0,respuestas1:void 0,respuestas2:void 0,respuestas3:void 0,respuestas4:void 0,respuestas5:void 0,respuestas6:void 0,respuestas7:void 0,respuestas8:void 0,respuestas9:void 0,showQuestions:!1,showDonut:!1,user:void 0,userUID:void 0}),mounted(){this.fillUser()},components:{DoughnutChart:AO},methods:{useRoute:Ed,async fillUser(){this.userUID=li.get("app_uid");const t=_r(yr,"alumnos",this.userUID),e=(await yg(t)).data();this.user=e,console.log(e),e.encuesta1?(this.testData.datasets[0].data[0]=e.encuesta1[0],this.testData.datasets[0].data[1]=e.encuesta1[1],this.testData.datasets[0].data[2]=e.encuesta1[2],this.showDonut=!0,this.showQuestions=!1):(this.showDonut=!1,this.showQuestions=!0),console.log(e)},async resetForm(){const t=_r(yr,"alumnos",this.userUID);await Zk(t,{encuesta1:tR()}),this.fillUser()},async submit(){this.total=0;for(const e of this.puntos.values())this.testData.datasets[0].data[e]+=1;const t=_r(yr,"alumnos",this.userUID);await Jk(t,{encuesta1:{0:this.testData.datasets[0].data[0],1:this.testData.datasets[0].data[1],2:this.testData.datasets[0].data[2]}},{merge:!0}),this.showQuestions=!1,this.showDonut=!0},cambiarPuntos(t,e,n){this.puntos.set(n,t.respuestas.find(i=>e==i.titulo).puntos)}}}),PO=Symbol.for("vuetify:selection-control-group"),kO=j({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:ze,trueIcon:ze,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Or},...xe(),...$n(),...Et()},"SelectionControlGroup"),b7=j({...kO({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");he()({name:"VSelectionControlGroup",props:b7(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ze(t,"modelValue"),s=Ni(),r=I(()=>t.id||`v-selection-control-group-${s}`),o=I(()=>t.name||r.value),a=new Set;return ht(PO,{modelValue:i,forceUpdate:()=>{a.forEach(l=>l())},onForceUpdate:l=>{a.add(l),Bn(()=>{a.delete(l)})}}),gi({[t.defaultsTarget]:{color:ne(t,"color"),disabled:ne(t,"disabled"),density:ne(t,"density"),error:ne(t,"error"),inline:ne(t,"inline"),modelValue:i,multiple:I(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:o,falseIcon:ne(t,"falseIcon"),trueIcon:ne(t,"trueIcon"),readonly:ne(t,"readonly"),ripple:ne(t,"ripple"),type:ne(t,"type"),valueComparator:ne(t,"valueComparator")}}),be(()=>{var l;return _("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}});const RO=j({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...xe(),...kO()},"VSelectionControl");function w7(t){const e=Ve(PO,void 0),{densityClasses:n}=bi(t),i=Ze(t,"modelValue"),s=I(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),r=I(()=>t.falseValue!==void 0?t.falseValue:!1),o=I(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),a=I({get(){const f=e?e.modelValue.value:i.value;return o.value?Dn(f).some(g=>t.valueComparator(g,s.value)):t.valueComparator(f,s.value)},set(f){if(t.readonly)return;const g=f?s.value:r.value;let m=g;o.value&&(m=f?[...Dn(i.value),g]:Dn(i.value).filter(p=>!t.valueComparator(p,s.value))),e?e.modelValue.value=m:i.value=m}}),{textColorClasses:l,textColorStyles:c}=Di(I(()=>{if(!(t.error||t.disabled))return a.value?t.color:t.baseColor})),{backgroundColorClasses:u,backgroundColorStyles:h}=mi(I(()=>a.value&&!t.error&&!t.disabled?t.color:void 0)),d=I(()=>a.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:s,falseValue:r,model:a,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:h,icon:d}}const ZE=he()({name:"VSelectionControl",directives:{Ripple:Ou},inheritAttrs:!1,props:RO(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:s,densityClasses:r,icon:o,model:a,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:h,trueValue:d}=w7(t),f=Ni(),g=fe(!1),m=fe(!1),p=ae(),v=I(()=>t.id||`input-${f}`),y=I(()=>!t.disabled&&!t.readonly);s==null||s.onForceUpdate(()=>{p.value&&(p.value.checked=a.value)});function w(T){y.value&&(g.value=!0,_d(T.target,":focus-visible")!==!1&&(m.value=!0))}function b(){g.value=!1,m.value=!1}function S(T){T.stopPropagation()}function E(T){y.value&&(t.readonly&&s&&$t(()=>s.forceUpdate()),a.value=T.target.checked)}return be(()=>{var D,k;const T=i.label?i.label({label:t.label,props:{for:v.value}}):t.label,[C,P]=Vx(n),R=_("input",Se({ref:p,checked:a.value,disabled:!!t.disabled,id:v.value,onBlur:b,onFocus:w,onInput:E,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:d.value,name:t.name,"aria-checked":t.type==="checkbox"?a.value:void 0},P),null);return _("div",Se({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":g.value,"v-selection-control--focus-visible":m.value,"v-selection-control--inline":t.inline},r.value,t.class]},C,{style:t.style}),[_("div",{class:["v-selection-control__wrapper",l.value],style:c.value},[(D=i.default)==null?void 0:D.call(i,{backgroundColorClasses:u,backgroundColorStyles:h}),xn(_("div",{class:["v-selection-control__input"]},[((k=i.input)==null?void 0:k.call(i,{model:a,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:h,inputNode:R,icon:o.value,props:{onFocus:w,onBlur:b,id:v.value}}))??_(Oe,null,[o.value&&_(Ft,{key:"icon",icon:o.value},null),R])]),[[$s("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),T&&_($R,{for:v.value,onClick:S},{default:()=>[T]})])}),{isFocused:g,input:p}}}),S7=j({indeterminate:Boolean,indeterminateIcon:{type:ze,default:"$checkboxIndeterminate"},...RO({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Wg=he()({name:"VCheckboxBtn",props:S7(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=Ze(t,"indeterminate"),s=Ze(t,"modelValue");function r(l){i.value&&(i.value=!1)}const o=I(()=>i.value?t.indeterminateIcon:t.falseIcon),a=I(()=>i.value?t.indeterminateIcon:t.trueIcon);return be(()=>{const l=zo(ZE.filterProps(t),["modelValue"]);return _(ZE,Se(l,{modelValue:s.value,"onUpdate:modelValue":[c=>s.value=c,r],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:o.value,trueIcon:a.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}}),OO=Symbol.for("vuetify:v-chip-group"),T7=j({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Or},...Zy(),...xe(),...Hy({selectedClass:"v-chip--selected"}),...at(),...Et(),...fs({variant:"tonal"})},"VChipGroup");he()({name:"VChipGroup",props:T7(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Mt(t),{isSelected:s,select:r,next:o,prev:a,selected:l}=bg(t,OO);return gi({VChip:{color:ne(t,"color"),disabled:ne(t,"disabled"),filter:ne(t,"filter"),variant:ne(t,"variant")}}),be(()=>{const c=Wd.filterProps(t);return _(Wd,Se(c,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:s,select:r,next:o,prev:a,selected:l.value})]}})}),{}}});const E7=j({activeClass:String,appendAvatar:String,appendIcon:ze,closable:Boolean,closeIcon:{type:ze,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ze,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Mn(),onClickOnce:Mn(),...Hs(),...xe(),...$n(),...ds(),...Wy(),...Un(),...Cg(),...gl(),...at({tag:"span"}),...Et(),...fs({variant:"tonal"})},"VChip"),I7=he()({name:"VChip",directives:{Ripple:Ou},props:E7(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=js(),{borderClasses:o}=Vr(t),{colorClasses:a,colorStyles:l,variantClasses:c}=fl(t),{densityClasses:u}=bi(t),{elevationClasses:h}=Ws(t),{roundedClasses:d}=ei(t),{sizeClasses:f}=Ru(t),{themeClasses:g}=Mt(t),m=Ze(t,"modelValue"),p=qy(t,OO,!1),v=Ig(t,n),y=I(()=>t.link!==!1&&v.isLink.value),w=I(()=>!t.disabled&&t.link!==!1&&(!!p||t.link||v.isClickable.value)),b=I(()=>({"aria-label":r(t.closeLabel),onClick(T){T.stopPropagation(),m.value=!1,i("click:close",T)}}));function S(T){var C;i("click",T),w.value&&((C=v.navigate)==null||C.call(v,T),p==null||p.toggle())}function E(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),S(T))}return()=>{const T=v.isLink.value?"a":t.tag,C=!!(t.appendIcon||t.appendAvatar),P=!!(C||s.append),R=!!(s.close||t.closable),D=!!(s.filter||t.filter)&&p,k=!!(t.prependIcon||t.prependAvatar),O=!!(k||s.prepend),V=!p||p.isSelected.value;return m.value&&xn(_(T,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":w.value,"v-chip--filter":D,"v-chip--pill":t.pill},g.value,o.value,V?a.value:void 0,u.value,h.value,d.value,f.value,c.value,p==null?void 0:p.selectedClass.value,t.class],style:[V?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,href:v.href.value,tabindex:w.value?0:void 0,onClick:S,onKeydown:w.value&&!y.value&&E},{default:()=>{var B;return[dl(w.value,"v-chip"),D&&_(BR,{key:"filter"},{default:()=>[xn(_("div",{class:"v-chip__filter"},[s.filter?_(Ct,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},s.filter):_(Ft,{key:"filter-icon",icon:t.filterIcon},null)]),[[jo,p.isSelected.value]])]}),O&&_("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?_(Ct,{key:"prepend-defaults",disabled:!k,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},s.prepend):_(Oe,null,[t.prependIcon&&_(Ft,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&_(ko,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),_("div",{class:"v-chip__content","data-no-activator":""},[((B=s.default)==null?void 0:B.call(s,{isSelected:p==null?void 0:p.isSelected.value,selectedClass:p==null?void 0:p.selectedClass.value,select:p==null?void 0:p.select,toggle:p==null?void 0:p.toggle,value:p==null?void 0:p.value.value,disabled:t.disabled}))??t.text]),P&&_("div",{key:"append",class:"v-chip__append"},[s.append?_(Ct,{key:"append-defaults",disabled:!C,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},s.append):_(Oe,null,[t.appendIcon&&_(Ft,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&_(ko,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),R&&_("button",Se({key:"close",class:"v-chip__close",type:"button"},b.value),[s.close?_(Ct,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},s.close):_(Ft,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[$s("ripple"),w.value&&t.ripple,null]])}}}),Nv=Symbol.for("vuetify:list");function DO(){const t=Ve(Nv,{hasPrepend:fe(!1),updateHasPrepend:()=>null}),e={hasPrepend:fe(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return ht(Nv,e),t}function MO(){return Ve(Nv,null)}const Cb=t=>{const e={activate:n=>{let{id:i,value:s,activated:r}=n;return i=Ce(i),t&&!s&&r.size===1&&r.has(i)||(s?r.add(i):r.delete(i)),r},in:(n,i,s)=>{let r=new Set;for(const o of n||[])r=e.activate({id:o,value:!0,activated:new Set(r),children:i,parents:s});return r},out:n=>Array.from(n)};return e},NO=t=>{const e=Cb(t);return{activate:i=>{let{activated:s,id:r,...o}=i;r=Ce(r);const a=s.has(r)?new Set([r]):new Set;return e.activate({...o,id:r,activated:a})},in:(i,s,r)=>{let o=new Set;return i!=null&&i.length&&(o=e.in(i.slice(0,1),s,r)),o},out:(i,s,r)=>e.out(i,s,r)}},C7=t=>{const e=Cb(t);return{activate:i=>{let{id:s,activated:r,children:o,...a}=i;return s=Ce(s),o.has(s)?r:e.activate({id:s,activated:r,children:o,...a})},in:e.in,out:e.out}},x7=t=>{const e=NO(t);return{activate:i=>{let{id:s,activated:r,children:o,...a}=i;return s=Ce(s),o.has(s)?r:e.activate({id:s,activated:r,children:o,...a})},in:e.in,out:e.out}},A7={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let o=s.get(e);for(;o!=null;)r.add(o),o=s.get(o);return r}else return i.delete(e),i},select:()=>null},LO={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},P7={open:LO.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let o=s.get(e);for(;o!=null;)r.push(o),o=s.get(o);return new Set(r)}},xb=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=Ce(i),t&&!s){const o=Array.from(r.entries()).reduce((a,l)=>{let[c,u]=l;return u==="on"&&a.push(c),a},[]);if(o.length===1&&o[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{let r=new Map;for(const o of n||[])r=e.select({id:o,value:!0,selected:new Map(r),children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},VO=t=>{const e=xb(t);return{select:i=>{let{selected:s,id:r,...o}=i;r=Ce(r);const a=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...o,id:r,selected:a})},in:(i,s,r)=>{let o=new Map;return i!=null&&i.length&&(o=e.in(i.slice(0,1),s,r)),o},out:(i,s,r)=>e.out(i,s,r)}},k7=t=>{const e=xb(t);return{select:i=>{let{id:s,selected:r,children:o,...a}=i;return s=Ce(s),o.has(s)?r:e.select({id:s,selected:r,children:o,...a})},in:e.in,out:e.out}},R7=t=>{const e=VO(t);return{select:i=>{let{id:s,selected:r,children:o,...a}=i;return s=Ce(s),o.has(s)?r:e.select({id:s,selected:r,children:o,...a})},in:e.in,out:e.out}},O7=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:o,parents:a}=n;i=Ce(i);const l=new Map(r),c=[i];for(;c.length;){const h=c.shift();r.set(h,s?"on":"off"),o.has(h)&&c.push(...o.get(h))}let u=a.get(i);for(;u;){const h=o.get(u),d=h.every(g=>r.get(g)==="on"),f=h.every(g=>!r.has(g)||r.get(g)==="off");r.set(u,d?"on":f?"off":"indeterminate"),u=a.get(u)}return t&&!s&&Array.from(r.entries()).reduce((d,f)=>{let[g,m]=f;return m==="on"&&d.push(g),d},[]).length===0?l:r},in:(n,i,s)=>{let r=new Map;for(const o of n||[])r=e.select({id:o,value:!0,selected:new Map(r),children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,o]of n.entries())o==="on"&&!i.has(r)&&s.push(r);return s}};return e},ru=Symbol.for("vuetify:nested"),FO={id:fe(),root:{register:()=>null,unregister:()=>null,parents:ae(new Map),children:ae(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:ae(!1),selectable:ae(!1),opened:ae(new Set),activated:ae(new Set),selected:ae(new Map),selectedValues:ae([])}},D7=j({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function],selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,activated:Array,selected:Array,mandatory:Boolean},"nested"),M7=t=>{let e=!1;const n=ae(new Map),i=ae(new Map),s=Ze(t,"opened",t.opened,f=>new Set(f),f=>[...f.values()]),r=I(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;switch(t.activeStrategy){case"leaf":return C7(t.mandatory);case"single-leaf":return x7(t.mandatory);case"independent":return Cb(t.mandatory);case"single-independent":default:return NO(t.mandatory)}}),o=I(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return R7(t.mandatory);case"leaf":return k7(t.mandatory);case"independent":return xb(t.mandatory);case"single-independent":return VO(t.mandatory);case"classic":default:return O7(t.mandatory)}}),a=I(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return P7;case"single":return A7;case"multiple":default:return LO}}),l=Ze(t,"activated",t.activated,f=>r.value.in(f,n.value,i.value),f=>r.value.out(f,n.value,i.value)),c=Ze(t,"selected",t.selected,f=>o.value.in(f,n.value,i.value),f=>o.value.out(f,n.value,i.value));Sn(()=>{e=!0});function u(f){const g=[];let m=f;for(;m!=null;)g.unshift(m),m=i.value.get(m);return g}const h=Dt("nested"),d={id:fe(),root:{opened:s,activatable:ne(t,"activatable"),selectable:ne(t,"selectable"),activated:l,selected:c,selectedValues:I(()=>{const f=[];for(const[g,m]of c.value.entries())m==="on"&&f.push(g);return f}),register:(f,g,m)=>{g&&f!==g&&i.value.set(f,g),m&&n.value.set(f,[]),g!=null&&n.value.set(g,[...n.value.get(g)||[],f])},unregister:f=>{if(e)return;n.value.delete(f);const g=i.value.get(f);if(g){const m=n.value.get(g)??[];n.value.set(g,m.filter(p=>p!==f))}i.value.delete(f),s.value.delete(f)},open:(f,g,m)=>{h.emit("click:open",{id:f,value:g,path:u(f),event:m});const p=a.value.open({id:f,value:g,opened:new Set(s.value),children:n.value,parents:i.value,event:m});p&&(s.value=p)},openOnSelect:(f,g,m)=>{const p=a.value.select({id:f,value:g,selected:new Map(c.value),opened:new Set(s.value),children:n.value,parents:i.value,event:m});p&&(s.value=p)},select:(f,g,m)=>{h.emit("click:select",{id:f,value:g,path:u(f),event:m});const p=o.value.select({id:f,value:g,selected:new Map(c.value),children:n.value,parents:i.value,event:m});p&&(c.value=p),d.root.openOnSelect(f,g,m)},activate:(f,g,m)=>{if(!t.activatable)return d.root.select(f,!0,m);h.emit("click:activate",{id:f,value:g,path:u(f),event:m});const p=r.value.activate({id:f,value:g,activated:new Set(l.value),children:n.value,parents:i.value,event:m});p&&(l.value=p)},children:n,parents:i}};return ht(ru,d),d.root},BO=(t,e)=>{const n=Ve(ru,FO),i=Symbol(Ni()),s=I(()=>t.value!==void 0?t.value:i),r={...n,id:s,open:(o,a)=>n.root.open(s.value,o,a),openOnSelect:(o,a)=>n.root.openOnSelect(s.value,o,a),isOpen:I(()=>n.root.opened.value.has(s.value)),parent:I(()=>n.root.parents.value.get(s.value)),activate:(o,a)=>n.root.activate(s.value,o,a),isActivated:I(()=>n.root.activated.value.has(Ce(s.value))),select:(o,a)=>n.root.select(s.value,o,a),isSelected:I(()=>n.root.selected.value.get(Ce(s.value))==="on"),isIndeterminate:I(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:I(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(s.value,n.id.value,e),Sn(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&ht(ru,r),r},N7=()=>{const t=Ve(ru,FO);ht(ru,{...t,isGroupActivator:!0})},L7=nl({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return N7(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),V7=j({activeColor:String,baseColor:String,color:String,collapseIcon:{type:ze,default:"$collapse"},expandIcon:{type:ze,default:"$expand"},prependIcon:ze,appendIcon:ze,fluid:Boolean,subgroup:Boolean,title:String,value:null,...xe(),...at()},"VListGroup"),eI=he()({name:"VListGroup",props:V7(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=BO(ne(t,"value"),!0),o=I(()=>`v-list-group--id-${String(r.value)}`),a=MO(),{isBooted:l}=Lu();function c(f){s(!i.value,f)}const u=I(()=>({onClick:c,class:"v-list-group__header",id:o.value})),h=I(()=>i.value?t.collapseIcon:t.expandIcon),d=I(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&h.value,appendIcon:t.appendIcon||!t.subgroup&&h.value,title:t.title,value:t.value}}));return be(()=>_(t.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&_(Ct,{defaults:d.value},{default:()=>[_(L7,null,{default:()=>[n.activator({props:u.value,isOpen:i.value})]})]}),_(Es,{transition:{component:FR},disabled:!l.value},{default:()=>{var f;return[xn(_("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(f=n.default)==null?void 0:f.call(n)]),[[jo,i.value]])]}})]})),{isOpen:i}}}),F7=il("v-list-item-subtitle"),B7=il("v-list-item-title"),$7=j({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:ze,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:ze,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Mn(),onClickOnce:Mn(),...Hs(),...xe(),...$n(),...Fr(),...ds(),...Un(),...Cg(),...at(),...Et(),...fs({variant:"text"})},"VListItem"),hr=he()({name:"VListItem",directives:{Ripple:Ou},props:$7(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=Ig(t,n),o=I(()=>t.value===void 0?r.href.value:t.value),{activate:a,isActivated:l,select:c,isSelected:u,isIndeterminate:h,isGroupActivator:d,root:f,parent:g,openOnSelect:m}=BO(o,!1),p=MO(),v=I(()=>{var $;return t.active!==!1&&(t.active||(($=r.isActive)==null?void 0:$.value)||(f.activatable.value?l.value:u.value))}),y=I(()=>t.link!==!1&&r.isLink.value),w=I(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||!!p&&(f.selectable.value||f.activatable.value||t.value!=null))),b=I(()=>t.rounded||t.nav),S=I(()=>t.color??t.activeColor),E=I(()=>({color:v.value?S.value??t.baseColor:t.baseColor,variant:t.variant}));ve(()=>{var $;return($=r.isActive)==null?void 0:$.value},$=>{$&&g.value!=null&&f.open(g.value,!0),$&&m($)},{immediate:!0});const{themeClasses:T}=Mt(t),{borderClasses:C}=Vr(t),{colorClasses:P,colorStyles:R,variantClasses:D}=fl(E),{densityClasses:k}=bi(t),{dimensionStyles:O}=Br(t),{elevationClasses:V}=Ws(t),{roundedClasses:B}=ei(b),X=I(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),K=I(()=>({isActive:v.value,select:c,isSelected:u.value,isIndeterminate:h.value}));function L($){var W;s("click",$),!(d||!w.value)&&((W=r.navigate)==null||W.call(r,$),f.activatable.value?a(!l.value,$):(f.selectable.value||t.value!=null)&&c(!u.value,$))}function z($){($.key==="Enter"||$.key===" ")&&($.preventDefault(),L($))}return be(()=>{const $=y.value?"a":t.tag,W=i.title||t.title!=null,Y=i.subtitle||t.subtitle!=null,ce=!!(t.appendAvatar||t.appendIcon),ge=!!(ce||i.append),pe=!!(t.prependAvatar||t.prependIcon),me=!!(pe||i.prepend);return p==null||p.updateHasPrepend(me),t.activeColor&&tF("active-color",["color","base-color"]),xn(_($,{class:["v-list-item",{"v-list-item--active":v.value,"v-list-item--disabled":t.disabled,"v-list-item--link":w.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!me&&(p==null?void 0:p.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&v.value},T.value,C.value,P.value,k.value,V.value,X.value,B.value,D.value,t.class],style:[R.value,O.value,t.style],href:r.href.value,tabindex:w.value?p?-2:0:void 0,onClick:L,onKeydown:w.value&&!y.value&&z},{default:()=>{var N;return[dl(w.value||v.value,"v-list-item"),me&&_("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?_(Ct,{key:"prepend-defaults",disabled:!pe,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var Q;return[(Q=i.prepend)==null?void 0:Q.call(i,K.value)]}}):_(Oe,null,[t.prependAvatar&&_(ko,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&_(Ft,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),_("div",{class:"v-list-item__spacer"},null)]),_("div",{class:"v-list-item__content","data-no-activator":""},[W&&_(B7,{key:"title"},{default:()=>{var Q;return[((Q=i.title)==null?void 0:Q.call(i,{title:t.title}))??t.title]}}),Y&&_(F7,{key:"subtitle"},{default:()=>{var Q;return[((Q=i.subtitle)==null?void 0:Q.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(N=i.default)==null?void 0:N.call(i,K.value)]),ge&&_("div",{key:"append",class:"v-list-item__append"},[i.append?_(Ct,{key:"append-defaults",disabled:!ce,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var Q;return[(Q=i.append)==null?void 0:Q.call(i,K.value)]}}):_(Oe,null,[t.appendIcon&&_(Ft,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&_(ko,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),_("div",{class:"v-list-item__spacer"},null)])]}}),[[$s("ripple"),w.value&&t.ripple]])}),{isGroupActivator:d,isSelected:u,list:p,select:c}}}),U7=j({color:String,inset:Boolean,sticky:Boolean,title:String,...xe(),...at()},"VListSubheader"),j7=he()({name:"VListSubheader",props:U7(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Di(ne(t,"color"));return be(()=>{const r=!!(n.default||t.title);return _(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var o;return[r&&_("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??t.title])]}})}),{}}}),z7=j({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...xe(),...Et()},"VDivider"),qg=he()({name:"VDivider",props:z7(),setup(t,e){let{attrs:n}=e;const{themeClasses:i}=Mt(t),{textColorClasses:s,textColorStyles:r}=Di(ne(t,"color")),o=I(()=>{const a={};return t.length&&(a[t.vertical?"maxHeight":"maxWidth"]=_e(t.length)),t.thickness&&(a[t.vertical?"borderRightWidth":"borderTopWidth"]=_e(t.thickness)),a});return be(()=>_("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},i.value,s.value,t.class],style:[o.value,r.value,t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),H7=j({items:Array,returnObject:Boolean},"VListChildren"),$O=he()({name:"VListChildren",props:H7(),setup(t,e){let{slots:n}=e;return DO(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var d,f;let{children:o,props:a,type:l,raw:c}=r;if(l==="divider")return((d=n.divider)==null?void 0:d.call(n,{props:a}))??_(qg,a,null);if(l==="subheader")return((f=n.subheader)==null?void 0:f.call(n,{props:a}))??_(j7,a,null);const u={subtitle:n.subtitle?g=>{var m;return(m=n.subtitle)==null?void 0:m.call(n,{...g,item:c})}:void 0,prepend:n.prepend?g=>{var m;return(m=n.prepend)==null?void 0:m.call(n,{...g,item:c})}:void 0,append:n.append?g=>{var m;return(m=n.append)==null?void 0:m.call(n,{...g,item:c})}:void 0,title:n.title?g=>{var m;return(m=n.title)==null?void 0:m.call(n,{...g,item:c})}:void 0},h=eI.filterProps(a);return o?_(eI,Se({value:a==null?void 0:a.value},h),{activator:g=>{let{props:m}=g;const p={...a,...m,value:t.returnObject?c:a.value};return n.header?n.header({props:p}):_(hr,p,u)},default:()=>_($O,{items:o},n)}):n.item?n.item({props:a}):_(hr,Se(a,{value:t.returnObject?c:a.value}),u)}))}}}),UO=j({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Or}},"list-items");function Lv(t,e){const n=Pn(e,t.itemTitle,e),i=Pn(e,t.itemValue,n),s=Pn(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?zo(e,["children"]):e:void 0:Pn(e,t.itemProps),o={title:n,value:i,...r};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(s)?jO(t,s):void 0,raw:e}}function jO(t,e){const n=[];for(const i of e)n.push(Lv(t,i));return n}function W7(t){const e=I(()=>jO(t,t.items)),n=I(()=>e.value.some(r=>r.value===null));function i(r){return n.value||(r=r.filter(o=>o!==null)),r.map(o=>t.returnObject&&typeof o=="string"?Lv(t,o):e.value.find(a=>t.valueComparator(o,a.value))||Lv(t,o))}function s(r){return t.returnObject?r.map(o=>{let{raw:a}=o;return a}):r.map(o=>{let{value:a}=o;return a})}return{items:e,transformIn:i,transformOut:s}}function q7(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function G7(t,e){const n=Pn(e,t.itemType,"item"),i=q7(e)?e:Pn(e,t.itemTitle),s=Pn(e,t.itemValue,void 0),r=Pn(e,t.itemChildren),o=t.itemProps===!0?zo(e,["children"]):Pn(e,t.itemProps),a={title:i,value:s,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&r?zO(t,r):void 0,raw:e}}function zO(t,e){const n=[];for(const i of e)n.push(G7(t,i));return n}function K7(t){return{items:I(()=>zO(t,t.items))}}const Y7=j({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,...D7({selectStrategy:"single-leaf",openStrategy:"list"}),...Hs(),...xe(),...$n(),...Fr(),...ds(),itemType:{type:String,default:"type"},...UO(),...Un(),...at(),...Et(),...fs({variant:"text"})},"VList"),X7=he()({name:"VList",props:Y7(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=K7(t),{themeClasses:s}=Mt(t),{backgroundColorClasses:r,backgroundColorStyles:o}=mi(ne(t,"bgColor")),{borderClasses:a}=Vr(t),{densityClasses:l}=bi(t),{dimensionStyles:c}=Br(t),{elevationClasses:u}=Ws(t),{roundedClasses:h}=ei(t),{children:d,open:f,parents:g,select:m}=M7(t),p=I(()=>t.lines?`v-list--${t.lines}-line`:void 0),v=ne(t,"activeColor"),y=ne(t,"baseColor"),w=ne(t,"color");DO(),gi({VListGroup:{activeColor:v,baseColor:y,color:w,expandIcon:ne(t,"expandIcon"),collapseIcon:ne(t,"collapseIcon")},VListItem:{activeClass:ne(t,"activeClass"),activeColor:v,baseColor:y,color:w,density:ne(t,"density"),disabled:ne(t,"disabled"),lines:ne(t,"lines"),nav:ne(t,"nav"),slim:ne(t,"slim"),variant:ne(t,"variant")}});const b=fe(!1),S=ae();function E(k){b.value=!0}function T(k){b.value=!1}function C(k){var O;!b.value&&!(k.relatedTarget&&((O=S.value)!=null&&O.contains(k.relatedTarget)))&&D()}function P(k){if(S.value){if(k.key==="ArrowDown")D("next");else if(k.key==="ArrowUp")D("prev");else if(k.key==="Home")D("first");else if(k.key==="End")D("last");else return;k.preventDefault()}}function R(k){b.value=!0}function D(k){if(S.value)return vd(S.value,k)}return be(()=>_(t.tag,{ref:S,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},s.value,r.value,a.value,l.value,u.value,p.value,h.value,t.class],style:[o.value,c.value,t.style],tabindex:t.disabled||b.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:E,onFocusout:T,onFocus:C,onKeydown:P,onMousedown:R},{default:()=>[_($O,{items:i.value,returnObject:t.returnObject},n)]})),{open:f,select:m,focus:D,children:d,parents:g}}}),Q7=j({start:Boolean,end:Boolean,...xe(),...at()},"VListItemMedia"),J7=he()({name:"VListItemMedia",props:Q7(),setup(t,e){let{slots:n}=e;return be(()=>_(t.tag,{class:["v-list-item-media",{"v-list-item-media--start":t.start,"v-list-item-media--end":t.end},t.class],style:t.style},n)),{}}});function ip(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Z7(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tI(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return ip({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return ip({x:s,y:r},e)}return ip({x:e.width/2,y:e.height/2},e)}const HO={static:nX,connected:sX},eX=j({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in HO},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function tX(t,e){const n=ae({}),i=ae();yt&&xi(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var o,a;ve(()=>t.locationStrategy,r),Bn(()=>{window.removeEventListener("resize",s),i.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(o=t.locationStrategy(e,t,n))==null?void 0:o.updateLocation:i.value=(a=HO[t.locationStrategy](e,t,n))==null?void 0:a.updateLocation});function s(r){var o;(o=i.value)==null||o.call(i,r)}return{contentStyles:n,updateLocation:i}}function nX(){}function iX(t,e){e?t.style.removeProperty("left"):t.style.removeProperty("right");const n=M_(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function sX(t,e,n){(Array.isArray(t.target.value)||EF(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=D_(()=>{const g=xp(e.location,t.isRtl.value),m=e.origin==="overlap"?g:e.origin==="auto"?mm(g):xp(e.origin,t.isRtl.value);return g.side===m.side&&g.align===pm(m).align?{preferredAnchor:sw(g),preferredOrigin:sw(m)}:{preferredAnchor:g,preferredOrigin:m}}),[o,a,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>I(()=>{const m=parseFloat(e[g]);return isNaN(m)?1/0:m})),u=I(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const g=e.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let h=!1;const d=new ResizeObserver(()=>{h&&f()});ve([t.target,t.contentEl],(g,m)=>{let[p,v]=g,[y,w]=m;y&&!Array.isArray(y)&&d.unobserve(y),p&&!Array.isArray(p)&&d.observe(p),w&&d.unobserve(w),v&&d.observe(v)},{immediate:!0}),Bn(()=>{d.disconnect()});function f(){if(h=!1,requestAnimationFrame(()=>h=!0),!t.target.value||!t.contentEl.value)return;const g=zx(t.target.value),m=iX(t.contentEl.value,t.isRtl.value),p=bd(t.contentEl.value),v=12;p.length||(p.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(m.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),m.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const y=p.reduce((D,k)=>{const O=k.getBoundingClientRect(),V=new mo({x:k===document.documentElement?0:O.x,y:k===document.documentElement?0:O.y,width:k.clientWidth,height:k.clientHeight});return D?new mo({x:Math.max(D.left,V.left),y:Math.max(D.top,V.top),width:Math.min(D.right,V.right)-Math.max(D.left,V.left),height:Math.min(D.bottom,V.bottom)-Math.max(D.top,V.top)}):V},void 0);y.x+=v,y.y+=v,y.width-=v*2,y.height-=v*2;let w={anchor:s.value,origin:r.value};function b(D){const k=new mo(m),O=tI(D.anchor,g),V=tI(D.origin,k);let{x:B,y:X}=Z7(O,V);switch(D.anchor.side){case"top":X-=u.value[0];break;case"bottom":X+=u.value[0];break;case"left":B-=u.value[0];break;case"right":B+=u.value[0];break}switch(D.anchor.align){case"top":X-=u.value[1];break;case"bottom":X+=u.value[1];break;case"left":B-=u.value[1];break;case"right":B+=u.value[1];break}return k.x+=B,k.y+=X,k.width=Math.min(k.width,l.value),k.height=Math.min(k.height,c.value),{overflows:ow(k,y),x:B,y:X}}let S=0,E=0;const T={x:0,y:0},C={x:!1,y:!1};let P=-1;for(;!(P++>10);){const{x:D,y:k,overflows:O}=b(w);S+=D,E+=k,m.x+=D,m.y+=k;{const V=rw(w.anchor),B=O.x.before||O.x.after,X=O.y.before||O.y.after;let K=!1;if(["x","y"].forEach(L=>{if(L==="x"&&B&&!C.x||L==="y"&&X&&!C.y){const z={anchor:{...w.anchor},origin:{...w.origin}},$=L==="x"?V==="y"?pm:mm:V==="y"?mm:pm;z.anchor=$(z.anchor),z.origin=$(z.origin);const{overflows:W}=b(z);(W[L].before<=O[L].before&&W[L].after<=O[L].after||W[L].before+W[L].after<(O[L].before+O[L].after)/2)&&(w=z,K=C[L]=!0)}}),K)continue}O.x.before&&(S+=O.x.before,m.x+=O.x.before),O.x.after&&(S-=O.x.after,m.x-=O.x.after),O.y.before&&(E+=O.y.before,m.y+=O.y.before),O.y.after&&(E-=O.y.after,m.y-=O.y.after);{const V=ow(m,y);T.x=y.width-V.x.before-V.x.after,T.y=y.height-V.y.before-V.y.after,S+=V.x.before,m.x+=V.x.before,E+=V.y.before,m.y+=V.y.before}break}const R=rw(w.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${w.anchor.side} ${w.anchor.align}`,transformOrigin:`${w.origin.side} ${w.origin.align}`,top:_e(sp(E)),left:t.isRtl.value?void 0:_e(sp(S)),right:t.isRtl.value?_e(sp(-S)):void 0,minWidth:_e(R==="y"?Math.min(o.value,g.width):o.value),maxWidth:_e(nI(Ai(T.x,o.value===1/0?0:o.value,l.value))),maxHeight:_e(nI(Ai(T.y,a.value===1/0?0:a.value,c.value)))}),{available:T,contentBox:m}}return ve(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>f()),$t(()=>{const g=f();if(!g)return;const{available:m,contentBox:p}=g;p.height>m.y&&requestAnimationFrame(()=>{f(),requestAnimationFrame(()=>{f()})})}),{updateLocation:f}}function sp(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function nI(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Vv=!0;const rf=[];function rX(t){!Vv||rf.length?(rf.push(t),Fv()):(Vv=!1,t(),Fv())}let iI=-1;function Fv(){cancelAnimationFrame(iI),iI=requestAnimationFrame(()=>{const t=rf.shift();t&&t(),rf.length?Fv():Vv=!0})}const Zh={none:null,close:lX,block:cX,reposition:uX},oX=j({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in Zh}},"VOverlay-scroll-strategies");function aX(t,e){if(!yt)return;let n;Vn(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=If(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=Zh[t.scrollStrategy])==null||i.call(Zh,e,t,n)}))}),Bn(()=>{n==null||n.stop()})}function lX(t){function e(n){t.isActive.value=!1}WO(t.targetEl.value??t.contentEl.value,e)}function cX(t,e){var o;const n=(o=t.root.value)==null?void 0:o.offsetParent,i=[...new Set([...bd(t.targetEl.value,e.contained?n:void 0),...bd(t.contentEl.value,e.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(a=>V_(a)&&a)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",_e(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",_e(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",_e(s)),a.classList.add("v-overlay-scroll-blocked")}),Bn(()=>{i.forEach((a,l)=>{const c=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(a.style.getPropertyValue("--v-body-scroll-y")),h=a.style.scrollBehavior;a.style.scrollBehavior="auto",a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-c,a.scrollTop=-u,a.style.scrollBehavior=h}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function uX(t,e,n){let i=!1,s=-1,r=-1;function o(a){rX(()=>{var u,h;const l=performance.now();(h=(u=t.updateLocation).value)==null||h.call(u,a),i=(performance.now()-l)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{WO(t.targetEl.value??t.contentEl.value,a=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),Bn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function WO(t,e){const n=[document,...bd(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),Bn(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const Bv=Symbol.for("vuetify:v-menu"),hX=j({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function dX(t,e){let n=()=>{};function i(o){n==null||n();const a=Number(o?t.openDelay:t.closeDelay);return new Promise(l=>{n=zV(a,()=>{e==null||e(o),l(o)})})}function s(){return i(!0)}function r(){return i(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:r}}const fX=j({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...hX()},"VOverlay-activator");function gX(t,e){let{isActive:n,isTop:i}=e;const s=Dt("useActivator"),r=ae();let o=!1,a=!1,l=!0;const c=I(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),u=I(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!c.value),{runOpenDelay:h,runCloseDelay:d}=dX(t,T=>{T===(t.openOnHover&&o||c.value&&a)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==T&&(l=!0),n.value=T)}),f=ae(),g={onClick:T=>{T.stopPropagation(),r.value=T.currentTarget||T.target,n.value||(f.value=[T.clientX,T.clientY]),n.value=!n.value},onMouseenter:T=>{var C;(C=T.sourceCapabilities)!=null&&C.firesTouchEvents||(o=!0,r.value=T.currentTarget||T.target,h())},onMouseleave:T=>{o=!1,d()},onFocus:T=>{_d(T.target,":focus-visible")!==!1&&(a=!0,T.stopPropagation(),r.value=T.currentTarget||T.target,h())},onBlur:T=>{a=!1,T.stopPropagation(),d()}},m=I(()=>{const T={};return u.value&&(T.onClick=g.onClick),t.openOnHover&&(T.onMouseenter=g.onMouseenter,T.onMouseleave=g.onMouseleave),c.value&&(T.onFocus=g.onFocus,T.onBlur=g.onBlur),T}),p=I(()=>{const T={};if(t.openOnHover&&(T.onMouseenter=()=>{o=!0,h()},T.onMouseleave=()=>{o=!1,d()}),c.value&&(T.onFocusin=()=>{a=!0,h()},T.onFocusout=()=>{a=!1,d()}),t.closeOnContentClick){const C=Ve(Bv,null);T.onClick=()=>{n.value=!1,C==null||C.closeParents()}}return T}),v=I(()=>{const T={};return t.openOnHover&&(T.onMouseenter=()=>{l&&(o=!0,l=!1,h())},T.onMouseleave=()=>{o=!1,d()}),T});ve(i,T=>{T&&(t.openOnHover&&!o&&(!c.value||!a)||c.value&&!a&&(!t.openOnHover||!o))&&(n.value=!1)}),ve(n,T=>{T||setTimeout(()=>{f.value=void 0})},{flush:"post"});const y=ae();Vn(()=>{y.value&&$t(()=>{r.value=gd(y.value)})});const w=ae(),b=I(()=>t.target==="cursor"&&f.value?f.value:w.value?gd(w.value):qO(t.target,s)||r.value),S=I(()=>Array.isArray(b.value)?void 0:b.value);let E;return ve(()=>!!t.activator,T=>{T&&yt?(E=If(),E.run(()=>{mX(t,s,{activatorEl:r,activatorEvents:m})})):E&&E.stop()},{flush:"post",immediate:!0}),Bn(()=>{E==null||E.stop()}),{activatorEl:r,activatorRef:y,target:b,targetEl:S,targetRef:w,activatorEvents:m,contentEvents:p,scrimEvents:v}}function mX(t,e,n){let{activatorEl:i,activatorEvents:s}=n;ve(()=>t.activator,(l,c)=>{if(c&&l!==c){const u=a(c);u&&o(u)}l&&$t(()=>r())},{immediate:!0}),ve(()=>t.activatorProps,()=>{r()}),Bn(()=>{o()});function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&qV(l,Se(s.value,c))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&GV(l,Se(s.value,c))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const c=qO(l,e);return i.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,i.value}}function qO(t,e){var i,s;if(!t)return;let n;if(t==="parent"){let r=(s=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function pX(){if(!yt)return fe(!1);const{ssr:t}=gu();if(t){const e=fe(!1);return _i(()=>{e.value=!0}),e}else return fe(!0)}function Ab(){const e=Dt("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const sI=Symbol.for("vuetify:stack"),Ll=gn([]);function vX(t,e,n){const i=Dt("useStack"),s=!n,r=Ve(sI,void 0),o=gn({activeChildren:new Set});ht(sI,o);const a=fe(+e.value);xi(t,()=>{var h;const u=(h=Ll.at(-1))==null?void 0:h[1];a.value=u?u+10:+e.value,s&&Ll.push([i.uid,a.value]),r==null||r.activeChildren.add(i.uid),Bn(()=>{if(s){const d=Ce(Ll).findIndex(f=>f[0]===i.uid);Ll.splice(d,1)}r==null||r.activeChildren.delete(i.uid)})});const l=fe(!0);s&&Vn(()=>{var h;const u=((h=Ll.at(-1))==null?void 0:h[0])===i.uid;setTimeout(()=>l.value=u)});const c=I(()=>!o.activeChildren.size);return{globalTop:uu(l),localTop:c,stackStyles:I(()=>({zIndex:a.value}))}}function _X(t){return{teleportTarget:I(()=>{const n=t.value;if(n===!0||!yt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let s=i.querySelector(":scope > .v-overlay-container");return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function yX(){return!0}function GO(t,e,n){if(!t||KO(t,n)===!1)return!1;const i=Yx(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function KO(t,e){return(typeof e.value=="object"&&e.value.closeConditional||yX)(t)}function bX(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&GO(t,e,n)&&setTimeout(()=>{KO(t,n)&&i&&i(t)},0)}function rI(t,e){const n=Yx(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const wX={mounted(t,e){const n=s=>bX(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=GO(s,t,e)};rI(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},unmounted(t,e){t._clickOutside&&(rI(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function SX(t){const{modelValue:e,color:n,...i}=t;return _(ns,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&_("div",Se({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const YO=j({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...fX(),...xe(),...Fr(),...s1(),...eX(),...oX(),...Et(),...Du()},"VOverlay"),oI=he()({name:"VOverlay",directives:{ClickOutside:wX},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...YO()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=Ze(t,"modelValue"),o=I({get:()=>r.value,set:ge=>{ge&&t.disabled||(r.value=ge)}}),{teleportTarget:a}=_X(I(()=>t.attach||t.contained)),{themeClasses:l}=Mt(t),{rtlClasses:c,isRtl:u}=yi(),{hasContent:h,onAfterLeave:d}=r1(t,o),f=mi(I(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:g,localTop:m,stackStyles:p}=vX(o,ne(t,"zIndex"),t._disableGlobalStack),{activatorEl:v,activatorRef:y,target:w,targetEl:b,targetRef:S,activatorEvents:E,contentEvents:T,scrimEvents:C}=gX(t,{isActive:o,isTop:m}),{dimensionStyles:P}=Br(t),R=pX(),{scopeId:D}=Ab();ve(()=>t.disabled,ge=>{ge&&(o.value=!1)});const k=ae(),O=ae(),V=ae(),{contentStyles:B,updateLocation:X}=tX(t,{isRtl:u,contentEl:V,target:w,isActive:o});aX(t,{root:k,contentEl:V,targetEl:b,isActive:o,updateLocation:X});function K(ge){s("click:outside",ge),t.persistent?Y():o.value=!1}function L(ge){return o.value&&g.value&&(!t.scrim||ge.target===O.value)}yt&&ve(o,ge=>{ge?window.addEventListener("keydown",z):window.removeEventListener("keydown",z)},{immediate:!0}),Sn(()=>{yt&&window.removeEventListener("keydown",z)});function z(ge){var pe,me;ge.key==="Escape"&&g.value&&(t.persistent?Y():(o.value=!1,(pe=V.value)!=null&&pe.contains(document.activeElement)&&((me=v.value)==null||me.focus())))}const $=aR();xi(()=>t.closeOnBack,()=>{K4($,ge=>{g.value&&o.value?(ge(!1),t.persistent?Y():o.value=!1):ge()})});const W=ae();ve(()=>o.value&&(t.absolute||t.contained)&&a.value==null,ge=>{if(ge){const pe=Qx(k.value);pe&&pe!==document.scrollingElement&&(W.value=pe.scrollTop)}});function Y(){t.noClickAnimation||V.value&&ro(V.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Pc})}function ce(){d(),s("afterLeave")}return be(()=>{var ge;return _(Oe,null,[(ge=n.activator)==null?void 0:ge.call(n,{isActive:o.value,props:Se({ref:y,targetRef:S},E.value,t.activatorProps)}),R.value&&h.value&&_(FL,{disabled:!a.value,to:a.value},{default:()=>[_("div",Se({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":o.value,"v-overlay--contained":t.contained},l.value,c.value,t.class],style:[p.value,{"--v-overlay-opacity":t.opacity,top:_e(W.value)},t.style],ref:k},D,i),[_(SX,Se({color:f,modelValue:o.value&&!!t.scrim,ref:O},C.value),null),_(Es,{appear:!0,persisted:!0,transition:t.transition,target:w.value,onAfterLeave:ce},{default:()=>{var pe;return[xn(_("div",Se({ref:V,class:["v-overlay__content",t.contentClass],style:[P.value,B.value]},T.value,t.contentProps),[(pe=n.default)==null?void 0:pe.call(n,{isActive:o})]),[[jo,o.value],[$s("click-outside"),{handler:K,closeConditional:L,include:()=>[v.value]}]])]}})])]})])}),{activatorEl:v,scrimEl:O,target:w,animateClick:Y,contentEl:V,globalTop:g,localTop:m,updateLocation:X}}}),TX=j({id:String,...zo(YO({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:LR}}),["absolute"])},"VMenu"),EX=he()({name:"VMenu",props:TX(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ze(t,"modelValue"),{scopeId:s}=Ab(),r=Ni(),o=I(()=>t.id||`v-menu-${r}`),a=ae(),l=Ve(Bv,null),c=fe(0);ht(Bv,{register(){++c.value},unregister(){--c.value},closeParents(m){setTimeout(()=>{!c.value&&(m==null||m&&!HV(m,a.value.contentEl))&&(i.value=!1,l==null||l.closeParents())},40)}});async function u(m){var y,w,b;const p=m.relatedTarget,v=m.target;await $t(),i.value&&p!==v&&((y=a.value)!=null&&y.contentEl)&&((w=a.value)!=null&&w.globalTop)&&![document,a.value.contentEl].includes(v)&&!a.value.contentEl.contains(v)&&((b=pd(a.value.contentEl)[0])==null||b.focus())}ve(i,m=>{m?(l==null||l.register(),document.addEventListener("focusin",u,{once:!0})):(l==null||l.unregister(),document.removeEventListener("focusin",u))});function h(m){l==null||l.closeParents(m)}function d(m){var p,v,y;t.disabled||(m.key==="Tab"?$x(pd((p=a.value)==null?void 0:p.contentEl,!1),m.shiftKey?"prev":"next",b=>b.tabIndex>=0)||(i.value=!1,(y=(v=a.value)==null?void 0:v.activatorEl)==null||y.focus()):["Enter"," "].includes(m.key)&&t.closeOnContentClick&&(i.value=!1,l==null||l.closeParents()))}function f(m){var v;if(t.disabled)return;const p=(v=a.value)==null?void 0:v.contentEl;p&&i.value?m.key==="ArrowDown"?(m.preventDefault(),vd(p,"next")):m.key==="ArrowUp"&&(m.preventDefault(),vd(p,"prev")):["ArrowDown","ArrowUp"].includes(m.key)&&(i.value=!0,m.preventDefault(),setTimeout(()=>setTimeout(()=>f(m))))}const g=I(()=>Se({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":o.value,onKeydown:f},t.activatorProps));return be(()=>{const m=oI.filterProps(t);return _(oI,Se({ref:a,id:o.value,class:["v-menu",t.class],style:t.style},m,{modelValue:i.value,"onUpdate:modelValue":p=>i.value=p,absolute:!0,activatorProps:g.value,"onClick:outside":h,onKeydown:d},s),{activator:n.activator,default:function(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];return _(Ct,{root:"VMenu"},{default:()=>{var w;return[(w=n.default)==null?void 0:w.call(n,...v)]}})}})}),Nu({id:o,ΨopenChildren:c},a)}}),IX=j({renderless:Boolean,...xe()},"VVirtualScrollItem"),CX=he()({name:"VVirtualScrollItem",inheritAttrs:!1,props:IX(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{resizeRef:r,contentRect:o}=To(void 0,"border");ve(()=>{var a;return(a=o.value)==null?void 0:a.height},a=>{a!=null&&i("update:height",a)}),be(()=>{var a,l;return t.renderless?_(Oe,null,[(a=s.default)==null?void 0:a.call(s,{itemRef:r})]):_("div",Se({ref:r,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=s.default)==null?void 0:l.call(s)])})}}),xX=-1,AX=1,rp=100,PX=j({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function kX(t,e){const n=gu(),i=fe(0);Vn(()=>{i.value=parseFloat(t.itemHeight||0)});const s=fe(0),r=fe(Math.ceil((parseInt(t.height)||n.height.value)/(i.value||16))||1),o=fe(0),a=fe(0),l=ae(),c=ae();let u=0;const{resizeRef:h,contentRect:d}=To();Vn(()=>{h.value=l.value});const f=I(()=>{var z;return l.value===document.documentElement?n.height.value:((z=d.value)==null?void 0:z.height)||parseInt(t.height)||0}),g=I(()=>!!(l.value&&c.value&&f.value&&i.value));let m=Array.from({length:e.value.length}),p=Array.from({length:e.value.length});const v=fe(0);let y=-1;function w(z){return m[z]||i.value}const b=BV(()=>{const z=performance.now();p[0]=0;const $=e.value.length;for(let W=1;W<=$-1;W++)p[W]=(p[W-1]||0)+w(W-1);v.value=Math.max(v.value,performance.now()-z)},v),S=ve(g,z=>{z&&(S(),u=c.value.offsetTop,b.immediate(),B(),~y&&$t(()=>{yt&&window.requestAnimationFrame(()=>{K(y),y=-1})}))});Bn(()=>{b.clear()});function E(z,$){const W=m[z],Y=i.value;i.value=Y?Math.min(i.value,$):$,(W!==$||Y!==i.value)&&(m[z]=$,b())}function T(z){return z=Ai(z,0,e.value.length-1),p[z]||0}function C(z){return RX(p,z)}let P=0,R=0,D=0;ve(f,(z,$)=>{$&&(B(),z<$&&requestAnimationFrame(()=>{R=0,B()}))});function k(){if(!l.value||!c.value)return;const z=l.value.scrollTop,$=performance.now();$-D>500?(R=Math.sign(z-P),u=c.value.offsetTop):R=z-P,P=z,D=$,B()}function O(){!l.value||!c.value||(R=0,D=0,B())}let V=-1;function B(){cancelAnimationFrame(V),V=requestAnimationFrame(X)}function X(){if(!l.value||!f.value)return;const z=P-u,$=Math.sign(R),W=Math.max(0,z-rp),Y=Ai(C(W),0,e.value.length),ce=z+f.value+rp,ge=Ai(C(ce)+1,Y+1,e.value.length);if(($!==xX||Y<s.value)&&($!==AX||ge>r.value)){const pe=T(s.value)-T(Y),me=T(ge)-T(r.value);Math.max(pe,me)>rp?(s.value=Y,r.value=ge):(Y<=0&&(s.value=Y),ge>=e.value.length&&(r.value=ge))}o.value=T(s.value),a.value=T(e.value.length)-T(r.value)}function K(z){const $=T(z);!l.value||z&&!$?y=z:l.value.scrollTop=$}const L=I(()=>e.value.slice(s.value,r.value).map((z,$)=>({raw:z,index:$+s.value})));return ve(e,()=>{m=Array.from({length:e.value.length}),p=Array.from({length:e.value.length}),b.immediate(),B()},{deep:!0}),{containerRef:l,markerRef:c,computedItems:L,paddingTop:o,paddingBottom:a,scrollToIndex:K,handleScroll:k,handleScrollend:O,handleItemResize:E}}function RX(t,e){let n=t.length-1,i=0,s=0,r=null,o=-1;if(t[n]<e)return n;for(;i<=n;)if(s=i+n>>1,r=t[s],r>e)n=s-1;else if(r<e)o=s,i=s+1;else return r===e?s:i;return o}const OX=j({items:{type:Array,default:()=>[]},renderless:Boolean,...PX(),...xe(),...Fr()},"VVirtualScroll"),DX=he()({name:"VVirtualScroll",props:OX(),setup(t,e){let{slots:n}=e;const i=Dt("VVirtualScroll"),{dimensionStyles:s}=Br(t),{containerRef:r,markerRef:o,handleScroll:a,handleScrollend:l,handleItemResize:c,scrollToIndex:u,paddingTop:h,paddingBottom:d,computedItems:f}=kX(t,ne(t,"items"));return xi(()=>t.renderless,()=>{function g(){var v,y;const p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";r.value===document.documentElement?(document[p]("scroll",a,{passive:!0}),document[p]("scrollend",l)):((v=r.value)==null||v[p]("scroll",a,{passive:!0}),(y=r.value)==null||y[p]("scrollend",l))}_i(()=>{r.value=Qx(i.vnode.el,!0),g(!0)}),Bn(g)}),be(()=>{const g=f.value.map(m=>_(CX,{key:m.index,renderless:t.renderless,"onUpdate:height":p=>c(m.index,p)},{default:p=>{var v;return(v=n.default)==null?void 0:v.call(n,{item:m.raw,index:m.index,...p})}}));return t.renderless?_(Oe,null,[_("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:_e(h.value)}},null),g,_("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:_e(d.value)}},null)]):_("div",{ref:r,class:["v-virtual-scroll",t.class],onScrollPassive:a,onScrollend:l,style:[s.value,t.style]},[_("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:_e(h.value),paddingBottom:_e(d.value)}},[g])])}),{scrollToIndex:u}}});function MX(t,e){const n=fe(!1);let i;function s(a){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function r(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(n.value){const l=ve(n,()=>{l(),a()})}else a()})}async function o(a){var u,h;if(a.key==="Tab"&&((u=e.value)==null||u.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const l=(h=t.value)==null?void 0:h.$el;if(!l)return;(a.key==="Home"||a.key==="End")&&l.scrollTo({top:a.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await r();const c=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const d=l.getBoundingClientRect().top;for(const f of c)if(f.getBoundingClientRect().top>=d){f.focus();break}}else{const d=l.getBoundingClientRect().bottom;for(const f of[...c].reverse())if(f.getBoundingClientRect().bottom<=d){f.focus();break}}}return{onListScroll:s,onListKeydown:o}}const NX=j({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ze,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...UO({itemChildren:!1})},"Select"),LX=j({...NX(),...zo(GR({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Du({transition:{component:LR}})},"VSelect"),Pb=he()({name:"VSelect",props:LX(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=js(),s=ae(),r=ae(),o=ae(),a=Ze(t,"menu"),l=I({get:()=>a.value,set:L=>{var z;a.value&&!L&&((z=r.value)!=null&&z.ΨopenChildren)||(a.value=L)}}),{items:c,transformIn:u,transformOut:h}=W7(t),d=Ze(t,"modelValue",[],L=>u(L===null?[null]:Dn(L)),L=>{const z=h(L);return t.multiple?z:z[0]??null}),f=I(()=>typeof t.counterValue=="function"?t.counterValue(d.value):typeof t.counterValue=="number"?t.counterValue:d.value.length),g=TR(),m=I(()=>d.value.map(L=>L.value)),p=fe(!1),v=I(()=>l.value?t.closeText:t.openText);let y="",w;const b=I(()=>t.hideSelected?c.value.filter(L=>!d.value.some(z=>z===L)):c.value),S=I(()=>t.hideNoData&&!b.value.length||t.readonly||(g==null?void 0:g.isReadonly.value)),E=I(()=>{var L;return{...t.menuProps,activatorProps:{...((L=t.menuProps)==null?void 0:L.activatorProps)||{},"aria-haspopup":"listbox"}}}),T=ae(),{onListScroll:C,onListKeydown:P}=MX(T,s);function R(L){t.openOnClear&&(l.value=!0)}function D(){S.value||(l.value=!l.value)}function k(L){var ce,ge;if(!L.key||t.readonly||g!=null&&g.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(L.key)&&L.preventDefault(),["Enter","ArrowDown"," "].includes(L.key)&&(l.value=!0),["Escape","Tab"].includes(L.key)&&(l.value=!1),L.key==="Home"?(ce=T.value)==null||ce.focus("first"):L.key==="End"&&((ge=T.value)==null||ge.focus("last"));const z=1e3;function $(pe){const me=pe.key.length===1,N=!pe.ctrlKey&&!pe.metaKey&&!pe.altKey;return me&&N}if(t.multiple||!$(L))return;const W=performance.now();W-w>z&&(y=""),y+=L.key.toLowerCase(),w=W;const Y=c.value.find(pe=>pe.title.toLowerCase().startsWith(y));Y!==void 0&&(d.value=[Y])}function O(L){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!L.props.disabled)if(t.multiple){const $=d.value.findIndex(Y=>t.valueComparator(Y.value,L.value)),W=z??!~$;if(~$){const Y=W?[...d.value,L]:[...d.value];Y.splice($,1),d.value=Y}else W&&(d.value=[...d.value,L])}else{const $=z!==!1;d.value=$?[L]:[],$t(()=>{l.value=!1})}}function V(L){var z;(z=T.value)!=null&&z.$el.contains(L.relatedTarget)||(l.value=!1)}function B(){var L;p.value&&((L=s.value)==null||L.focus())}function X(L){p.value=!0}function K(L){if(L==null)d.value=[];else if(_d(s.value,":autofill")||_d(s.value,":-webkit-autofill")){const z=c.value.find($=>$.title===L);z&&O(z)}else s.value&&(s.value.value="")}return ve(l,()=>{if(!t.hideSelected&&l.value&&d.value.length){const L=b.value.findIndex(z=>d.value.some($=>t.valueComparator($.value,z.value)));yt&&window.requestAnimationFrame(()=>{var z;L>=0&&((z=o.value)==null||z.scrollToIndex(L))})}}),ve(()=>t.items,(L,z)=>{l.value||p.value&&!z.length&&L.length&&(l.value=!0)}),be(()=>{const L=!!(t.chips||n.chip),z=!!(!t.hideNoData||b.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),$=d.value.length>0,W=Is.filterProps(t),Y=$||!p.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return _(Is,Se({ref:s},W,{modelValue:d.value.map(ce=>ce.props.value).join(", "),"onUpdate:modelValue":K,focused:p.value,"onUpdate:focused":ce=>p.value=ce,validationValue:d.externalValue,counterValue:f.value,dirty:$,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:Y,"onClick:clear":R,"onMousedown:control":D,onBlur:V,onKeydown:k,"aria-label":i(v.value),title:i(v.value)}),{...n,default:()=>_(Oe,null,[_(EX,Se({ref:r,modelValue:l.value,"onUpdate:modelValue":ce=>l.value=ce,activator:"parent",contentClass:"v-select__content",disabled:S.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:B},E.value),{default:()=>[z&&_(X7,Se({ref:T,selected:m.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ce=>ce.preventDefault(),onKeydown:P,onFocusin:X,onScrollPassive:C,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},t.listProps),{default:()=>{var ce,ge,pe;return[(ce=n["prepend-item"])==null?void 0:ce.call(n),!b.value.length&&!t.hideNoData&&(((ge=n["no-data"])==null?void 0:ge.call(n))??_(hr,{title:i(t.noDataText)},null)),_(DX,{ref:o,renderless:!0,items:b.value},{default:me=>{var Fe;let{item:N,index:Q,itemRef:ee}=me;const ue=Se(N.props,{ref:ee,key:Q,onClick:()=>O(N,null)});return((Fe=n.item)==null?void 0:Fe.call(n,{item:N,index:Q,props:ue}))??_(hr,Se(ue,{role:"option"}),{prepend:et=>{let{isSelected:x}=et;return _(Oe,null,[t.multiple&&!t.hideSelected?_(Wg,{key:N.value,modelValue:x,ripple:!1,tabindex:"-1"},null):void 0,N.props.prependAvatar&&_(ko,{image:N.props.prependAvatar},null),N.props.prependIcon&&_(Ft,{icon:N.props.prependIcon},null)])}})}}),(pe=n["append-item"])==null?void 0:pe.call(n)]}})]}),d.value.map((ce,ge)=>{function pe(ee){ee.stopPropagation(),ee.preventDefault(),O(ce,!1)}const me={"onClick:close":pe,onMousedown(ee){ee.preventDefault(),ee.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},N=L?!!n.chip:!!n.selection,Q=N?Ux(L?n.chip({item:ce,index:ge,props:me}):n.selection({item:ce,index:ge})):void 0;if(!(N&&!Q))return _("div",{key:ce.value,class:"v-select__selection"},[L?n.chip?_(Ct,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ce.title}}},{default:()=>[Q]}):_(I7,Se({key:"chip",closable:t.closableChips,size:"small",text:ce.title,disabled:ce.props.disabled},me),null):Q??_("span",{class:"v-select__selection-text"},[ce.title,t.multiple&&ge<d.value.length-1&&_("span",{class:"v-select__selection-comma"},[It(",")])])])})]),"append-inner":function(){var me;for(var ce=arguments.length,ge=new Array(ce),pe=0;pe<ce;pe++)ge[pe]=arguments[pe];return _(Oe,null,[(me=n["append-inner"])==null?void 0:me.call(n,...ge),t.menuIcon?_(Ft,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Nu({isFocused:p,menu:l,select:O},s)}});function VX(t,e,n,i,s,r){const o=T_("DoughnutChart");return Vt(),In(ml,{"fill-height":"",fluid:""},{default:oe(()=>[t.showQuestions?(Vt(),In(xr,{key:0,color:"#FAFAFA"},{default:oe(()=>[_(Po,null,{default:oe(()=>[It("La vida cotidiana: ¡Descúbrete!")]),_:1}),du("form",{class:"mt-4",onSubmit:e[0]||(e[0]=xc((...a)=>t.submit&&t.submit(...a),["prevent"]))},[(Vt(),Cc(Oe,null,x_(10,a=>_(Ji,{key:t.preguntas[a-1],align:"center",justify:"center"},{default:oe(()=>[_(Kn,{cols:"8"},{default:oe(()=>[(Vt(),In(Pb,{color:"info","base-color":"info",key:t.preguntas[a-1],modelValue:t.respuestas[a-1],"onUpdate:modelValue":[l=>t.respuestas[a-1]=l,l=>t.cambiarPuntos(t.preguntas[a-1],t.respuestas[a-1],a-1)],items:t.preguntas[a-1].respuestas.map(l=>l.titulo),label:t.preguntas[a-1].pregunta,required:""},null,8,["modelValue","onUpdate:modelValue","items","label"]))]),_:2},1024)]),_:2},1024)),64)),_(Ji,{align:"center",justify:"center"},{default:oe(()=>[_(Kn,{align:"center",justify:"center",cols:"8"},{default:oe(()=>[_(Ht,{color:"info",variant:"outlined",class:"me-4 mb-4",type:"submit"},{default:oe(()=>[It(" GUARDAR ")]),_:1})]),_:1})]),_:1})],32)]),_:1})):wo("",!0),t.showDonut?(Vt(),In(xr,{key:1},{default:oe(()=>[_(Po,null,{default:oe(()=>[It("Estos son tus resultados")]),_:1}),_(o,{chartData:t.testData},null,8,["chartData"]),_(Ji,{align:"center",justify:"center"},{default:oe(()=>[_(Kn,{align:"center",justify:"center",cols:"12"},{default:oe(()=>[_(Ht,{onClick:e[1]||(e[1]=a=>t.resetForm()),color:"accent",class:"ma-4"},{default:oe(()=>[It(" Reiniciar prueba")]),_:1})]),_:1})]),_:1})]),_:1})):wo("",!0)]),_:1})}const FX=Go(y7,[["render",VX]]),BX=cs({name:"Encuesta",computed:{},data:()=>({ejercicioTerminado:!1,preguntas:g5,puntos:new Map,respuestas:[],rules:[t=>t?!0:"No puede estar vacío"],respuestas0:void 0,respuestas1:void 0,respuestas2:void 0,respuestas3:void 0,respuestas4:void 0,respuestas5:void 0,respuestas6:void 0,respuestas7:void 0,respuestas8:void 0,respuestas9:void 0,user:void 0,userUID:void 0,nota:0}),mounted(){this.fillUser()},components:{},methods:{useRoute:Ed,async fillUser(){this.userUID=li.get("app_uid");const t=_r(yr,"alumnos",this.userUID),e=(await yg(t)).data();this.user=e,console.log(e),e.encuesta2?(this.nota=e.encuesta2,this.ejercicioTerminado=!0):this.ejercicioTerminado=!1},async resetForm(){const t=_r(yr,"alumnos",this.userUID);await Zk(t,{encuesta1:tR()}),this.fillUser()},async submit(){let t=0;for(const n of this.puntos.values())n&&(t+=1);this.nota=this.calcularNotaSobreDiez(t);const e=_r(yr,"alumnos",this.userUID);await Jk(e,{encuesta2:this.nota},{merge:!0}),this.ejercicioTerminado=!0},cambiarRespuesta(t,e,n){this.puntos.set(n,t.respuestas.find(i=>e==i.titulo).correcta)},calcularNotaSobreDiez(t){return t/10*10}}});function $X(t,e,n,i,s,r){return Vt(),In(ml,{"fill-height":"",fluid:"",class:"d-flex fill-height align-center justify-center"},{default:oe(()=>[t.ejercicioTerminado?wo("",!0):(Vt(),In(xr,{key:0,color:"#FAFAFA",class:"flex-grow-1"},{default:oe(()=>[_(Po,null,{default:oe(()=>[It("La vida cotidiana: ¡Descúbrete!")]),_:1}),du("form",{class:"mt-4",onSubmit:e[0]||(e[0]=xc((...o)=>t.submit&&t.submit(...o),["prevent"]))},[(Vt(),Cc(Oe,null,x_(10,o=>_(Ji,{key:t.preguntas[o-1],align:"center",justify:"center"},{default:oe(()=>[_(Kn,{cols:"8"},{default:oe(()=>[(Vt(),In(Pb,{color:"info","base-color":"info",key:t.preguntas[o-1],modelValue:t.respuestas[o-1],"onUpdate:modelValue":[a=>t.respuestas[o-1]=a,a=>t.cambiarRespuesta(t.preguntas[o-1],t.respuestas[o-1],o-1)],items:t.preguntas[o-1].respuestas.map(a=>a.titulo),label:t.preguntas[o-1].pregunta,required:""},null,8,["modelValue","onUpdate:modelValue","items","label"]))]),_:2},1024)]),_:2},1024)),64)),_(Ji,{align:"center",justify:"center"},{default:oe(()=>[_(Kn,{align:"center",justify:"center",cols:"8"},{default:oe(()=>[_(Ht,{color:"info",variant:"outlined",class:"me-4 mb-4",type:"submit"},{default:oe(()=>[It(" GUARDAR ")]),_:1})]),_:1})]),_:1})],32)]),_:1})),t.ejercicioTerminado?(Vt(),In(xr,{key:1,class:"text-center gradient-light-green fill-width",dark:""},{default:oe(()=>[_(Po,null,{default:oe(()=>[It(" ¡Felicidades! ")]),_:1}),_(wR,{class:"headline ml-16 mr-xl-16"},{default:oe(()=>[It(" Ya tienes este ejercicio terminado, tu nota es un "+IC(t.nota),1)]),_:1})]),_:1})):wo("",!0)]),_:1})}const UX=Go(BX,[["render",$X]]);$u.register(...iO);const jX=cs({name:"PanelProfesorado",components:{DoughnutChart:AO},data:()=>({search:"",tableHeight:"auto",datosMedios:{labels:["No saludable","Neutro","Saludable"],datasets:[{data:[2,1,3],backgroundColor:["rgba(195,64,81,0.98)","#46b0dd","#59af5e"]}]},headers:[{key:"nombre",title:"Alumno"},{key:"calendario",title:"calendario"},{key:"nota1",title:"Informacion encuesta 1"},{key:"nota2",title:"Nota encuesta 2"}],alumnos:[]}),mounted(){let t=["Laura Rodriguez Sedeño","Ana Garcia Perez","Luisa Hernandez Ramos","Antonio Fernandez Gomez","Carlos Guerrero Ruiz","Susana Gomes Dias","Pedro Martinez Guzman","José Morales Ramires","Miguel Belmonte Vera","Maria Abascal Prado","Mario Cuenca Lopez","Silvia Marengo Dot","Adriana Ros Vega","Rodrigo Lluis Pere","Ruben Gomez Gonzalo","Nuria Vega Nuevas","Antonia Jove Guardiola","Pilar Pinzon Velez","Alfredo Esteban Giraldo","Rafael Montes Agudelo","Alejandro Giraldo Soto","Cecilia Vela Zamora","Diana Mendiola Soto","Eduardo Mendoza Ochoa"],e=["realizado","no realizado"],n=[],i=0,s=0,r=0;for(let o=0;o<24;o++){let a=Math.floor(Math.random()*11),l=Math.floor(Math.random()*(11-a)),c=10-a-l,u=Math.floor(Math.random()*11);i+=a,s+=l,r+=c,n.push({nombre:t[o%t.length],calendario:e[Math.floor(Math.random()*2)],nota1:"Saludable: "+a+", Neutro: "+l+", No saludable: "+c,nota2:u})}this.datosMedios.datasets[0].data[0]=i,this.datosMedios.datasets[0].data[1]=s,this.datosMedios.datasets[0].data[2]=r,console.log(n),this.alumnos=n},setup(){return{}},methods:{logout(){li.remove("admin"),li.remove("app_uid"),wr.push("/")}},computed:{}});function zX(){const t=ae([]);ax(()=>t.value=[]);function e(n,i){t.value[i]=n}return{refs:t,updateRef:e}}const HX=j({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:ze,default:"$first"},prevIcon:{type:ze,default:"$prev"},nextIcon:{type:ze,default:"$next"},lastIcon:{type:ze,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Hs(),...xe(),...$n(),...ds(),...Un(),...gl(),...at({tag:"nav"}),...Et(),...fs({variant:"text"})},"VPagination"),aI=he()({name:"VPagination",props:HX(),emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Ze(t,"modelValue"),{t:r,n:o}=js(),{isRtl:a}=yi(),{themeClasses:l}=Mt(t),{width:c}=gu(),u=fe(-1);gi(void 0,{scoped:!0});const{resizeRef:h}=To(C=>{if(!C.length)return;const{target:P,contentRect:R}=C[0],D=P.querySelector(".v-pagination__list > *");if(!D)return;const k=R.width,O=D.offsetWidth+parseFloat(getComputedStyle(D).marginRight)*2;u.value=m(k,O)}),d=I(()=>parseInt(t.length,10)),f=I(()=>parseInt(t.start,10)),g=I(()=>t.totalVisible!=null?parseInt(t.totalVisible,10):u.value>=0?u.value:m(c.value,58));function m(C,P){const R=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((C-P*R)/P).toFixed(2)))}const p=I(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(g.value<=0)return[];if(g.value===1)return[s.value];if(d.value<=g.value)return ga(d.value,f.value);const C=g.value%2===0,P=C?g.value/2:Math.floor(g.value/2),R=C?P:P+1,D=d.value-P;if(R-s.value>=0)return[...ga(Math.max(1,g.value-1),f.value),t.ellipsis,d.value];if(s.value-D>=(C?1:0)){const k=g.value-1,O=d.value-k+f.value;return[f.value,t.ellipsis,...ga(k,O)]}else{const k=Math.max(1,g.value-3),O=k===1?s.value:s.value-Math.ceil(k/2)+f.value;return[f.value,t.ellipsis,...ga(k,O),t.ellipsis,d.value]}});function v(C,P,R){C.preventDefault(),s.value=P,R&&i(R,P)}const{refs:y,updateRef:w}=zX();gi({VPaginationBtn:{color:ne(t,"color"),border:ne(t,"border"),density:ne(t,"density"),size:ne(t,"size"),variant:ne(t,"variant"),rounded:ne(t,"rounded"),elevation:ne(t,"elevation")}});const b=I(()=>p.value.map((C,P)=>{const R=D=>w(D,P);if(typeof C=="string")return{isActive:!1,key:`ellipsis-${P}`,page:C,props:{ref:R,ellipsis:!0,icon:!0,disabled:!0}};{const D=C===s.value;return{isActive:D,key:C,page:o(C),props:{ref:R,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:D?t.activeColor:t.color,"aria-current":D,"aria-label":r(D?t.currentPageAriaLabel:t.pageAriaLabel,C),onClick:k=>v(k,C)}}}})),S=I(()=>{const C=!!t.disabled||s.value<=f.value,P=!!t.disabled||s.value>=f.value+d.value-1;return{first:t.showFirstLastPage?{icon:a.value?t.lastIcon:t.firstIcon,onClick:R=>v(R,f.value,"first"),disabled:C,"aria-label":r(t.firstAriaLabel),"aria-disabled":C}:void 0,prev:{icon:a.value?t.nextIcon:t.prevIcon,onClick:R=>v(R,s.value-1,"prev"),disabled:C,"aria-label":r(t.previousAriaLabel),"aria-disabled":C},next:{icon:a.value?t.prevIcon:t.nextIcon,onClick:R=>v(R,s.value+1,"next"),disabled:P,"aria-label":r(t.nextAriaLabel),"aria-disabled":P},last:t.showFirstLastPage?{icon:a.value?t.firstIcon:t.lastIcon,onClick:R=>v(R,f.value+d.value-1,"last"),disabled:P,"aria-label":r(t.lastAriaLabel),"aria-disabled":P}:void 0}});function E(){var P;const C=s.value-f.value;(P=y.value[C])==null||P.$el.focus()}function T(C){C.key===Z0.left&&!t.disabled&&s.value>+t.start?(s.value=s.value-1,$t(E)):C.key===Z0.right&&!t.disabled&&s.value<f.value+d.value-1&&(s.value=s.value+1,$t(E))}return be(()=>_(t.tag,{ref:h,class:["v-pagination",l.value,t.class],style:t.style,role:"navigation","aria-label":r(t.ariaLabel),onKeydown:T,"data-test":"v-pagination-root"},{default:()=>[_("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&_("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(S.value.first):_(Ht,Se({_as:"VPaginationBtn"},S.value.first),null)]),_("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(S.value.prev):_(Ht,Se({_as:"VPaginationBtn"},S.value.prev),null)]),b.value.map((C,P)=>_("li",{key:C.key,class:["v-pagination__item",{"v-pagination__item--is-active":C.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(C):_(Ht,Se({_as:"VPaginationBtn"},C.props),{default:()=>[C.page]})])),_("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(S.value.next):_(Ht,Se({_as:"VPaginationBtn"},S.value.next),null)]),t.showFirstLastPage&&_("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(S.value.last):_(Ht,Se({_as:"VPaginationBtn"},S.value.last),null)])])]})),{}}}),WX=j({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),XO=Symbol.for("vuetify:data-table-pagination");function qX(t){const e=Ze(t,"page",void 0,i=>+(i??1)),n=Ze(t,"itemsPerPage",void 0,i=>+(i??10));return{page:e,itemsPerPage:n}}function GX(t){const{page:e,itemsPerPage:n,itemsLength:i}=t,s=I(()=>n.value===-1?0:n.value*(e.value-1)),r=I(()=>n.value===-1?i.value:Math.min(i.value,s.value+n.value)),o=I(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));Vn(()=>{e.value>o.value&&(e.value=o.value)});function a(d){n.value=d,e.value=1}function l(){e.value=Ai(e.value+1,1,o.value)}function c(){e.value=Ai(e.value-1,1,o.value)}function u(d){e.value=Ai(d,1,o.value)}const h={page:e,itemsPerPage:n,startIndex:s,stopIndex:r,pageCount:o,itemsLength:i,nextPage:l,prevPage:c,setPage:u,setItemsPerPage:a};return ht(XO,h),h}function KX(){const t=Ve(XO);if(!t)throw new Error("Missing pagination!");return t}function YX(t){const e=Dt("usePaginatedItems"),{items:n,startIndex:i,stopIndex:s,itemsPerPage:r}=t,o=I(()=>r.value<=0?n.value:n.value.slice(i.value,s.value));return ve(o,a=>{e.emit("update:currentItems",a)}),{paginatedItems:o}}const QO=j({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),lI=he()({name:"VDataTableFooter",props:QO(),setup(t,e){let{slots:n}=e;const{t:i}=js(),{page:s,pageCount:r,startIndex:o,stopIndex:a,itemsLength:l,itemsPerPage:c,setItemsPerPage:u}=KX(),h=I(()=>t.itemsPerPageOptions.map(d=>typeof d=="number"?{value:d,title:d===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(d)}:{...d,title:i(d.title)}));return be(()=>{var f;const d=aI.filterProps(t);return _("div",{class:"v-data-table-footer"},[(f=n.prepend)==null?void 0:f.call(n),_("div",{class:"v-data-table-footer__items-per-page"},[_("span",null,[i(t.itemsPerPageText)]),_(Pb,{items:h.value,modelValue:c.value,"onUpdate:modelValue":g=>u(Number(g)),density:"compact",variant:"outlined","hide-details":!0},null)]),_("div",{class:"v-data-table-footer__info"},[_("div",null,[i(t.pageText,l.value?o.value+1:0,a.value,l.value)])]),_("div",{class:"v-data-table-footer__pagination"},[_(aI,Se({modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,density:"comfortable","first-aria-label":t.firstPageLabel,"last-aria-label":t.lastPageLabel,length:r.value,"next-aria-label":t.nextPageLabel,"previous-aria-label":t.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":t.showCurrentPage?1:0,variant:"plain"},d),null)])])}),{}}}),kb=yF({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(t,e)=>{let{slots:n}=e;const i=t.tag??"td";return _(i,{class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding},`v-data-table-column--align-${t.align}`],style:{height:_e(t.height),width:_e(t.width),left:_e(t.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),XX=j({headers:Array},"DataTable-header"),JO=Symbol.for("vuetify:data-table-headers"),ZO={title:"",sortable:!1},QX={...ZO,width:48};function JX(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let s=!1;for(let r=0;r<e.length;r++)if(e[r].priority>i){e.splice(r,0,{element:n,priority:i}),s=!0;break}s||e.push({element:n,priority:i})},size:()=>e.length,count:()=>{let n=0;if(!e.length)return 0;const i=Math.floor(e[0].priority);for(let s=0;s<e.length;s++)Math.floor(e[s].priority)===i&&(n+=1);return n},dequeue:()=>e.shift()}}function $v(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t.children)e.push(t);else for(const n of t.children)$v(n,e);return e}function eD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of t)n.key&&e.add(n.key),n.children&&eD(n.children,e);return e}function ZX(t){if(t.key){if(t.key==="data-table-group")return ZO;if(["data-table-expand","data-table-select"].includes(t.key))return QX}}function Rb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.children?Math.max(e,...t.children.map(n=>Rb(n,e+1))):e}function eQ(t){let e=!1;function n(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(o&&(r.fixed=!0),r.fixed)if(r.children)for(let a=r.children.length-1;a>=0;a--)n(r.children[a],!0);else e?isNaN(+r.width)&&(`${r.key}`,void 0):r.lastFixed=!0,e=!0;else if(r.children)for(let a=r.children.length-1;a>=0;a--)n(r.children[a]);else e=!1}for(let r=t.length-1;r>=0;r--)n(t[r]);function i(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return o;if(r.children){r.fixedOffset=o;for(const a of r.children)o=i(a,o)}else r.fixed&&(r.fixedOffset=o,o+=parseFloat(r.width||"0")||0);return o}let s=0;for(const r of t)s=i(r,s)}function tQ(t,e){const n=[];let i=0;const s=JX(t);for(;s.size()>0;){let o=s.count();const a=[];let l=1;for(;o>0;){const{element:c,priority:u}=s.dequeue(),h=e-i-Rb(c);if(a.push({...c,rowspan:h??1,colspan:c.children?$v(c).length:1}),c.children)for(const d of c.children){const f=u%1+l/Math.pow(10,i+2);s.enqueue(d,i+h+f)}l+=1,o-=1}i+=1,n.push(a)}return{columns:t.map(o=>$v(o)).flat(),headers:n}}function tD(t){const e=[];for(const n of t){const i={...ZX(n),...n},s=i.key??(typeof i.value=="string"?i.value:null),r=i.value??s??null,o={...i,key:s,value:r,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?tD(i.children):void 0};e.push(o)}return e}function nQ(t,e){const n=ae([]),i=ae([]),s=ae({}),r=ae({}),o=ae({});Vn(()=>{var m,p,v;const c=(t.headers||Object.keys(t.items[0]??{}).map(y=>({key:y,title:ls(y)}))).slice(),u=eD(c);(m=e==null?void 0:e.groupBy)!=null&&m.value.length&&!u.has("data-table-group")&&c.unshift({key:"data-table-group",title:"Group"}),(p=e==null?void 0:e.showSelect)!=null&&p.value&&!u.has("data-table-select")&&c.unshift({key:"data-table-select"}),(v=e==null?void 0:e.showExpand)!=null&&v.value&&!u.has("data-table-expand")&&c.push({key:"data-table-expand"});const h=tD(c);eQ(h);const d=Math.max(...h.map(y=>Rb(y)))+1,f=tQ(h,d);n.value=f.headers,i.value=f.columns;const g=f.headers.flat(1);for(const y of g)y.key&&(y.sortable&&(y.sort&&(s.value[y.key]=y.sort),y.sortRaw&&(r.value[y.key]=y.sortRaw)),y.filter&&(o.value[y.key]=y.filter))});const a={headers:n,columns:i,sortFunctions:s,sortRawFunctions:r,filterFunctions:o};return ht(JO,a),a}function Gg(){const t=Ve(JO);if(!t)throw new Error("Missing headers!");return t}const iQ={showSelectAll:!1,allSelected:()=>[],select:t=>{var i;let{items:e,value:n}=t;return new Set(n?[(i=e[0])==null?void 0:i.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},nD={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,currentPage:n,selected:i}=t;return nD.select({items:n,value:e,selected:i})}},iD={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,allItems:n,selected:i}=t;return iD.select({items:n,value:e,selected:i})}},sQ=j({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Or}},"DataTable-select"),sD=Symbol.for("vuetify:data-table-selection");function rQ(t,e){let{allItems:n,currentPage:i}=e;const s=Ze(t,"modelValue",t.modelValue,p=>new Set(Dn(p).map(v=>{var y;return((y=n.value.find(w=>t.valueComparator(v,w.value)))==null?void 0:y.value)??v})),p=>[...p.values()]),r=I(()=>n.value.filter(p=>p.selectable)),o=I(()=>i.value.filter(p=>p.selectable)),a=I(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return iQ;case"all":return iD;case"page":default:return nD}});function l(p){return Dn(p).every(v=>s.value.has(v.value))}function c(p){return Dn(p).some(v=>s.value.has(v.value))}function u(p,v){const y=a.value.select({items:p,value:v,selected:new Set(s.value)});s.value=y}function h(p){u([p],!l([p]))}function d(p){const v=a.value.selectAll({value:p,allItems:r.value,currentPage:o.value,selected:new Set(s.value)});s.value=v}const f=I(()=>s.value.size>0),g=I(()=>{const p=a.value.allSelected({allItems:r.value,currentPage:o.value});return!!p.length&&l(p)}),m={toggleSelect:h,select:u,selectAll:d,isSelected:l,isSomeSelected:c,someSelected:f,allSelected:g,showSelectAll:a.value.showSelectAll};return ht(sD,m),m}function Kg(){const t=Ve(sD);if(!t)throw new Error("Missing selection!");return t}const oQ=j({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),rD=Symbol.for("vuetify:data-table-sort");function aQ(t){const e=Ze(t,"sortBy"),n=ne(t,"mustSort"),i=ne(t,"multiSort");return{sortBy:e,mustSort:n,multiSort:i}}function lQ(t){const{sortBy:e,mustSort:n,multiSort:i,page:s}=t,r=l=>{if(l.key==null)return;let c=e.value.map(h=>({...h}))??[];const u=c.find(h=>h.key===l.key);u?u.order==="desc"?n.value?u.order="asc":c=c.filter(h=>h.key!==l.key):u.order="desc":i.value?c=[...c,{key:l.key,order:"asc"}]:c=[{key:l.key,order:"asc"}],e.value=c,s&&(s.value=1)};function o(l){return!!e.value.find(c=>c.key===l.key)}const a={sortBy:e,toggleSort:r,isSorted:o};return ht(rD,a),a}function cQ(){const t=Ve(rD);if(!t)throw new Error("Missing sort!");return t}function uQ(t,e,n,i,s){const r=js();return{sortedItems:I(()=>n.value.length?hQ(e.value,n.value,r.current.value,{...t.customKeySort,...i==null?void 0:i.value},s==null?void 0:s.value):e.value)}}function hQ(t,e,n,i,s){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return[...t].sort((o,a)=>{for(let l=0;l<e.length;l++){const c=e[l].key,u=e[l].order??"asc";if(u===!1)continue;let h=So(o.raw,c),d=So(a.raw,c),f=o.raw,g=a.raw;if(u==="desc"&&([h,d]=[d,h],[f,g]=[g,f]),s!=null&&s[c]){const m=s[c](f,g);if(!m)continue;return m}if(i!=null&&i[c]){const m=i[c](h,d);if(!m)continue;return m}if(h instanceof Date&&d instanceof Date)return h.getTime()-d.getTime();if([h,d]=[h,d].map(m=>m!=null?m.toString().toLocaleLowerCase():m),h!==d)return lh(h)&&lh(d)?0:lh(h)?-1:lh(d)?1:!isNaN(h)&&!isNaN(d)?Number(h)-Number(d):r.compare(h,d)}return 0})}const oD=j({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:ze,default:"$sortAsc"},sortDescIcon:{type:ze,default:"$sortDesc"},headerProps:{type:Object},...Tg()},"VDataTableHeaders"),cI=he()({name:"VDataTableHeaders",props:oD(),setup(t,e){let{slots:n}=e;const{toggleSort:i,sortBy:s,isSorted:r}=cQ(),{someSelected:o,allSelected:a,selectAll:l,showSelectAll:c}=Kg(),{columns:u,headers:h}=Gg(),{loaderClasses:d}=Eg(t);function f(w,b){if(!(!t.sticky&&!w.fixed))return{position:"sticky",left:w.fixed?_e(w.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${b})`:void 0}}function g(w){const b=s.value.find(S=>S.key===w.key);return b?b.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:m,backgroundColorStyles:p}=mi(t,"color"),v=I(()=>({headers:h.value,columns:u.value,toggleSort:i,isSorted:r,sortBy:s.value,someSelected:o.value,allSelected:a.value,selectAll:l,getSortIcon:g})),y=w=>{let{column:b,x:S,y:E}=w;const T=b.key==="data-table-select"||b.key==="data-table-expand",C=Se(t.headerProps??{},b.headerProps??{});return _(kb,Se({tag:"th",align:b.align,class:["v-data-table__th",{"v-data-table__th--sortable":b.sortable,"v-data-table__th--sorted":r(b),"v-data-table__th--fixed":b.fixed,"v-data-table__th--sticky":t.sticky},d.value],style:{width:_e(b.width),minWidth:_e(b.minWidth),...f(b,E)},colspan:b.colspan,rowspan:b.rowspan,onClick:b.sortable?()=>i(b):void 0,fixed:b.fixed,lastFixed:b.lastFixed,noPadding:T},C),{default:()=>{var D;const P=`header.${b.key}`,R={column:b,selectAll:l,isSorted:r,toggleSort:i,sortBy:s.value,someSelected:o.value,allSelected:a.value,getSortIcon:g};return n[P]?n[P](R):b.key==="data-table-select"?((D=n["header.data-table-select"])==null?void 0:D.call(n,R))??(c&&_(Wg,{modelValue:a.value,indeterminate:o.value&&!a.value,"onUpdate:modelValue":l},null)):_("div",{class:"v-data-table-header__content"},[_("span",null,[b.title]),b.sortable&&_(Ft,{key:"icon",class:"v-data-table-header__sort-icon",icon:g(b)},null),t.multiSort&&r(b)&&_("div",{key:"badge",class:["v-data-table-header__sort-badge",...m.value],style:p.value},[s.value.findIndex(k=>k.key===b.key)+1])])}})};be(()=>_(Oe,null,[n.headers?n.headers(v.value):h.value.map((w,b)=>_("tr",null,[w.map((S,E)=>_(y,{column:S,x:E,y:b},null))])),t.loading&&_("tr",{class:"v-data-table-progress"},[_("th",{colspan:u.value.length},[_(Gy,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:n.loader})])])]))}}),dQ=j({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),aD=Symbol.for("vuetify:data-table-group");function fQ(t){return{groupBy:Ze(t,"groupBy")}}function gQ(t){const{groupBy:e,sortBy:n}=t,i=ae(new Set),s=I(()=>e.value.map(c=>({...c,order:c.order??!1})).concat(n.value));function r(c){return i.value.has(c.id)}function o(c){const u=new Set(i.value);r(c)?u.delete(c.id):u.add(c.id),i.value=u}function a(c){function u(h){const d=[];for(const f of h.items)"type"in f&&f.type==="group"?d.push(...u(f)):d.push(f);return d}return u({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const l={sortByWithGroups:s,toggleGroup:o,opened:i,groupBy:e,extractRows:a,isGroupOpen:r};return ht(aD,l),l}function lD(){const t=Ve(aD);if(!t)throw new Error("Missing group!");return t}function mQ(t,e){if(!t.length)return[];const n=new Map;for(const i of t){const s=So(i.raw,e);n.has(s)||n.set(s,[]),n.get(s).push(i)}return n}function cD(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const s=mQ(t,e[0]),r=[],o=e.slice(1);return s.forEach((a,l)=>{const c=e[0],u=`${i}_${c}_${l}`;r.push({depth:n,id:u,key:c,value:l,items:o.length?cD(a,o,n+1,u):a,type:"group"})}),r}function uD(t,e){const n=[];for(const i of t)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(e.has(i.id)||i.value==null)&&n.push(...uD(i.items,e))):n.push(i);return n}function pQ(t,e,n){return{flatItems:I(()=>{if(!e.value.length)return t.value;const s=cD(t.value,e.value.map(r=>r.key));return uD(s,n.value)})}}const vQ=j({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),_Q=he()({name:"VDataTableGroupHeaderRow",props:vQ(),setup(t,e){let{slots:n}=e;const{isGroupOpen:i,toggleGroup:s,extractRows:r}=lD(),{isSelected:o,isSomeSelected:a,select:l}=Kg(),{columns:c}=Gg(),u=I(()=>r([t.item]));return()=>_("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[c.value.map(h=>{var d,f;if(h.key==="data-table-group"){const g=i(t.item)?"$expand":"$next",m=()=>s(t.item);return((d=n["data-table-group"])==null?void 0:d.call(n,{item:t.item,count:u.value.length,props:{icon:g,onClick:m}}))??_(kb,{class:"v-data-table-group-header-row__column"},{default:()=>[_(Ht,{size:"small",variant:"text",icon:g,onClick:m},null),_("span",null,[t.item.value]),_("span",null,[It("("),u.value.length,It(")")])]})}if(h.key==="data-table-select"){const g=o(u.value),m=a(u.value)&&!g,p=v=>l(u.value,v);return((f=n["data-table-select"])==null?void 0:f.call(n,{props:{modelValue:g,indeterminate:m,"onUpdate:modelValue":p}}))??_("td",null,[_(Wg,{modelValue:g,indeterminate:m,"onUpdate:modelValue":p},null)])}return _("td",null,null)})])}}),yQ=j({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),hD=Symbol.for("vuetify:datatable:expanded");function bQ(t){const e=ne(t,"expandOnClick"),n=Ze(t,"expanded",t.expanded,a=>new Set(a),a=>[...a.values()]);function i(a,l){const c=new Set(n.value);l?c.add(a.value):c.delete(a.value),n.value=c}function s(a){return n.value.has(a.value)}function r(a){i(a,!s(a))}const o={expand:i,expanded:n,expandOnClick:e,isExpanded:s,toggleExpand:r};return ht(hD,o),o}function dD(){const t=Ve(hD);if(!t)throw new Error("foo");return t}const wQ=j({index:Number,item:Object,cellProps:[Object,Function],onClick:Mn(),onContextmenu:Mn(),onDblclick:Mn()},"VDataTableRow"),SQ=he()({name:"VDataTableRow",props:wQ(),setup(t,e){let{slots:n}=e;const{isSelected:i,toggleSelect:s}=Kg(),{isExpanded:r,toggleExpand:o}=dD(),{columns:a}=Gg();be(()=>_("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(t.onClick||t.onContextmenu||t.onDblclick)}],onClick:t.onClick,onContextmenu:t.onContextmenu,onDblclick:t.onDblclick},[t.item&&a.value.map((l,c)=>{const u=t.item,h=`item.${l.key}`,d={index:t.index,item:u.raw,internalItem:u,value:So(u.columns,l.key),column:l,isSelected:i,toggleSelect:s,isExpanded:r,toggleExpand:o},f=typeof t.cellProps=="function"?t.cellProps({index:d.index,item:d.item,internalItem:d.internalItem,value:d.value,column:l}):t.cellProps,g=typeof l.cellProps=="function"?l.cellProps({index:d.index,item:d.item,internalItem:d.internalItem,value:d.value}):l.cellProps;return _(kb,Se({align:l.align,fixed:l.fixed,fixedOffset:l.fixedOffset,lastFixed:l.lastFixed,noPadding:l.key==="data-table-select"||l.key==="data-table-expand",width:l.width},f,g),{default:()=>{var m,p;return n[h]?n[h](d):l.key==="data-table-select"?((m=n["item.data-table-select"])==null?void 0:m.call(n,d))??_(Wg,{disabled:!u.selectable,modelValue:i([u]),onClick:xc(()=>s(u),["stop"])},null):l.key==="data-table-expand"?((p=n["item.data-table-expand"])==null?void 0:p.call(n,d))??_(Ht,{icon:r(u)?"$collapse":"$expand",size:"small",variant:"text",onClick:xc(()=>o(u),["stop"])},null):IC(d.value)}})})]))}}),fD=j({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function]},"VDataTableRows"),uI=he()({name:"VDataTableRows",inheritAttrs:!1,props:fD(),setup(t,e){let{attrs:n,slots:i}=e;const{columns:s}=Gg(),{expandOnClick:r,toggleExpand:o,isExpanded:a}=dD(),{isSelected:l,toggleSelect:c}=Kg(),{toggleGroup:u,isGroupOpen:h}=lD(),{t:d}=js();return be(()=>{var f,g;return t.loading&&(!t.items.length||i.loading)?_("tr",{class:"v-data-table-rows-loading",key:"loading"},[_("td",{colspan:s.value.length},[((f=i.loading)==null?void 0:f.call(i))??d(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?_("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[_("td",{colspan:s.value.length},[((g=i["no-data"])==null?void 0:g.call(i))??d(t.noDataText)])]):_(Oe,null,[t.items.map((m,p)=>{var w;if(m.type==="group"){const b={index:p,item:m,columns:s.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:c,toggleGroup:u,isGroupOpen:h};return i["group-header"]?i["group-header"](b):_(_Q,Se({key:`group-header_${m.id}`,item:m},vw(n,":group-header",()=>b)),i)}const v={index:p,item:m.raw,internalItem:m,columns:s.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:c},y={...v,props:Se({key:`item_${m.key??m.index}`,onClick:r.value?()=>{o(m)}:void 0,index:p,item:m,cellProps:t.cellProps},vw(n,":row",()=>v),typeof t.rowProps=="function"?t.rowProps({item:v.item,index:v.index,internalItem:v.internalItem}):t.rowProps)};return _(Oe,{key:y.props.key},[i.item?i.item(y):_(SQ,y.props,i),a(m)&&((w=i["expanded-row"])==null?void 0:w.call(i,v))])})])}),{}}}),gD=j({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...xe(),...$n(),...at(),...Et()},"VTable"),hI=he()({name:"VTable",props:gD(),setup(t,e){let{slots:n,emit:i}=e;const{themeClasses:s}=Mt(t),{densityClasses:r}=bi(t);return be(()=>_(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":t.hover},s.value,r.value,t.class],style:t.style},{default:()=>{var o,a,l;return[(o=n.top)==null?void 0:o.call(n),n.default?_("div",{class:"v-table__wrapper",style:{height:_e(t.height)}},[_("table",null,[n.default()])]):(a=n.wrapper)==null?void 0:a.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),TQ=j({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function EQ(t,e,n,i){const s=t.returnObject?e:Pn(e,t.itemValue),r=Pn(e,t.itemSelectable,!0),o=i.reduce((a,l)=>(l.key!=null&&(a[l.key]=Pn(e,l.value)),a),{});return{type:"item",key:t.returnObject?Pn(e,t.itemValue):s,index:n,value:s,selectable:r,columns:o,raw:e}}function IQ(t,e,n){return e.map((i,s)=>EQ(t,i,s,n))}function CQ(t,e){return{items:I(()=>IQ(t,t.items,e.value))}}function xQ(t){let{page:e,itemsPerPage:n,sortBy:i,groupBy:s,search:r}=t;const o=Dt("VDataTable"),a=I(()=>({page:e.value,itemsPerPage:n.value,sortBy:i.value,groupBy:s.value,search:r.value}));let l=null;ve(a,()=>{Or(l,a.value)||((l==null?void 0:l.search)!==a.value.search&&(e.value=1),o.emit("update:options",a.value),l=a.value)},{deep:!0,immediate:!0})}const AQ=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),PQ=j({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function kQ(t,e,n){var a;const i=[],s=(n==null?void 0:n.default)??AQ,r=n!=null&&n.filterKeys?Dn(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return i;e:for(let l=0;l<t.length;l++){const[c,u=c]=Dn(t[l]),h={},d={};let f=-1;if(e&&!(n!=null&&n.noFilter)){if(typeof c=="object"){const p=r||Object.keys(u);for(const v of p){const y=Pn(u,v),w=(a=n==null?void 0:n.customKeyFilter)==null?void 0:a[v];if(f=w?w(y,e,c):s(y,e,c),f!==-1&&f!==!1)w?h[v]=f:d[v]=f;else if((n==null?void 0:n.filterMode)==="every")continue e}}else f=s(c,e,c),f!==-1&&f!==!1&&(d.title=f);const g=Object.keys(d).length,m=Object.keys(h).length;if(!g&&!m||(n==null?void 0:n.filterMode)==="union"&&m!==o&&!g||(n==null?void 0:n.filterMode)==="intersection"&&(m!==o||!g))continue}i.push({index:l,matches:{...d,...h}})}return i}function RQ(t,e,n,i){const s=ae([]),r=ae(new Map),o=I(()=>i!=null&&i.transform?Rt(e).map(l=>[l,i.transform(l)]):Rt(e));Vn(()=>{const l=typeof n=="function"?n():Rt(n),c=typeof l!="string"&&typeof l!="number"?"":String(l),u=kQ(o.value,c,{customKeyFilter:{...t.customKeyFilter,...Rt(i==null?void 0:i.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),h=Rt(e),d=[],f=new Map;u.forEach(g=>{let{index:m,matches:p}=g;const v=h[m];d.push(v),f.set(v.value,p)}),s.value=d,r.value=f});function a(l){return r.value.get(l.value)}return{filteredItems:s,filteredMatches:r,getMatches:a}}const OQ=j({...fD(),width:[String,Number],search:String,...yQ(),...dQ(),...XX(),...TQ(),...sQ(),...oQ(),...oD(),...gD()},"DataTable"),DQ=j({...WX(),...OQ(),...PQ(),...QO()},"VDataTable"),MQ=he()({name:"VDataTable",props:DQ(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=fQ(t),{sortBy:r,multiSort:o,mustSort:a}=aQ(t),{page:l,itemsPerPage:c}=qX(t),{columns:u,headers:h,sortFunctions:d,sortRawFunctions:f,filterFunctions:g}=nQ(t,{groupBy:s,showSelect:ne(t,"showSelect"),showExpand:ne(t,"showExpand")}),{items:m}=CQ(t,u),p=ne(t,"search"),{filteredItems:v}=RQ(t,m,p,{transform:me=>me.columns,customKeyFilter:g}),{toggleSort:y}=lQ({sortBy:r,multiSort:o,mustSort:a,page:l}),{sortByWithGroups:w,opened:b,extractRows:S,isGroupOpen:E,toggleGroup:T}=gQ({groupBy:s,sortBy:r}),{sortedItems:C}=uQ(t,v,w,d,f),{flatItems:P}=pQ(C,s,b),R=I(()=>P.value.length),{startIndex:D,stopIndex:k,pageCount:O,setItemsPerPage:V}=GX({page:l,itemsPerPage:c,itemsLength:R}),{paginatedItems:B}=YX({items:P,startIndex:D,stopIndex:k,itemsPerPage:c}),X=I(()=>S(B.value)),{isSelected:K,select:L,selectAll:z,toggleSelect:$,someSelected:W,allSelected:Y}=rQ(t,{allItems:m,currentPage:X}),{isExpanded:ce,toggleExpand:ge}=bQ(t);xQ({page:l,itemsPerPage:c,sortBy:r,groupBy:s,search:p}),gi({VDataTableRows:{hideNoData:ne(t,"hideNoData"),noDataText:ne(t,"noDataText"),loading:ne(t,"loading"),loadingText:ne(t,"loadingText")}});const pe=I(()=>({page:l.value,itemsPerPage:c.value,sortBy:r.value,pageCount:O.value,toggleSort:y,setItemsPerPage:V,someSelected:W.value,allSelected:Y.value,isSelected:K,select:L,selectAll:z,toggleSelect:$,isExpanded:ce,toggleExpand:ge,isGroupOpen:E,toggleGroup:T,items:X.value.map(me=>me.raw),internalItems:X.value,groupedItems:B.value,columns:u.value,headers:h.value}));return be(()=>{const me=lI.filterProps(t),N=cI.filterProps(t),Q=uI.filterProps(t),ee=hI.filterProps(t);return _(hI,Se({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},ee),{top:()=>{var ue;return(ue=i.top)==null?void 0:ue.call(i,pe.value)},default:()=>{var ue,Fe,et,x,A,M;return i.default?i.default(pe.value):_(Oe,null,[(ue=i.colgroup)==null?void 0:ue.call(i,pe.value),_("thead",null,[_(cI,N,i)]),(Fe=i.thead)==null?void 0:Fe.call(i,pe.value),_("tbody",null,[(et=i["body.prepend"])==null?void 0:et.call(i,pe.value),i.body?i.body(pe.value):_(uI,Se(n,Q,{items:B.value}),i),(x=i["body.append"])==null?void 0:x.call(i,pe.value)]),(A=i.tbody)==null?void 0:A.call(i,pe.value),(M=i.tfoot)==null?void 0:M.call(i,pe.value)])},bottom:()=>i.bottom?i.bottom(pe.value):_(Oe,null,[_(qg,null,null),_(lI,me,{prepend:i["footer.prepend"]})])})}),{}}});function NQ(t,e,n,i,s,r){const o=T_("DoughnutChart");return Vt(),Cc(Oe,null,[_(JR,{elevation:2,color:"primary"},{append:oe(()=>[_(Ht,{onClick:t.logout,icon:"mdi-exit-to-app"},null,8,["onClick"])]),default:oe(()=>[_(ZR,null,{default:oe(()=>[It("Panel del profesor")]),_:1})]),_:1}),_(ml,{fluid:""},{default:oe(()=>[_(Ji,{"no-gutters":""},{default:oe(()=>[_(Kn,{cols:"6",class:"pa-2",id:"contenedor",ref:"contenedor"},{default:oe(()=>[_(xr,{color:"secondary",dark:"",class:"custom-card",id:"card1",ref:"card1"},{text:oe(()=>[_(Is,{id:"cabezera2",ref:"cabezera2",modelValue:t.search,"onUpdate:modelValue":e[0]||(e[0]=a=>t.search=a),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),default:oe(()=>[_(Xy,{class:"bg-orange-darken-4",id:"cabezera",ref:"cabezera"},{append:oe(()=>[_(Ht,{color:"white",icon:"mdi-plus",size:"small"})]),default:oe(()=>[_(Po,null,{default:oe(()=>[It(" Alumnos ")]),_:1})]),_:1},512),_(qg),_(MQ,{class:"child",headers:t.headers,items:t.alumnos,search:t.search},null,8,["headers","items","search"])]),_:1},512)]),_:1},512),_(Kn,{cols:"6",class:"pa-2"},{default:oe(()=>[_(xr,{class:"custom-card"},{default:oe(()=>[_(Po,null,{default:oe(()=>[It("Resultados globales")]),_:1}),_(o,{class:"ma-5",chartData:t.datosMedios},null,8,["chartData"])]),_:1})]),_:1})]),_:1})]),_:1})],64)}const LQ=Go(jX,[["render",NQ],["__scopeId","data-v-5141771e"]]),VQ=[{path:"/",redirect:{name:"calendario"},name:"home",meta:{requiresAuth:!0}},{path:"/profesorado",component:LQ,name:"profesorado",meta:{requiresAuth:!0}},{path:"/login",component:$W,name:"login"},{path:"/calendario",name:"calendario",component:d5,meta:{requiresAuth:!0}},{path:"/encuesta",name:"encuesta",component:FX,meta:{requiresAuth:!0}},{path:"/encuesta2",name:"encuesta2",component:UX,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"not-found",redirect:{name:"calendario"}}],wr=NB({history:uB("/school-nutrition/"),routes:VQ});wr.beforeEach((t,e,n)=>{const i=li.get("admin"),s=li.get("app_uid");t.matched.some(r=>r.meta.requiresAuth)&&!s?n({name:"login"}):i==="true"?t.path!=="/profesorado"?n({path:"/profesorado"}):n():s&&t.path==="/profesorado"?n({path:"/calendario"}):n()});function Ob(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function mD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FQ=mD,pD=new rl("auth","Firebase",mD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new mu("@firebase/auth");function BQ(t,...e){of.logLevel<=$e.WARN&&of.warn(`Auth (${Dr}): ${t}`,...e)}function ed(t,...e){of.logLevel<=$e.ERROR&&of.error(`Auth (${Dr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,...e){throw Db(t,...e)}function es(t,...e){return Db(t,...e)}function $Q(t,e,n){const i=Object.assign(Object.assign({},FQ()),{[e]:n});return new rl("auth","Firebase",i).create(e,{appName:t.name})}function Db(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return pD.create(t,...e)}function Ne(t,e,...n){if(!t)throw Db(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function Bs(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UQ(){return dI()==="http:"||dI()==="https:"}function dI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UQ()||QB()||"connection"in navigator)?navigator.onLine:!0}function zQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bs(n>e,"Short delay should be less than long delay!"),this.isMobile=U_()||CA()}get(){return jQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e){Bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=new Wu(3e4,6e4);function Nb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vl(t,e,n,i,s={}){return _D(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=ol(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),vD.fetch()(yD(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function _D(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},HQ),e);try{const s=new GQ(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Nh(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nh(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $Q(t,u,c);Fs(t,u)}}catch(s){if(s instanceof hs)throw s;Fs(t,"network-request-failed",{message:String(s)})}}async function qQ(t,e,n,i,s={}){const r=await vl(t,e,n,i,s);return"mfaPendingCredential"in r&&Fs(t,"multi-factor-auth-required",{_serverResponse:r}),r}function yD(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Mb(t.config,s):`${t.config.apiScheme}://${s}`}class GQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(es(this.auth,"network-request-failed")),WQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=es(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KQ(t,e){return vl(t,"POST","/v1/accounts:delete",e)}async function YQ(t,e){return vl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XQ(t,e=!1){const n=Fn(t),i=await n.getIdToken(e),s=Lb(i);Ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:pc(op(s.auth_time)),issuedAtTime:pc(op(s.iat)),expirationTime:pc(op(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function op(t){return Number(t)*1e3}function Lb(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const s=Cd(n);return s?JSON.parse(s):(ed("Failed to decode base64 JWT payload"),null)}catch(s){return ed("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function QQ(t){const e=Lb(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof hs&&JQ(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function JQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t){var e;const n=t.auth,i=await t.getIdToken(),s=await ou(t,YQ(n,{idToken:i}));Ne(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?nJ(r.providerUserInfo):[],a=tJ(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new bD(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function eJ(t){const e=Fn(t);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tJ(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function nJ(t){return t.map(e=>{var{providerId:n}=e,i=Ob(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iJ(t,e){const n=await _D(t,{},async()=>{const i=ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=yD(t,s,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vD.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sJ(t,e){return vl(t,"POST","/v2/accounts:revokeToken",Nb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QQ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await iJ(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new au;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(Ne(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(Ne(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new au,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yo{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=Ob(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new bD(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XQ(this,e)}reload(){return eJ(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await af(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ou(this,KQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,p=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:b,isAnonymous:S,providerData:E,stsTokenManager:T}=n;Ne(w&&T,e,"internal-error");const C=au.fromJSON(this.name,T);Ne(typeof w=="string",e,"internal-error"),Qs(h,e.name),Qs(d,e.name),Ne(typeof b=="boolean",e,"internal-error"),Ne(typeof S=="boolean",e,"internal-error"),Qs(f,e.name),Qs(g,e.name),Qs(m,e.name),Qs(p,e.name),Qs(v,e.name),Qs(y,e.name);const P=new yo({uid:w,auth:e,email:d,emailVerified:b,displayName:h,isAnonymous:S,photoURL:g,phoneNumber:f,tenantId:m,stsTokenManager:C,createdAt:v,lastLoginAt:y});return E&&Array.isArray(E)&&(P.providerData=E.map(R=>Object.assign({},R))),p&&(P._redirectEventId=p),P}static async _fromIdTokenResponse(e,n,i=!1){const s=new au;s.updateFromServerResponse(n);const r=new yo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await af(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Map;function Ps(t){Bs(t instanceof Function,"Expected a class definition");let e=fI.get(t);return e?(Bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wD.type="NONE";const gI=wD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class xa{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=td(this.userKey,s.apiKey,r),this.fullPersistenceKey=td("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new xa(Ps(gI),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||Ps(gI);const o=td(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=yo._fromJSON(e,u);c!==r&&(a=h),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new xa(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new xa(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ED(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CD(e))return"Blackberry";if(xD(e))return"Webos";if(Vb(e))return"Safari";if((e.includes("chrome/")||TD(e))&&!e.includes("edge/"))return"Chrome";if(ID(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function SD(t=Ut()){return/firefox\//i.test(t)}function Vb(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TD(t=Ut()){return/crios\//i.test(t)}function ED(t=Ut()){return/iemobile/i.test(t)}function ID(t=Ut()){return/android/i.test(t)}function CD(t=Ut()){return/blackberry/i.test(t)}function xD(t=Ut()){return/webos/i.test(t)}function Yg(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rJ(t=Ut()){var e;return Yg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oJ(){return JB()&&document.documentMode===10}function AD(t=Ut()){return Yg(t)||ID(t)||xD(t)||CD(t)||/windows phone/i.test(t)||ED(t)}function aJ(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e=[]){let n;switch(t){case"Browser":n=mI(Ut());break;case"Worker":n=`${mI(Ut())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cJ(t,e={}){return vl(t,"GET","/v2/passwordPolicy",Nb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ=6;class hJ{constructor(e){var n,i,s,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:uJ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pI(this),this.idTokenSubscription=new pI(this),this.beforeStateQueue=new lJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await xa.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Fn(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cJ(this),n=new hJ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await sJ(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kD(t){return Fn(t)}class pI{constructor(e){this.auth=e,this.observer=null,this.addObserver=a$(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fJ(t){Fb=t}function gJ(t){return Fb.loadJS(t)}function mJ(){return Fb.gapiScript}function pJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(t,e){const n=RA(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Ad(r,e??{}))return s;Fs(s,"already-initialized")}return n.initialize({options:e})}function _J(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t,e){return qQ(t,"POST","/v1/accounts:signInWithIdp",Nb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ="http://localhost";class No extends RD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=Ob(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new No(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Aa(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Aa(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Aa(e,n)}buildRequest(){const e={requestUri:yJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends OD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends qu{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return No._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return rr.credential(n,i)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends qu{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends qu{constructor(){super("twitter.com")}static credential(e,n){return No._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ar.credential(n,i)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await yo._fromIdTokenResponse(e,i,s),o=vI(i);return new Qa({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=vI(i);return new Qa({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function vI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends hs{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,lf.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new lf(e,n,i,s)}}function DD(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?lf._fromErrorAndOperation(t,r,e,i):r})}async function bJ(t,e,n=!1){const i=await ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wJ(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const r=await ou(t,DD(i,s,e,t),n);Ne(r.idToken,i,"internal-error");const o=Lb(r.idToken);Ne(o,i,"internal-error");const{sub:a}=o;return Ne(t.uid===a,i,"user-mismatch"),Qa._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Fs(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SJ(t,e,n=!1){const i="signIn",s=await DD(t,i,e),r=await Qa._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}function TJ(t,e,n,i){return Fn(t).onIdTokenChanged(e,n,i)}const cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(){const t=Ut();return Vb(t)||Yg(t)}const IJ=1e3,CJ=10;class ND extends MD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=EJ()&&aJ(),this.fallbackToPolling=AD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);oJ()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,CJ):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},IJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ND.type="LOCAL";const xJ=ND;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD extends MD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LD.type="SESSION";const VD=LD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AJ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Xg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await AJ(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Bb("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(d.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function kJ(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function RJ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OJ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DJ(){return FD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firebaseLocalStorageDb",MJ=1,uf="firebaseLocalStorage",$D="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qg(t,e){return t.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function NJ(){const t=indexedDB.deleteDatabase(BD);return new Gu(t).toPromise()}function jv(){const t=indexedDB.open(BD,MJ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(uf,{keyPath:$D})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(uf)?e(i):(i.close(),await NJ(),e(await jv()))})})}async function _I(t,e,n){const i=Qg(t,!0).put({[$D]:e,value:n});return new Gu(i).toPromise()}async function LJ(t,e){const n=Qg(t,!1).get(e),i=await new Gu(n).toPromise();return i===void 0?null:i.value}function yI(t,e){const n=Qg(t,!0).delete(e);return new Gu(n).toPromise()}const VJ=800,FJ=3;class UD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>FJ)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xg._getInstance(DJ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RJ(),!this.activeServiceWorker)return;this.sender=new PJ(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OJ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jv();return await _I(e,cf,"1"),await yI(e,cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>_I(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>LJ(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Qg(s,!1).getAll();return new Gu(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UD.type="LOCAL";const BJ=UD;new Wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(t,e){return e?Ps(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends RD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Aa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UJ(t){return SJ(t.auth,new $b(t),t.bypassAuthState)}function jJ(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),wJ(n,new $b(t),t.bypassAuthState)}async function zJ(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),bJ(n,new $b(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UJ;case"linkViaPopup":case"linkViaRedirect":return zJ;case"reauthViaPopup":case"reauthViaRedirect":return jJ;default:Fs(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ=new Wu(2e3,1e4);class pa extends jD{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Bs(this.filter.length===1,"Popup operations only handle one event");const e=Bb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HJ.get())};e()}}pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ="pendingRedirect",nd=new Map;class qJ extends jD{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const i=await GJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GJ(t,e){const n=XJ(e),i=YJ(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function KJ(t,e){nd.set(t._key(),e)}function YJ(t){return Ps(t._redirectPersistence)}function XJ(t){return td(WJ,t.config.apiKey,t.name)}async function QJ(t,e,n=!1){const i=kD(t),s=$J(i,e),o=await new qJ(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JJ=10*60*1e3;class ZJ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!zD(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(es(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(bI(e))}saveEventToCache(e){this.cachedEventUids.add(bI(e)),this.lastProcessedEventTime=Date.now()}}function bI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tZ(t,e={}){return vl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iZ=/^https?/;async function sZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tZ(t);for(const n of e)try{if(rZ(n))return}catch{}Fs(t,"unauthorized-domain")}function rZ(t){const e=Uv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!iZ.test(n))return!1;if(nZ.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oZ=new Wu(3e4,6e4);function wI(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aZ(t){return new Promise((e,n)=>{var i,s,r;function o(){wI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wI(),n(es(t,"network-request-failed"))},timeout:oZ.get()})}if(!((s=(i=ts().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=ts().gapi)===null||r===void 0)&&r.load)o();else{const a=pJ("iframefcb");return ts()[a]=()=>{gapi.load?o():n(es(t,"network-request-failed"))},gJ(`${mJ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw id=null,e})}let id=null;function lZ(t){return id=id||aZ(t),id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cZ=new Wu(5e3,15e3),uZ="__/auth/iframe",hZ="emulator/auth/iframe",dZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gZ(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mb(e,hZ):`https://${t.config.authDomain}/${uZ}`,i={apiKey:e.apiKey,appName:t.name,v:Dr},s=fZ.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${ol(i).slice(1)}`}async function mZ(t){const e=await lZ(t),n=ts().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:gZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dZ,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=es(t,"network-request-failed"),a=ts().setTimeout(()=>{r(o)},cZ.get());function l(){ts().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vZ=500,_Z=600,yZ="_blank",bZ="http://localhost";class SI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wZ(t,e,n,i=vZ,s=_Z){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pZ),{width:i.toString(),height:s.toString(),top:r,left:o}),c=Ut().toLowerCase();n&&(a=TD(c)?yZ:n),SD(c)&&(e=e||bZ,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,g])=>`${d}${f}=${g},`,"");if(rJ(c)&&a!=="_self")return SZ(e||"",a),new SI(null);const h=window.open(e||"",a,u);Ne(h,t,"popup-blocked");try{h.focus()}catch{}return new SI(h)}function SZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TZ="__/auth/handler",EZ="emulator/auth/handler",IZ=encodeURIComponent("fac");async function TI(t,e,n,i,s,r){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Dr,eventId:s};if(e instanceof OD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Fp(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(r||{}))o[u]=h}if(e instanceof qu){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${IZ}=${encodeURIComponent(l)}`:"";return`${CZ(t)}?${ol(a).slice(1)}${c}`}function CZ({config:t}){return t.emulator?Mb(t,EZ):`https://${t.authDomain}/${TZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class xZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VD,this._completeRedirectFn=QJ,this._overrideRedirectResult=KJ}async _openPopup(e,n,i,s){var r;Bs((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await TI(e,n,i,Uv(),s);return wZ(e,o,Bb())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await TI(e,n,i,Uv(),s);return kJ(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Bs(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await mZ(e),i=new ZJ(e);return n.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ap,{type:ap},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[ap];o!==void 0&&n(!!o),Fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AD()||Vb()||Yg()}}const AZ=xZ;var EI="@firebase/auth",II="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RZ(t){is(new Ri("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ne(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PD(t)},c=new dJ(i,s,r,l);return _J(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),is(new Ri("auth-internal",e=>{const n=kD(e.getProvider("auth").getImmediate());return(i=>new PZ(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(EI,II,kZ(t)),Qn(EI,II,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZ=5*60;KB("authIdTokenMaxAge");function DZ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fJ({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=es("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",DZ().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RZ("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ=new Map,NZ={activated:!1,tokenObservers:[]};function Mi(t){return MZ.get(t)||Object.assign({},NZ)}const CI={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(e,n,i,s,r){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=s,s>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Oc,this.pending.promise.catch(n=>{}),await VZ(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Oc,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function VZ(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FZ={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},hf=new rl("appCheck","AppCheck",FZ);function HD(t){if(!Mi(t).activated)throw hf.create("use-before-activation",{appName:t.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BZ="firebase-app-check-database",$Z=1,zv="firebase-app-check-store";let Lh=null;function UZ(){return Lh||(Lh=new Promise((t,e)=>{try{const n=indexedDB.open(BZ,$Z);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;e(hf.create("storage-open",{originalErrorMessage:(s=i.target.error)===null||s===void 0?void 0:s.message}))},n.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(zv,{keyPath:"compositeKey"})}}}catch(n){e(hf.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Lh)}function jZ(t,e){return zZ(HZ(t),e)}async function zZ(t,e){const i=(await UZ()).transaction(zv,"readwrite"),r=i.objectStore(zv).put({compositeKey:t,value:e});return new Promise((o,a)=>{r.onsuccess=l=>{o()},i.onerror=l=>{var c;a(hf.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})}function HZ(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new mu("@firebase/app-check");function xI(t,e){return j_()?jZ(t,e).catch(n=>{Hv.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ={error:"UNKNOWN_ERROR"};function qZ(t){return $f.encodeString(JSON.stringify(t),!1)}async function Wv(t,e=!1){const n=t.app;HD(n);const i=Mi(n);let s=i.token,r;if(s&&!Yl(s)&&(i.token=void 0,s=void 0),!s){const l=await i.cachedTokenPromise;l&&(Yl(l)?s=l:await xI(n,void 0))}if(!e&&s&&Yl(s))return{token:s.token};let o=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),s=await Mi(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Hv.warn(l.message):Hv.error(l),r=l}let a;return s?r?Yl(s)?a={token:s.token,internalError:r}:a=PI(r):(a={token:s.token},i.token=s,await xI(n,s)):a=PI(r),o&&XZ(n,a),a}async function GZ(t){const e=t.app;HD(e);const{provider:n}=Mi(e);{const{token:i}=await n.getToken();return{token:i}}}function KZ(t,e,n,i){const{app:s}=t,r=Mi(s),o={next:n,error:i,type:e};if(r.tokenObservers=[...r.tokenObservers,o],r.token&&Yl(r.token)){const a=r.token;Promise.resolve().then(()=>{n({token:a.token}),AI(t)}).catch(()=>{})}r.cachedTokenPromise.then(()=>AI(t))}function WD(t,e){const n=Mi(t),i=n.tokenObservers.filter(s=>s.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function AI(t){const{app:e}=t,n=Mi(e);let i=n.tokenRefresher;i||(i=YZ(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function YZ(t){const{app:e}=t;return new LZ(async()=>{const n=Mi(e);let i;if(n.token?i=await Wv(t,!0):i=await Wv(t),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=Mi(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},CI.RETRIAL_MIN_WAIT,CI.RETRIAL_MAX_WAIT)}function XZ(t,e){const n=Mi(t).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Yl(t){return t.expireTimeMillis-Date.now()>0}function PI(t){return{token:qZ(WZ),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Mi(this.app);for(const n of e)WD(this.app,n.next);return Promise.resolve()}}function JZ(t,e){return new QZ(t,e)}function ZZ(t){return{getToken:e=>Wv(t,e),getLimitedUseToken:()=>GZ(t),addTokenListener:e=>KZ(t,"INTERNAL",e),removeTokenListener:e=>WD(t.app,e)}}const eee="@firebase/app-check",tee="0.8.2",nee="app-check",kI="app-check-internal";function iee(){is(new Ri(nee,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return JZ(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(kI).initialize()})),is(new Ri(kI,t=>{const e=t.getProvider("app-check").getImmediate();return ZZ(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qn(eee,tee)}iee();const qD=Symbol("firebaseApp");function see(t){return Df()&&Ve(qD,null)||DA(t)}const Vh=new WeakMap;function ree(t,e){if(!Vh.has(t)){const n=If(!0);Vh.set(t,n);const{unmount:i}=e;e.unmount=()=>{i.call(e),n.stop(),Vh.delete(t)}}return Vh.get(t)}const oee=new WeakMap,Fh=new WeakMap;function aee(t){const e=see(t);if(!Fh.has(e)){let n;const s=[new Promise(r=>{n=r}),r=>{Fh.set(e,r),n(r.value)}];Fh.set(e,s)}return Fh.get(e)}function lee(t,e){TJ(e,n=>{const i=aee();t.value=n,Array.isArray(i)&&i[1](t)})}var RI={};const OI="@firebase/database",DI="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GD="";function cee(t){GD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),sn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Dc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uee(e)}}catch{}return new hee},uo=KD("localStorage"),qv=KD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new mu("@firebase/database"),dee=function(){let t=1;return function(){return t++}}(),YD=function(t){const e=h$(t),n=new o$;n.update(e);const i=n.digest();return $f.encodeByteArray(i)},Ku=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ku.apply(null,i):typeof i=="object"?e+=sn(i):e+=i,e+=" "}return e};let bo=null,MI=!0;const fee=function(t,e){se(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Pa.logLevel=$e.VERBOSE,bo=Pa.log.bind(Pa),e&&qv.set("logging_enabled",!0)):typeof t=="function"?bo=t:(bo=null,qv.remove("logging_enabled"))},dn=function(...t){if(MI===!0&&(MI=!1,bo===null&&qv.get("logging_enabled")===!0&&fee(!0)),bo){const e=Ku.apply(null,t);bo(e)}},Yu=function(t){return function(...e){dn(t,...e)}},Gv=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ku(...t);Pa.error(e)},Lo=function(...t){const e=`FIREBASE FATAL ERROR: ${Ku(...t)}`;throw Pa.error(e),new Error(e)},Jn=function(...t){const e="FIREBASE WARNING: "+Ku(...t);Pa.warn(e)},gee=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},XD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},mee=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ja="[MIN_NAME]",Vo="[MAX_NAME]",_l=function(t,e){if(t===e)return 0;if(t===Ja||e===Vo)return-1;if(e===Ja||t===Vo)return 1;{const n=NI(t),i=NI(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},pee=function(t,e){return t===e?0:t<e?-1:1},Vl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+sn(e))},Ub=function(t){if(typeof t!="object"||t===null)return sn(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=sn(e[i]),n+=":",n+=Ub(t[e[i]]);return n+="}",n},QD=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function vi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const JD=function(t){se(!XD(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,a,l;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(u.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},vee=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_ee=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},yee=new RegExp("^-?(0*)\\d{1,10}$"),bee=-2147483648,wee=2147483647,NI=function(t){if(yee.test(t)){const e=Number(t);if(e>=bee&&e<=wee)return e}return null},Xu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Jn("Exception was thrown by user callback.",n),e},Math.floor(0))}},See=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Jn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jn(e)}}class Kv{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Kv.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="5",ZD="v",eM="s",tM="r",nM="f",iM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sM="ls",rM="p",Yv="ac",oM="websocket",aM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{constructor(e,n,i,s,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=uo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&uo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Cee(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function lM(t,e,n){se(typeof e=="string","typeof type must == string"),se(typeof n=="object","typeof params must == object");let i;if(e===oM)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===aM)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Cee(t)&&(n.ns=t.namespace);const s=[];return vi(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(){this.counters_={}}incrementCounter(e,n=1){zs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return $B(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp={},cp={};function zb(t){const e=t.toString();return lp[e]||(lp[e]=new xee),lp[e]}function Aee(t,e){const n=t.toString();return cp[n]||(cp[n]=e()),cp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Xu(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="start",kee="close",Ree="pLPCommand",Oee="pRTLPCB",cM="id",uM="pw",hM="ser",Dee="cb",Mee="seg",Nee="ts",Lee="d",Vee="dframe",dM=1870,fM=30,Fee=dM-fM,Bee=25e3,$ee=3e4;class va{constructor(e,n,i,s,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yu(e),this.stats_=zb(n),this.urlFn=l=>(this.appCheckToken&&(l[Yv]=this.appCheckToken),lM(n,aM,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Pee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($ee)),mee(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hb((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===LI)this.id=a,this.password=l;else if(o===kee)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[LI]="t",i[hM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Dee]=this.scriptTagHolder.uniqueCallbackIdentifier),i[ZD]=jb,this.transportSessionId&&(i[eM]=this.transportSessionId),this.lastSessionId&&(i[sM]=this.lastSessionId),this.applicationId&&(i[rM]=this.applicationId),this.appCheckToken&&(i[Yv]=this.appCheckToken),typeof location<"u"&&location.hostname&&iM.test(location.hostname)&&(i[tM]=nM);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){va.forceAllow_=!0}static forceDisallow(){va.forceDisallow_=!0}static isAvailable(){return va.forceAllow_?!0:!va.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vee()&&!_ee()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=TA(n),s=QD(i,Fee);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Vee]="t",i[cM]=e,i[uM]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=sn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Hb{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dee(),window[Ree+this.uniqueCallbackIdentifier]=e,window[Oee+this.uniqueCallbackIdentifier]=n,this.myIFrame=Hb.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dn("frame writing exception"),a.stack&&dn(a.stack),dn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[cM]=this.myID,e[uM]=this.myPW,e[hM]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fM+i.length<=dM;){const o=this.pendingSegs.shift();i=i+"&"+Mee+s+"="+o.seg+"&"+Nee+s+"="+o.ts+"&"+Lee+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(Bee)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{dn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee=16384,jee=45e3;let df=null;typeof MozWebSocket<"u"?df=MozWebSocket:typeof WebSocket<"u"&&(df=WebSocket);class Si{constructor(e,n,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yu(this.connId),this.stats_=zb(n),this.connURL=Si.connectionURL_(n,o,a,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[ZD]=jb,typeof location<"u"&&location.hostname&&iM.test(location.hostname)&&(o[tM]=nM),n&&(o[eM]=n),i&&(o[sM]=i),s&&(o[Yv]=s),r&&(o[rM]=r),lM(e,oM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,uo.set("previous_websocket_failure",!0);try{let i;xA(),this.mySock=new df(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Si.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&df!==null&&!Si.forceDisallow_}static previouslyFailed(){return uo.isInMemoryStorage||uo.get("previous_websocket_failure")===!0}markConnectionHealthy(){uo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Dc(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(se(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=QD(n,Uee);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jee))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Si.responsesRequiredToBeHealthy=2;Si.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[va,Si]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Si&&Si.isAvailable();let i=n&&!Si.previouslyFailed();if(e.webSocketOnly&&(n||Jn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Si];else{const s=this.transports_=[];for(const r of lu.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);lu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zee=6e4,Hee=5e3,Wee=10*1024,qee=100*1024,up="t",VI="d",Gee="s",FI="r",Kee="e",BI="o",$I="a",UI="n",jI="p",Yee="h";class Xee{constructor(e,n,i,s,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yu("c:"+this.id+":"),this.transportManager_=new lu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=vc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qee?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Wee?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(up in e){const n=e[up];n===$I?this.upgradeIfSecondaryHealthy_():n===FI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===BI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vl("t",e),i=Vl("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$I,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:UI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vl("t",e),i=Vl("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vl(up,e);if(VI in e){const i=e[VI];if(n===Yee){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===UI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Gee?this.onConnectionShutdown_(i):n===FI?this.onReset_(i):n===Kee?Gv("Server Error: "+i):n===BI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),jb!==i&&Jn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),vc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zee))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Hee))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(uo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.allowedEvents_=e,this.listeners_={},se(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){se(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends mM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!U_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ff}getInitialEvent(e){return se(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=32,HI=768;class bt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function rt(){return new bt("")}function Ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Rr(t){return t.pieces_.length-t.pieceNum_}function vt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new bt(t.pieces_,e)}function pM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Qee(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function vM(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function _M(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new bt(e,0)}function Qt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof bt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new bt(n,0)}function He(t){return t.pieceNum_>=t.pieces_.length}function ci(t,e){const n=Ge(t),i=Ge(e);if(n===null)return e;if(n===i)return ci(vt(t),vt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yM(t,e){if(Rr(t)!==Rr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ii(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Rr(t)>Rr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Jee{constructor(e,n){this.errorPrefix_=n,this.parts_=vM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=jf(this.parts_[i]);bM(this)}}function Zee(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=jf(e),bM(t)}function ete(t){const e=t.parts_.pop();t.byteLength_-=jf(e),t.parts_.length>0&&(t.byteLength_-=1)}function bM(t){if(t.byteLength_>HI)throw new Error(t.errorPrefix_+"has a key path longer than "+HI+" bytes ("+t.byteLength_+").");if(t.parts_.length>zI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zI+") or object contains a cycle "+eo(t))}function eo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb extends mM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Wb}getInitialEvent(e){return se(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=1e3,tte=60*5*1e3,WI=30*1e3,nte=1.3,ite=3e4,ste="server_kill",qI=3;class Ms extends gM{constructor(e,n,i,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ms.nextPersistentConnectionId_++,this.log_=Yu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fl,this.maxReconnectDelay_=tte,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!xA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wb.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ff.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(sn(r)),se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Oc,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),se(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),se(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Ms.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&zs(e,"w")){const i=La(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Jn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||r$(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=WI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=s$(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),se(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+sn(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Gv("Unrecognized action received from server: "+sn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ite&&(this.reconnectDelay_=Fl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nte)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ms.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(h){se(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new Xee(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{Jn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(ste)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Jn(h),l())}}}interrupt(e){dn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Fp(this.interruptReasons_)&&(this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>Ub(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new bt(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){dn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qI&&(this.reconnectDelay_=WI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+GD.replace(/\./g,"-")]=1,U_()?e["framework.cordova"]=1:CA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ff.getInstance().currentlyOnline();return Fp(this.interruptReasons_)&&e}}Ms.nextPersistentConnectionId_=0;Ms.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ke(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Ke(Ja,e),s=new Ke(Ja,n);return this.compare(i,s)!==0}minPost(){return Ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh;class wM extends Jg{static get __EMPTY_NODE(){return Bh}static set __EMPTY_NODE(e){Bh=e}compare(e,n){return _l(e.name,n.name)}isDefinedOn(e){throw sl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ke.MIN}maxPost(){return new Ke(Vo,Bh)}makePost(e,n){return se(typeof e=="string","KeyIndex indexValue must always be a string."),new Ke(e,Bh)}toString(){return".key"}}const ka=new wM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Xt.RED,this.left=s??On.EMPTY_NODE,this.right=r??On.EMPTY_NODE}copy(e,n,i,s,r){return new Xt(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return On.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return On.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xt.RED=!0;Xt.BLACK=!1;class rte{copy(e,n,i,s,r){return this}insert(e,n,i){return new Xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class On{constructor(e,n=On.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new On(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(e){return new On(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $h(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new $h(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new $h(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new $h(this.root_,null,this.comparator_,!0,e)}}On.EMPTY_NODE=new rte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ote(t,e){return _l(t.name,e.name)}function qb(t,e){return _l(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xv;function ate(t){Xv=t}const SM=function(t){return typeof t=="number"?"number:"+JD(t):"string:"+t},TM=function(t){if(t.isLeafNode()){const e=t.val();se(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zs(e,".sv"),"Priority must be a string or number.")}else se(t===Xv||t.isEmpty(),"priority of unexpected type.");se(t===Xv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GI;class Kt{constructor(e,n=Kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,se(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),TM(this.priorityNode_)}static set __childrenNodeConstructor(e){GI=e}static get __childrenNodeConstructor(){return GI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Kt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return He(e)?this:Ge(e)===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Ge(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(se(i!==".priority"||Rr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(vt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+SM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=JD(this.value_):e+=this.value_,this.lazyHash_=YD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Kt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Kt.__childrenNodeConstructor?-1:(se(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Kt.VALUE_TYPE_ORDER.indexOf(n),r=Kt.VALUE_TYPE_ORDER.indexOf(i);return se(s>=0,"Unknown leaf type: "+n),se(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EM,IM;function lte(t){EM=t}function cte(t){IM=t}class ute extends Jg{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?_l(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ke.MIN}maxPost(){return new Ke(Vo,new Kt("[PRIORITY-POST]",IM))}makePost(e,n){const i=EM(e);return new Ke(n,new Kt("[PRIORITY-POST]",i))}toString(){return".priority"}}const vn=new ute;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte=Math.log(2);class dte{constructor(e){const n=r=>parseInt(Math.log(r)/hte,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gf=function(t,e,n,i){t.sort(e);const s=function(l,c){const u=c-l;let h,d;if(u===0)return null;if(u===1)return h=t[l],d=n?n(h):h,new Xt(d,h.node,Xt.BLACK,null,null);{const f=parseInt(u/2,10)+l,g=s(l,f),m=s(f+1,c);return h=t[f],d=n?n(h):h,new Xt(d,h.node,Xt.BLACK,g,m)}},r=function(l){let c=null,u=null,h=t.length;const d=function(g,m){const p=h-g,v=h;h-=g;const y=s(p+1,v),w=t[p],b=n?n(w):w;f(new Xt(b,w.node,m,null,y))},f=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const m=l.nextBitIsOne(),p=Math.pow(2,l.count-(g+1));m?d(p,Xt.BLACK):(d(p,Xt.BLACK),d(p,Xt.RED))}return u},o=new dte(t.length),a=r(o);return new On(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp;const aa={};class ks{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return se(aa&&vn,"ChildrenNode.ts has not been loaded"),hp=hp||new ks({".priority":aa},{".priority":vn}),hp}get(e){const n=La(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof On?n:null}hasIndex(e){return zs(this.indexSet_,e.toString())}addIndex(e,n){se(e!==ka,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(Ke.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=gf(i,e.getCompare()):a=aa;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new ks(u,c)}addToIndexes(e,n){const i=xd(this.indexes_,(s,r)=>{const o=La(this.indexSet_,r);if(se(o,"Missing index implementation for "+r),s===aa)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ke.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),gf(a,o.getCompare())}else return aa;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Ke(e.name,a))),l.insert(e,e.node)}});return new ks(i,this.indexSet_)}removeFromIndexes(e,n){const i=xd(this.indexes_,s=>{if(s===aa)return s;{const r=n.get(e.name);return r?s.remove(new Ke(e.name,r)):s}});return new ks(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl;class Je{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&TM(this.priorityNode_),this.children_.isEmpty()&&se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bl||(Bl=new Je(new On(qb),null,ks.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bl}updatePriority(e){return this.children_.isEmpty()?this:new Je(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Bl:n}}getChild(e){const n=Ge(e);return n===null?this:this.getImmediateChild(n).getChild(vt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(se(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Ke(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?Bl:this.priorityNode_;return new Je(s,o,r)}}updateChild(e,n){const i=Ge(e);if(i===null)return n;{se(Ge(e)!==".priority"||Rr(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(vt(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(vn,(o,a)=>{n[o]=a.val(e),i++,r&&Je.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+SM(this.getPriority().val())+":"),this.forEachChild(vn,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":YD(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new Ke(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ke(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ke(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ke.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ke.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qu?-1:0}withIndex(e){if(e===ka||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Je(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ka||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(vn),s=n.getIterator(vn);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ka?null:this.indexMap_.get(e.toString())}}Je.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fte extends Je{constructor(){super(new On(qb),Je.EMPTY_NODE,ks.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Je.EMPTY_NODE}isEmpty(){return!1}}const Qu=new fte;Object.defineProperties(Ke,{MIN:{value:new Ke(Ja,Je.EMPTY_NODE)},MAX:{value:new Ke(Vo,Qu)}});wM.__EMPTY_NODE=Je.EMPTY_NODE;Kt.__childrenNodeConstructor=Je;ate(Qu);cte(Qu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte=!0;function fn(t,e=null){if(t===null)return Je.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),se(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Kt(n,fn(e))}if(!(t instanceof Array)&&gte){const n=[];let i=!1;if(vi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=fn(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Ke(o,l)))}}),n.length===0)return Je.EMPTY_NODE;const r=gf(n,ote,o=>o.name,qb);if(i){const o=gf(n,vn.getCompare());return new Je(r,fn(e),new ks({".priority":o},{".priority":vn}))}else return new Je(r,fn(e),ks.Default)}else{let n=Je.EMPTY_NODE;return vi(t,(i,s)=>{if(zs(t,i)&&i.substring(0,1)!=="."){const r=fn(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(fn(e))}}lte(fn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte extends Jg{constructor(e){super(),this.indexPath_=e,se(!He(e)&&Ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?_l(e.name,n.name):r}makePost(e,n){const i=fn(e),s=Je.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ke(n,s)}maxPost(){const e=Je.EMPTY_NODE.updateChild(this.indexPath_,Qu);return new Ke(Vo,e)}toString(){return vM(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte extends Jg{compare(e,n){const i=e.node.compareTo(n.node);return i===0?_l(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ke.MIN}maxPost(){return Ke.MAX}makePost(e,n){const i=fn(e);return new Ke(n,i)}toString(){return".value"}}const vte=new pte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(t){return{type:"value",snapshotNode:t}}function yte(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function bte(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function KI(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function wte(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ja}hasEnd(){return this.endSet_}getIndexEndValue(){return se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vn}copy(){const e=new Gb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function YI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===vn?n="$priority":t.index_===vte?n="$value":t.index_===ka?n="$key":(se(t.index_ instanceof mte,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=sn(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=sn(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+sn(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=sn(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+sn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function XI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==vn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends gM{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Yu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(se(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=mf.getListenId_(e,i),a={};this.listens_[o]=a;const l=YI(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,i),La(this.listens_,o)===a){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",s(d,null)}})}unlisten(e,n){const i=mf.getListenId_(e,n);delete this.listens_[i]}get(e){const n=YI(e._queryParams),i=e._path.toString(),s=new Oc;return this.restRequest_(i+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ol(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Dc(a.responseText)}catch{Jn("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Jn("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(){this.rootNode_=Je.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(){return{value:null,children:new Map}}function CM(t,e,n){if(He(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Ge(e);t.children.has(i)||t.children.set(i,pf());const s=t.children.get(i);e=vt(e),CM(s,e,n)}}function Qv(t,e,n){t.value!==null?n(e,t.value):Tte(t,(i,s)=>{const r=new bt(e.toString()+"/"+i);Qv(s,r,n)})}function Tte(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vi(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=10*1e3,Ite=30*1e3,Cte=5*60*1e3;class xte{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ete(e);const i=QI+(Ite-QI)*Math.random();vc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;vi(e,(s,r)=>{r>0&&zs(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),vc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Cte))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ki||(Ki={}));function xM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function AM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function PM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Ki.ACK_USER_WRITE,this.source=xM()}operationForChild(e){if(He(this.path)){if(this.affectedTree.value!=null)return se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new bt(e));return new vf(rt(),n,this.revert)}}else return se(Ge(this.path)===e,"operationForChild called for unrelated child."),new vf(vt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Ki.OVERWRITE}operationForChild(e){return He(this.path)?new Fo(this.source,rt(),this.snap.getImmediateChild(e)):new Fo(this.source,vt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Ki.MERGE}operationForChild(e){if(He(this.path)){const n=this.children.subtree(new bt(e));return n.isEmpty()?null:n.value?new Fo(this.source,rt(),n.value):new cu(this.source,rt(),n)}else return se(Ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new cu(this.source,vt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(He(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Ate(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(wte(o.childName,o.snapshotNode))}),$l(t,s,"child_removed",e,i,n),$l(t,s,"child_added",e,i,n),$l(t,s,"child_moved",r,i,n),$l(t,s,"child_changed",e,i,n),$l(t,s,"value",e,i,n),s}function $l(t,e,n,i,s,r){const o=i.filter(a=>a.type===n);o.sort((a,l)=>kte(t,a,l)),o.forEach(a=>{const l=Pte(t,a,r);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Pte(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function kte(t,e,n){if(e.childName==null||n.childName==null)throw sl("Should only compare child_ events.");const i=new Ke(e.childName,e.snapshotNode),s=new Ke(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t,e){return{eventCache:t,serverCache:e}}function _c(t,e,n,i){return kM(new Kb(e,n,i),t.serverCache)}function RM(t,e,n,i){return kM(t.eventCache,new Kb(e,n,i))}function Jv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp;const Rte=()=>(dp||(dp=new On(pee)),dp);class mt{constructor(e,n=Rte()){this.value=e,this.children=n}static fromObject(e){let n=new mt(null);return vi(e,(i,s)=>{n=n.set(new bt(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:rt(),value:this.value};if(He(e))return null;{const i=Ge(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(vt(e),n);return r!=null?{path:Qt(new bt(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(He(e))return this;{const n=Ge(e),i=this.children.get(n);return i!==null?i.subtree(vt(e)):new mt(null)}}set(e,n){if(He(e))return new mt(n,this.children);{const i=Ge(e),r=(this.children.get(i)||new mt(null)).set(vt(e),n),o=this.children.insert(i,r);return new mt(this.value,o)}}remove(e){if(He(e))return this.children.isEmpty()?new mt(null):new mt(null,this.children);{const n=Ge(e),i=this.children.get(n);if(i){const s=i.remove(vt(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new mt(null):new mt(this.value,r)}else return this}}get(e){if(He(e))return this.value;{const n=Ge(e),i=this.children.get(n);return i?i.get(vt(e)):null}}setTree(e,n){if(He(e))return n;{const i=Ge(e),r=(this.children.get(i)||new mt(null)).setTree(vt(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new mt(this.value,o)}}fold(e){return this.fold_(rt(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(Qt(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,rt(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(He(e))return null;{const r=Ge(e),o=this.children.get(r);return o?o.findOnPath_(vt(e),Qt(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,rt(),n)}foreachOnPath_(e,n,i){if(He(e))return this;{this.value&&i(n,this.value);const s=Ge(e),r=this.children.get(s);return r?r.foreachOnPath_(vt(e),Qt(n,s),i):new mt(null)}}foreach(e){this.foreach_(rt(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Qt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.writeTree_=e}static empty(){return new Pi(new mt(null))}}function yc(t,e,n){if(He(e))return new Pi(new mt(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=ci(s,e);return r=r.updateChild(o,n),new Pi(t.writeTree_.set(s,r))}else{const s=new mt(n),r=t.writeTree_.setTree(e,s);return new Pi(r)}}}function JI(t,e,n){let i=t;return vi(n,(s,r)=>{i=yc(i,Qt(e,s),r)}),i}function ZI(t,e){if(He(e))return Pi.empty();{const n=t.writeTree_.setTree(e,new mt(null));return new Pi(n)}}function Zv(t,e){return Jo(t,e)!=null}function Jo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ci(n.path,e)):null}function eC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(vn,(i,s)=>{e.push(new Ke(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new Ke(i,s.value))}),e}function Sr(t,e){if(He(e))return t;{const n=Jo(t,e);return n!=null?new Pi(new mt(n)):new Pi(t.writeTree_.subtree(e))}}function e_(t){return t.writeTree_.isEmpty()}function Za(t,e){return OM(rt(),t.writeTree_,e)}function OM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(se(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=OM(Qt(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Qt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t,e){return FM(e,t)}function Ote(t,e,n,i,s){se(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=yc(t.visibleWrites,e,n)),t.lastWriteId=i}function Dte(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function Mte(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);se(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Nte(a,i.path)?s=!1:Ii(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return Lte(t),!0;if(i.snap)t.visibleWrites=ZI(t.visibleWrites,i.path);else{const a=i.children;vi(a,l=>{t.visibleWrites=ZI(t.visibleWrites,Qt(i.path,l))})}return!0}else return!1}function Nte(t,e){if(t.snap)return Ii(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ii(Qt(t.path,n),e))return!0;return!1}function Lte(t){t.visibleWrites=MM(t.allWrites,Vte,rt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Vte(t){return t.visible}function MM(t,e,n){let i=Pi.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let a;if(r.snap)Ii(n,o)?(a=ci(n,o),i=yc(i,a,r.snap)):Ii(o,n)&&(a=ci(o,n),i=yc(i,rt(),r.snap.getChild(a)));else if(r.children){if(Ii(n,o))a=ci(n,o),i=JI(i,a,r.children);else if(Ii(o,n))if(a=ci(o,n),He(a))i=JI(i,rt(),r.children);else{const l=La(r.children,Ge(a));if(l){const c=l.getChild(vt(a));i=yc(i,rt(),c)}}}else throw sl("WriteRecord should have .snap or .children")}}return i}function NM(t,e,n,i,s){if(!i&&!s){const r=Jo(t.visibleWrites,e);if(r!=null)return r;{const o=Sr(t.visibleWrites,e);if(e_(o))return n;if(n==null&&!Zv(o,rt()))return null;{const a=n||Je.EMPTY_NODE;return Za(o,a)}}}else{const r=Sr(t.visibleWrites,e);if(!s&&e_(r))return n;if(!s&&n==null&&!Zv(r,rt()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Ii(c.path,e)||Ii(e,c.path))},a=MM(t.allWrites,o,e),l=n||Je.EMPTY_NODE;return Za(a,l)}}}function Fte(t,e,n){let i=Je.EMPTY_NODE;const s=Jo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(vn,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=Sr(t.visibleWrites,e);return n.forEachChild(vn,(o,a)=>{const l=Za(Sr(r,new bt(o)),a);i=i.updateImmediateChild(o,l)}),eC(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Sr(t.visibleWrites,e);return eC(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function Bte(t,e,n,i,s){se(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=Qt(e,n);if(Zv(t.visibleWrites,r))return null;{const o=Sr(t.visibleWrites,r);return e_(o)?s.getChild(n):Za(o,s.getChild(n))}}function $te(t,e,n,i){const s=Qt(e,n),r=Jo(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=Sr(t.visibleWrites,s);return Za(o,i.getNode().getImmediateChild(n))}else return null}function Ute(t,e){return Jo(t.visibleWrites,e)}function jte(t,e,n,i,s,r,o){let a;const l=Sr(t.visibleWrites,e),c=Jo(l,rt());if(c!=null)a=c;else if(n!=null)a=Za(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),d=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=d.getNext();for(;f&&u.length<s;)h(f,i)!==0&&u.push(f),f=d.getNext();return u}else return[]}function zte(){return{visibleWrites:Pi.empty(),allWrites:[],lastWriteId:-1}}function t_(t,e,n,i){return NM(t.writeTree,t.treePath,e,n,i)}function LM(t,e){return Fte(t.writeTree,t.treePath,e)}function tC(t,e,n,i){return Bte(t.writeTree,t.treePath,e,n,i)}function _f(t,e){return Ute(t.writeTree,Qt(t.treePath,e))}function Hte(t,e,n,i,s,r){return jte(t.writeTree,t.treePath,e,n,i,s,r)}function Yb(t,e,n){return $te(t.writeTree,t.treePath,e,n)}function VM(t,e){return FM(Qt(t.treePath,e),t.writeTree)}function FM(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;se(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),se(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,KI(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,bte(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,yte(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,KI(i,e.snapshotNode,s.oldSnap));else throw sl("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const BM=new qte;class Xb{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Kb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yb(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bo(this.viewCache_),r=Hte(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}function Gte(t,e){se(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),se(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Kte(t,e,n,i,s){const r=new Wte;let o,a;if(n.type===Ki.OVERWRITE){const c=n;c.source.fromUser?o=n_(t,e,c.path,c.snap,i,s,r):(se(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!He(c.path),o=yf(t,e,c.path,c.snap,i,s,a,r))}else if(n.type===Ki.MERGE){const c=n;c.source.fromUser?o=Xte(t,e,c.path,c.children,i,s,r):(se(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=i_(t,e,c.path,c.children,i,s,a,r))}else if(n.type===Ki.ACK_USER_WRITE){const c=n;c.revert?o=Zte(t,e,c.path,i,s,r):o=Qte(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===Ki.LISTEN_COMPLETE)o=Jte(t,e,n.path,i,r);else throw sl("Unknown operation type: "+n.type);const l=r.getChanges();return Yte(e,o,l),{viewCache:o,changes:l}}function Yte(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Jv(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(_te(Jv(e)))}}function $M(t,e,n,i,s,r){const o=e.eventCache;if(_f(i,n)!=null)return e;{let a,l;if(He(n))if(se(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Bo(e),u=c instanceof Je?c:Je.EMPTY_NODE,h=LM(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=t_(i,Bo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=Ge(n);if(c===".priority"){se(Rr(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=tC(i,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=vt(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const d=tC(i,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(c).updateChild(u,d):h=o.getNode().getImmediateChild(c)}else h=Yb(i,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,r):a=o.getNode()}}return _c(e,a,o.isFullyInitialized()||He(n),t.filter.filtersNodes())}}function yf(t,e,n,i,s,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(He(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Ge(n);if(!l.isCompleteForPath(n)&&Rr(n)>1)return e;const g=vt(n),p=l.getNode().getImmediateChild(f).updateChild(g,i);f===".priority"?c=u.updatePriority(l.getNode(),p):c=u.updateChild(l.getNode(),f,p,g,BM,null)}const h=RM(e,c,l.isFullyInitialized()||He(n),u.filtersNodes()),d=new Xb(s,h,r);return $M(t,h,n,s,d,a)}function n_(t,e,n,i,s,r,o){const a=e.eventCache;let l,c;const u=new Xb(s,e,r);if(He(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=_c(e,c,!0,t.filter.filtersNodes());else{const h=Ge(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=_c(e,c,a.isFullyInitialized(),a.isFiltered());else{const d=vt(n),f=a.getNode().getImmediateChild(h);let g;if(He(d))g=i;else{const m=u.getCompleteChild(h);m!=null?pM(d)===".priority"&&m.getChild(_M(d)).isEmpty()?g=m:g=m.updateChild(d,i):g=Je.EMPTY_NODE}if(f.equals(g))l=e;else{const m=t.filter.updateChild(a.getNode(),h,g,d,u,o);l=_c(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function nC(t,e){return t.eventCache.isCompleteForChild(e)}function Xte(t,e,n,i,s,r,o){let a=e;return i.foreach((l,c)=>{const u=Qt(n,l);nC(e,Ge(u))&&(a=n_(t,a,u,c,s,r,o))}),i.foreach((l,c)=>{const u=Qt(n,l);nC(e,Ge(u))||(a=n_(t,a,u,c,s,r,o))}),a}function iC(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function i_(t,e,n,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;He(n)?c=i:c=new mt(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),g=iC(t,f,d);l=yf(t,l,new bt(h),g,s,r,o,a)}}),c.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!f){const g=e.serverCache.getNode().getImmediateChild(h),m=iC(t,g,d);l=yf(t,l,new bt(h),m,s,r,o,a)}}),l}function Qte(t,e,n,i,s,r,o){if(_f(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(He(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return yf(t,e,n,l.getNode().getChild(n),s,r,a,o);if(He(n)){let c=new mt(null);return l.getNode().forEachChild(ka,(u,h)=>{c=c.set(new bt(u),h)}),i_(t,e,n,c,s,r,a,o)}else return e}else{let c=new mt(null);return i.foreach((u,h)=>{const d=Qt(n,u);l.isCompleteForPath(d)&&(c=c.set(u,l.getNode().getChild(d)))}),i_(t,e,n,c,s,r,a,o)}}function Jte(t,e,n,i,s){const r=e.serverCache,o=RM(e,r.getNode(),r.isFullyInitialized()||He(n),r.isFiltered());return $M(t,o,n,i,BM,s)}function Zte(t,e,n,i,s,r){let o;if(_f(i,n)!=null)return e;{const a=new Xb(i,e,s),l=e.eventCache.getNode();let c;if(He(n)||Ge(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=t_(i,Bo(e));else{const h=e.serverCache.getNode();se(h instanceof Je,"serverChildren would be complete if leaf node"),u=LM(i,h)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=Ge(n);let h=Yb(i,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,vt(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Je.EMPTY_NODE,vt(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=t_(i,Bo(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||_f(i,rt())!=null,_c(e,c,o,t.filter.filtersNodes())}}function ene(t,e){const n=Bo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!He(e)&&!n.getImmediateChild(Ge(e)).isEmpty())?n.getChild(e):null}function sC(t,e,n,i){e.type===Ki.MERGE&&e.source.queryId!==null&&(se(Bo(t.viewCache_),"We should always have a full cache before handling merges"),se(Jv(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=Kte(t.processor_,s,e,n,i);return Gte(t.processor_,r.viewCache),se(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,tne(t,r.changes,r.viewCache.eventCache.getNode(),null)}function tne(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return Ate(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rC;function nne(t){se(!rC,"__referenceConstructor has already been defined"),rC=t}function Qb(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return se(r!=null,"SyncTree gave us an op for an invalid query."),sC(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(sC(o,e,n,i));return r}}function Jb(t,e){let n=null;for(const i of t.views.values())n=n||ene(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oC;function ine(t){se(!oC,"__referenceConstructor has already been defined"),oC=t}class aC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mt(null),this.pendingWriteTree_=zte(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sne(t,e,n,i,s){return Ote(t.pendingWriteTree_,e,n,i,s),s?em(t,new Fo(xM(),e,n)):[]}function _a(t,e,n=!1){const i=Dte(t.pendingWriteTree_,e);if(Mte(t.pendingWriteTree_,e)){let r=new mt(null);return i.snap!=null?r=r.set(rt(),!0):vi(i.children,o=>{r=r.set(new bt(o),!0)}),em(t,new vf(i.path,r,n))}else return[]}function Zg(t,e,n){return em(t,new Fo(AM(),e,n))}function rne(t,e,n){const i=mt.fromObject(n);return em(t,new cu(AM(),e,i))}function one(t,e,n,i){const s=HM(t,i);if(s!=null){const r=WM(s),o=r.path,a=r.queryId,l=ci(o,e),c=new Fo(PM(a),l,n);return qM(t,o,c)}else return[]}function ane(t,e,n,i){const s=HM(t,i);if(s){const r=WM(s),o=r.path,a=r.queryId,l=ci(o,e),c=mt.fromObject(n),u=new cu(PM(a),l,c);return qM(t,o,u)}else return[]}function UM(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ci(o,e),c=Jb(a,l);if(c)return c});return NM(s,e,r,n,!0)}function em(t,e){return jM(e,t.syncPointTree_,null,DM(t.pendingWriteTree_,rt()))}function jM(t,e,n,i){if(He(t.path))return zM(t,e,n,i);{const s=e.get(rt());n==null&&s!=null&&(n=Jb(s,rt()));let r=[];const o=Ge(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=VM(i,o);r=r.concat(jM(a,l,c,u))}return s&&(r=r.concat(Qb(s,t,i,n))),r}}function zM(t,e,n,i){const s=e.get(rt());n==null&&s!=null&&(n=Jb(s,rt()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=VM(i,o),u=t.operationForChild(o);u&&(r=r.concat(zM(u,a,l,c)))}),s&&(r=r.concat(Qb(s,t,i,n))),r}function HM(t,e){return t.tagToQueryMap.get(e)}function WM(t){const e=t.indexOf("$");return se(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new bt(t.substr(0,e))}}function qM(t,e,n){const i=t.syncPointTree_.get(e);se(i,"Missing sync point for query tag that we're tracking");const s=DM(t.pendingWriteTree_,e);return Qb(i,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Zb(n)}node(){return this.node_}}class e0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Qt(this.path_,e);return new e0(this.syncTree_,n)}node(){return UM(this.syncTree_,this.path_)}}const lne=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lC=function(t,e,n){if(!t||typeof t!="object")return t;if(se(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return cne(t[".sv"],e,n);if(typeof t[".sv"]=="object")return une(t[".sv"],e);se(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},cne=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:se(!1,"Unexpected server value: "+t)}},une=function(t,e,n){t.hasOwnProperty("increment")||se(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&se(!1,"Unexpected increment value: "+i);const s=e.node();if(se(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},hne=function(t,e,n,i){return t0(e,new e0(n,t),i)},dne=function(t,e,n){return t0(t,new Zb(e),n)};function t0(t,e,n){const i=t.getPriority().val(),s=lC(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=lC(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Kt(a,fn(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Kt(s))),o.forEachChild(vn,(a,l)=>{const c=t0(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function i0(t,e){let n=e instanceof bt?e:new bt(e),i=t,s=Ge(n);for(;s!==null;){const r=La(i.node.children,s)||{children:{},childCount:0};i=new n0(s,i,r),n=vt(n),s=Ge(n)}return i}function yl(t){return t.node.value}function GM(t,e){t.node.value=e,s_(t)}function KM(t){return t.node.childCount>0}function fne(t){return yl(t)===void 0&&!KM(t)}function tm(t,e){vi(t.node.children,(n,i)=>{e(new n0(n,t,i))})}function YM(t,e,n,i){n&&!i&&e(t),tm(t,s=>{YM(s,e,!0,i)}),n&&i&&e(t)}function gne(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ju(t){return new bt(t.parent===null?t.name:Ju(t.parent)+"/"+t.name)}function s_(t){t.parent!==null&&mne(t.parent,t.name,t)}function mne(t,e,n){const i=fne(n),s=zs(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,s_(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,s_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pne=/[\[\].#$\/\u0000-\u001F\u007F]/,vne=/[\[\].#$\u0000-\u001F\u007F]/,fp=10*1024*1024,XM=function(t){return typeof t=="string"&&t.length!==0&&!pne.test(t)},_ne=function(t){return typeof t=="string"&&t.length!==0&&!vne.test(t)},yne=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_ne(t)},QM=function(t,e,n){const i=n instanceof bt?new Jee(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+eo(i));if(typeof e=="function")throw new Error(t+"contains a function "+eo(i)+" with contents = "+e.toString());if(XD(e))throw new Error(t+"contains "+e.toString()+" "+eo(i));if(typeof e=="string"&&e.length>fp/3&&jf(e)>fp)throw new Error(t+"contains a string greater than "+fp+" utf8 bytes "+eo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(vi(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!XM(o)))throw new Error(t+" contains an invalid key ("+o+") "+eo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Zee(i,o),QM(t,a,i),ete(i)}),s&&r)throw new Error(t+' contains ".value" child '+eo(i)+" in addition to actual children.")}},bne=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!XM(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!yne(n))throw new Error(u$(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sne(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!yM(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function Zo(t,e,n){Sne(t,n),Tne(t,i=>Ii(i,e)||Ii(e,i))}function Tne(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(Ene(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Ene(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();bo&&dn("event: "+n.toString()),Xu(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ine="repo_interrupt",Cne=25;class xne{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pf(),this.transactionQueueTree_=new n0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ane(t,e,n){if(t.stats_=zb(t.repoInfo_),t.forceRestClient_||See())t.server_=new mf(t.repoInfo_,(i,s,r,o)=>{cC(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>uC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{sn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Ms(t.repoInfo_,e,(i,s,r,o)=>{cC(t,i,s,r,o)},i=>{uC(t,i)},i=>{kne(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Aee(t.repoInfo_,()=>new xte(t.stats_,t.server_)),t.infoData_=new Ste,t.infoSyncTree_=new aC({startListening:(i,s,r,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Zg(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),s0(t,"connected",!1),t.serverSyncTree_=new aC({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(a,l)=>{const c=o(a,l);Zo(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function Pne(t){const n=t.infoData_.getNode(new bt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function JM(t){return lne({timestamp:Pne(t)})}function cC(t,e,n,i,s){t.dataUpdateCount++;const r=new bt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const l=xd(n,c=>fn(c));o=ane(t.serverSyncTree_,r,l,s)}else{const l=fn(n);o=one(t.serverSyncTree_,r,l,s)}else if(i){const l=xd(n,c=>fn(c));o=rne(t.serverSyncTree_,r,l)}else{const l=fn(n);o=Zg(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=o0(t,r)),Zo(t.eventQueue_,a,o)}function uC(t,e){s0(t,"connected",e),e===!1&&One(t)}function kne(t,e){vi(e,(n,i)=>{s0(t,n,i)})}function s0(t,e,n){const i=new bt("/.info/"+e),s=fn(n);t.infoData_.updateSnapshot(i,s);const r=Zg(t.infoSyncTree_,i,s);Zo(t.eventQueue_,i,r)}function Rne(t){return t.nextWriteId_++}function One(t){ZM(t,"onDisconnectEvents");const e=JM(t),n=pf();Qv(t.onDisconnect_,rt(),(s,r)=>{const o=hne(s,r,t.serverSyncTree_,e);CM(n,s,o)});let i=[];Qv(n,rt(),(s,r)=>{i=i.concat(Zg(t.serverSyncTree_,s,r));const o=Lne(t,s);o0(t,o)}),t.onDisconnect_=pf(),Zo(t.eventQueue_,rt(),i)}function Dne(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ine)}function ZM(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dn(n,...e)}function eN(t,e,n){return UM(t.serverSyncTree_,e,n)||Je.EMPTY_NODE}function r0(t,e=t.transactionQueueTree_){if(e||nm(t,e),yl(e)){const n=nN(t,e);se(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Mne(t,Ju(e),n)}else KM(e)&&tm(e,n=>{r0(t,n)})}function Mne(t,e,n){const i=n.map(c=>c.currentWriteId),s=eN(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];se(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=ci(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ZM(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(_a(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();nm(t,i0(t.transactionQueueTree_,e)),r0(t,t.transactionQueueTree_),Zo(t.eventQueue_,e,u);for(let d=0;d<h.length;d++)Xu(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Jn("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}o0(t,e)}},o)}function o0(t,e){const n=tN(t,e),i=Ju(n),s=nN(t,n);return Nne(t,s,i),i}function Nne(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ci(n,l.path);let u=!1,h;if(se(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(_a(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Cne)u=!0,h="maxretry",s=s.concat(_a(t.serverSyncTree_,l.currentWriteId,!0));else{const d=eN(t,l.path,o);l.currentInputSnapshot=d;const f=e[a].update(d.val());if(f!==void 0){QM("transaction failed: Data returned ",f,l.path);let g=fn(f);typeof f=="object"&&f!=null&&zs(f,".priority")||(g=g.updatePriority(d.getPriority()));const p=l.currentWriteId,v=JM(t),y=dne(g,d,v);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=y,l.currentWriteId=Rne(t),o.splice(o.indexOf(p),1),s=s.concat(sne(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),s=s.concat(_a(t.serverSyncTree_,p,!0))}else u=!0,h="nodata",s=s.concat(_a(t.serverSyncTree_,l.currentWriteId,!0))}Zo(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(h),!1,null))))}nm(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Xu(i[a]);r0(t,t.transactionQueueTree_)}function tN(t,e){let n,i=t.transactionQueueTree_;for(n=Ge(e);n!==null&&yl(i)===void 0;)i=i0(i,n),e=vt(e),n=Ge(e);return i}function nN(t,e){const n=[];return iN(t,e,n),n.sort((i,s)=>i.order-s.order),n}function iN(t,e,n){const i=yl(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);tm(e,s=>{iN(t,s,n)})}function nm(t,e){const n=yl(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,GM(e,n.length>0?n:void 0)}tm(e,i=>{nm(t,i)})}function Lne(t,e){const n=Ju(tN(t,e)),i=i0(t.transactionQueueTree_,e);return gne(i,s=>{gp(t,s)}),gp(t,i),YM(i,s=>{gp(t,s)}),n}function gp(t,e){const n=yl(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(se(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(se(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(_a(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?GM(e,void 0):n.length=r+1,Zo(t.eventQueue_,Ju(e),s);for(let o=0;o<i.length;o++)Xu(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vne(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Fne(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Jn(`Invalid query segment '${n}' in query '${t}'`)}return e}const hC=function(t,e){const n=Bne(t),i=n.namespace;n.domain==="firebase.com"&&Lo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Lo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gee();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Iee(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new bt(n.pathString)}},Bne=function(t){let e="",n="",i="",s="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=Vne(t.substring(u,h)));const d=Fne(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),r=i}"ns"in d&&(r=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return He(this._path)?null:pM(this._path)}get ref(){return new bl(this._repo,this._path)}get _queryIdentifier(){const e=XI(this._queryParams),n=Ub(e);return n==="{}"?"default":n}get _queryObject(){return XI(this._queryParams)}isEqual(e){if(e=Fn(e),!(e instanceof a0))return!1;const n=this._repo===e._repo,i=yM(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Qee(this._path)}}class bl extends a0{constructor(e,n){super(e,n,new Gb,!1)}get parent(){const e=_M(this._path);return e===null?null:new bl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}nne(bl);ine(bl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne="FIREBASE_DATABASE_EMULATOR_HOST",r_={};let Une=!1;function jne(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||Lo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=hC(r,s),a=o.repoInfo,l,c;typeof process<"u"&&RI&&(c=RI[$ne]),c?(l=!0,r=`http://${c}?ns=${a.namespace}`,o=hC(r,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Kv(Kv.OWNER):new Eee(t.name,t.options,e);bne("Invalid Firebase Database URL",o),He(o.path)||Lo("Database URL must point to the root of a Firebase Database (not including a child path).");const h=Hne(a,t,u,new Tee(t.name,n));return new Wne(h,t)}function zne(t,e){const n=r_[e];(!n||n[t.key]!==t)&&Lo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Dne(t),delete n[t.key]}function Hne(t,e,n,i){let s=r_[e.name];s||(s={},r_[e.name]=s);let r=s[t.toURLString()];return r&&Lo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new xne(t,Une,n,i),s[t.toURLString()]=r,r}class Wne{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ane(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bl(this._repo,rt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zne(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Lo("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qne(t){cee(Dr),is(new Ri("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return jne(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),Qn(OI,DI,t),Qn(OI,DI,"esm2017")}Ms.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ms.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};qne();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebasestorage.googleapis.com",Gne="storageBucket",Kne=2*60*1e3,Yne=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends hs{constructor(e,n,i=0){super(mp(e),`Firebase Storage: ${n} (${mp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ms.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var as;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(as||(as={}));function mp(t){return"storage/"+t}function Xne(){const t="An unknown error occurred, please check the error payload for server response.";return new ms(as.UNKNOWN,t)}function Qne(){return new ms(as.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jne(){return new ms(as.CANCELED,"User canceled the upload/download.")}function Zne(t){return new ms(as.INVALID_URL,"Invalid URL '"+t+"'.")}function eie(t){return new ms(as.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dC(t){return new ms(as.INVALID_ARGUMENT,t)}function rN(){return new ms(as.APP_DELETED,"The Firebase app was deleted.")}function tie(t){return new ms(as.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ci.makeFromUrl(e,n)}catch{return new Ci(e,"")}if(i.path==="")return i;throw eie(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${s}/o${d}`,"i"),g={bucket:1,path:3},m=n===sN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,p="([^?#]*)",v=new RegExp(`^https?://${m}/${s}/${p}`,"i"),w=[{regex:a,indices:l,postModify:r},{regex:f,indices:g,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<w.length;b++){const S=w[b],E=S.regex.exec(e);if(E){const T=E[S.indices.bucket];let C=E[S.indices.path];C||(C=""),i=new Ci(T,C),S.postModify(i);break}}if(i==null)throw Zne(e);return i}}class nie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(t,e,n){let i=1,s=null,r=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...p){c||(c=!0,e.apply(null,p))}function h(p){s=setTimeout(()=>{s=null,t(f,l())},p)}function d(){r&&clearTimeout(r)}function f(p,...v){if(c){d();return}if(p){d(),u.call(null,p,...v);return}if(l()||o){d(),u.call(null,p,...v);return}i<64&&(i*=2);let w;a===1?(a=2,w=0):w=(i+Math.random())*1e3,h(w)}let g=!1;function m(p){g||(g=!0,d(),!c&&(s!==null?(p||(a=2),clearTimeout(s),h(0)):p||(a=1)))}return h(0),r=setTimeout(()=>{o=!0,m(!0)},n),m}function sie(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rie(t){return t!==void 0}function fC(t,e,n,i){if(i<e)throw dC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw dC(`Invalid value for '${t}'. Expected ${n} or less.`)}function oie(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(bf||(bf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aie(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{constructor(e,n,i,s,r,o,a,l,c,u,h,d=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Uh(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const a=r.getErrorCode()===bf.NO_ERROR,l=r.getStatus();if(!a||aie(l,this.additionalRetryCodes_)&&this.retry){const u=r.getErrorCode()===bf.ABORT;i(!1,new Uh(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new Uh(c,r))})},n=(i,s)=>{const r=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());rie(l)?r(l):r()}catch(l){o(l)}else if(a!==null){const l=Xne();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?rN():Jne();o(l)}else{const l=Qne();o(l)}};this.canceled_?n(!1,new Uh(!1,null,!0)):this.backoffId_=iie(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sie(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function cie(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uie(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hie(t,e){e&&(t["X-Firebase-GMPID"]=e)}function die(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fie(t,e,n,i,s,r,o=!0){const a=oie(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return hie(c,e),cie(c,n),uie(c,r),die(c,i),new lie(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gie(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mie(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this._service=e,n instanceof Ci?this._location=n:this._location=Ci.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new wf(e,n)}get root(){const e=new Ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mie(this._location.path)}get storage(){return this._service}get parent(){const e=gie(this._location.path);if(e===null)return null;const n=new Ci(this._location.bucket,e);return new wf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tie(e)}}function gC(t,e){const n=e==null?void 0:e[Gne];return n==null?null:Ci.makeFromBucketSpec(n,t)}class pie{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=sN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kne,this._maxUploadRetryTime=Yne,this._requests=new Set,s!=null?this._bucket=Ci.makeFromBucketSpec(s,this._host):this._bucket=gC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ci.makeFromBucketSpec(this._url,e):this._bucket=gC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wf(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new nie(rN());{const o=fie(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const mC="@firebase/storage",pC="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie="storage";function _ie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new pie(n,i,s,e,Dr)}function yie(){is(new Ri(vie,_ie,"PUBLIC").setMultipleInstances(!0)),Qn(mC,pC,""),Qn(mC,pC,"esm2017")}yie();function bie(t){return Sie({initialUser:t,dependencies:{popupRedirectResolver:AZ,persistence:[BJ,xJ,VD]}})}const wie=Symbol("VueFireAuth");function Sie({dependencies:t,initialUser:e}){return(n,i)=>{const[s,r]=Tie(n,i,e,t);lee(s,r)}}function Tie(t,e,n,i,s=vJ(t,i)){const r=ree(t,e).run(()=>ae(n));return oee.set(t,r),e.provide(wie,s),[r,s]}function Eie(t,{firebaseApp:e,modules:n=[]}){t.provide(qD,e);for(const i of n)i(e,t)}function Iie(t){t.use(O2).use(wr).use(Eie,{firebaseApp:nR,modules:[bie()]})}const Cie=cs({name:"App",data:()=>({}),mounted(){console.log(wr.currentRoute.value.name)},components:{},setup(){return{router:wr}},methods:{logout(){for(let t in li.get())li.remove(t);wr.push("/login")}}}),xie="/school-nutrition/assets/profe-BTbrlapZ.png",Aie=j({...xe(),...C2({fullHeight:!0}),...Et()},"VApp"),Pie=he()({name:"VApp",props:Aie(),setup(t,e){let{slots:n}=e;const i=Mt(t),{layoutClasses:s,getLayoutItem:r,items:o,layoutRef:a}=P2(t),{rtlClasses:l}=yi();return be(()=>{var c;return _("div",{ref:a,class:["v-application",i.themeClasses.value,s.value,l.value,t.class],style:[t.style]},[_("div",{class:"v-application__wrap"},[(c=n.default)==null?void 0:c.call(n)])])}),{getLayoutItem:r,items:o,theme:i}}}),kie=j({scrollable:Boolean,...xe(),...at({tag:"main"})},"VMain"),Rie=he()({name:"VMain",props:kie(),setup(t,e){let{slots:n}=e;const{mainStyles:i}=x2(),{ssrBootStyles:s}=Lu();return be(()=>_(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[i.value,s.value,t.style]},{default:()=>{var r,o;return[t.scrollable?_("div",{class:"v-main__scroller"},[(r=n.default)==null?void 0:r.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function Oie(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const s=fe(!1),r=fe(0),o=I(()=>{const c=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[c]:_e(r.value)}:{top:i.value.top}]});_i(()=>{ve(n,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Sn(()=>{window.removeEventListener("scroll",l)});let a=0;function l(){const c=a>window.scrollY?"up":"down",u=e.value.getBoundingClientRect(),h=parseFloat(i.value.top??0),d=window.scrollY-Math.max(0,r.value-h),f=u.height+Math.max(r.value,h)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-h?(s.value="top",r.value=h):c==="up"&&s.value==="bottom"||c==="down"&&s.value==="top"?(r.value=window.scrollY+u.top-g,s.value=!0):c==="down"&&f<=0?(r.value=0,s.value="bottom"):c==="up"&&d<=0&&(g?s.value!=="top"&&(r.value=-d+g+h,s.value="top"):(r.value=u.top+d,s.value="top")),a=window.scrollY}return{isStuck:s,stickyStyles:o}}const Die=100,Mie=20;function vC(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function _C(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=vC(e),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(s-i)*Math.abs(s),n===t.length-1&&(e*=.5)}return vC(e)*1e3}function Nie(){const t={};function e(s){Array.from(s.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new UV(Mie))).push([s.timeStamp,r])})}function n(s){Array.from(s.changedTouches).forEach(r=>{delete t[r.identifier]})}function i(s){var c;const r=(c=t[s])==null?void 0:c.values().reverse();if(!r)throw new Error(`No samples for touch id ${s}`);const o=r[0],a=[],l=[];for(const u of r){if(o[0]-u[0]>Die)break;a.push({t:u[0],d:u[1].clientX}),l.push({t:u[0],d:u[1].clientY})}return{x:_C(a),y:_C(l),get direction(){const{x:u,y:h}=this,[d,f]=[Math.abs(u),Math.abs(h)];return d>f&&u>=0?"right":d>f&&u<=0?"left":f>d&&h>=0?"down":f>d&&h<=0?"up":Lie()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function Lie(){throw new Error}function Vie(t){let{isActive:e,isTemporary:n,width:i,touchless:s,position:r}=t;_i(()=>{window.addEventListener("touchstart",v,{passive:!0}),window.addEventListener("touchmove",y,{passive:!1}),window.addEventListener("touchend",w,{passive:!0})}),Sn(()=>{window.removeEventListener("touchstart",v),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",w)});const o=I(()=>["left","right"].includes(r.value)),{addMovement:a,endTouch:l,getVelocity:c}=Nie();let u=!1;const h=fe(!1),d=fe(0),f=fe(0);let g;function m(S,E){return(r.value==="left"?S:r.value==="right"?document.documentElement.clientWidth-S:r.value==="top"?S:r.value==="bottom"?document.documentElement.clientHeight-S:la())-(E?i.value:0)}function p(S){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const T=r.value==="left"?(S-f.value)/i.value:r.value==="right"?(document.documentElement.clientWidth-S-f.value)/i.value:r.value==="top"?(S-f.value)/i.value:r.value==="bottom"?(document.documentElement.clientHeight-S-f.value)/i.value:la();return E?Math.max(0,Math.min(1,T)):T}function v(S){if(s.value)return;const E=S.changedTouches[0].clientX,T=S.changedTouches[0].clientY,C=25,P=r.value==="left"?E<C:r.value==="right"?E>document.documentElement.clientWidth-C:r.value==="top"?T<C:r.value==="bottom"?T>document.documentElement.clientHeight-C:la(),R=e.value&&(r.value==="left"?E<i.value:r.value==="right"?E>document.documentElement.clientWidth-i.value:r.value==="top"?T<i.value:r.value==="bottom"?T>document.documentElement.clientHeight-i.value:la());(P||R||e.value&&n.value)&&(u=!0,g=[E,T],f.value=m(o.value?E:T,e.value),d.value=p(o.value?E:T),l(S),a(S))}function y(S){const E=S.changedTouches[0].clientX,T=S.changedTouches[0].clientY;if(u){if(!S.cancelable){u=!1;return}const P=Math.abs(E-g[0]),R=Math.abs(T-g[1]);(o.value?P>R&&P>3:R>P&&R>3)?(h.value=!0,u=!1):(o.value?R:P)>3&&(u=!1)}if(!h.value)return;S.preventDefault(),a(S);const C=p(o.value?E:T,!1);d.value=Math.max(0,Math.min(1,C)),C>1?f.value=m(o.value?E:T,!0):C<0&&(f.value=m(o.value?E:T,!1))}function w(S){if(u=!1,!h.value)return;a(S),h.value=!1;const E=c(S.changedTouches[0].identifier),T=Math.abs(E.x),C=Math.abs(E.y);(o.value?T>C&&T>400:C>T&&C>3)?e.value=E.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||la()):e.value=d.value>.5}const b=I(()=>h.value?{transform:r.value==="left"?`translateX(calc(-100% + ${d.value*i.value}px))`:r.value==="right"?`translateX(calc(100% - ${d.value*i.value}px))`:r.value==="top"?`translateY(calc(-100% + ${d.value*i.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${d.value*i.value}px))`:la(),transition:"none"}:void 0);return{isDragging:h,dragProgress:d,dragStyles:b}}function la(){throw new Error}const Fie=["start","end","left","right","top","bottom"],Bie=j({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Fie.includes(t)},sticky:Boolean,...Hs(),...xe(),...sA(),...ds(),...lA(),...Un(),...at({tag:"nav"}),...Et()},"VNavigationDrawer"),$ie=he()({name:"VNavigationDrawer",props:Bie(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{isRtl:r}=yi(),{themeClasses:o}=Mt(t),{borderClasses:a}=Vr(t),{backgroundColorClasses:l,backgroundColorStyles:c}=mi(ne(t,"color")),{elevationClasses:u}=Ws(t),{displayClasses:h,mobile:d}=gu(t),{roundedClasses:f}=ei(t),g=aR(),m=Ze(t,"modelValue",null,$=>!!$),{ssrBootStyles:p}=Lu(),{scopeId:v}=Ab(),y=ae(),w=fe(!1),b=I(()=>t.rail&&t.expandOnHover&&w.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),S=I(()=>Ap(t.location,r.value)),E=I(()=>!t.permanent&&(d.value||t.temporary)),T=I(()=>t.sticky&&!E.value&&S.value!=="bottom");xi(()=>t.expandOnHover&&t.rail!=null,()=>{ve(w,$=>i("update:rail",!$))}),xi(()=>!t.disableResizeWatcher,()=>{ve(E,$=>!t.permanent&&$t(()=>m.value=!$))}),xi(()=>!t.disableRouteWatcher&&!!g,()=>{ve(g.currentRoute,()=>E.value&&(m.value=!1))}),ve(()=>t.permanent,$=>{$&&(m.value=!0)}),Rf(()=>{t.modelValue!=null||E.value||(m.value=t.permanent||!d.value)});const{isDragging:C,dragProgress:P,dragStyles:R}=Vie({isActive:m,isTemporary:E,width:b,touchless:ne(t,"touchless"),position:S}),D=I(()=>{const $=E.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):b.value;return C.value?$*P.value:$}),{layoutItemStyles:k,layoutItemScrimStyles:O}=cA({id:t.name,order:I(()=>parseInt(t.order,10)),position:S,layoutSize:D,elementSize:b,active:I(()=>m.value||C.value),disableTransitions:I(()=>C.value),absolute:I(()=>t.absolute||T.value&&typeof V.value!="string")}),{isStuck:V,stickyStyles:B}=Oie({rootEl:y,isSticky:T,layoutItemStyles:k}),X=mi(I(()=>typeof t.scrim=="string"?t.scrim:null)),K=I(()=>({...C.value?{opacity:P.value*.2,transition:"none"}:void 0,...O.value}));gi({VList:{bgColor:"transparent"}});function L(){w.value=!0}function z(){w.value=!1}return be(()=>{const $=s.image||t.image;return _(Oe,null,[_(t.tag,Se({ref:y,onMouseenter:L,onMouseleave:z,class:["v-navigation-drawer",`v-navigation-drawer--${S.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":w.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":E.value,"v-navigation-drawer--active":m.value,"v-navigation-drawer--sticky":T.value},o.value,l.value,a.value,h.value,u.value,f.value,t.class],style:[c.value,k.value,R.value,p.value,B.value,t.style]},v,n),{default:()=>{var W,Y,ce;return[$&&_("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?_(Ct,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},s.image):_(Mu,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),s.prepend&&_("div",{class:"v-navigation-drawer__prepend"},[(W=s.prepend)==null?void 0:W.call(s)]),_("div",{class:"v-navigation-drawer__content"},[(Y=s.default)==null?void 0:Y.call(s)]),s.append&&_("div",{class:"v-navigation-drawer__append"},[(ce=s.append)==null?void 0:ce.call(s)])]}}),_(ns,{name:"fade-transition"},{default:()=>[E.value&&(C.value||m.value)&&!!t.scrim&&_("div",Se({class:["v-navigation-drawer__scrim",X.backgroundColorClasses.value],style:[K.value,X.backgroundColorStyles.value],onClick:()=>m.value=!1},v),null)]})])}),{isStuck:V}}}),Uie={class:"pa-2"};function jie(t,e,n,i,s,r){const o=T_("router-view");return Vt(),In(Pie,null,{default:oe(()=>[_(Rie,{class:"gradient-background"},{default:oe(()=>[t.router.currentRoute.value.name!="login"&&t.router.currentRoute.value.name!="profesorado"?(Vt(),In($ie,{key:0,color:"#3d3d3d",permanent:""},{append:oe(()=>[du("div",Uie,[_(Ht,{onClick:t.logout,block:""},{default:oe(()=>[It(" Salir ")]),_:1},8,["onClick"])])]),default:oe(()=>[_(J7,{align:"center",class:"mt-2"},{default:oe(()=>[_(Mu,{"aspect-ratio":"1/1",width:"128",class:"rounded",src:xie})]),_:1}),_(hr,{title:"Ciencias Naturales 🔬💻 TIC",subtitle:"Diseñada por la docente Laura Rodriguez Sedeño"}),_(qg),_(hr,{link:"",title:"Calendario",to:"calendario"}),_(hr,{link:"",title:"1º Encuesta",to:"encuesta"}),_(hr,{link:"",title:"2º Encuesta",to:"encuesta2"})]),_:1})):wo("",!0),_(o)]),_:1})]),_:1})}const zie=Go(Cie,[["render",jie]]),oN=kV(zie);Iie(oN);oN.mount("#app")});export default Hie();
